!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=14)}([function(e,n,t){"use strict";t.r(n),t.d(n,"render",(function(){return D})),t.d(n,"hydrate",(function(){return T})),t.d(n,"createElement",(function(){return h})),t.d(n,"h",(function(){return h})),t.d(n,"Fragment",(function(){return g})),t.d(n,"createRef",(function(){return v})),t.d(n,"isValidElement",(function(){return o})),t.d(n,"Component",(function(){return y})),t.d(n,"cloneElement",(function(){return B})),t.d(n,"createContext",(function(){return M})),t.d(n,"toChildArray",(function(){return O})),t.d(n,"_unmount",(function(){return A})),t.d(n,"options",(function(){return r}));var r,o,u,i,l,a,c,s={},f=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function p(e,n){for(var t in n)e[t]=n[t];return e}function _(e){var n=e.parentNode;n&&n.removeChild(e)}function h(e,n,t){var r,o=arguments,u={};for(r in n)"key"!==r&&"ref"!==r&&(u[r]=n[r]);if(arguments.length>3)for(t=[t],r=3;r<arguments.length;r++)t.push(o[r]);if(null!=t&&(u.children=t),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===u[r]&&(u[r]=e.defaultProps[r]);return m(e,u,n&&n.key,n&&n.ref)}function m(e,n,t,o){var u={type:e,props:n,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return r.vnode&&r.vnode(u),u}function v(){return{}}function g(e){return e.children}function y(e,n){this.props=e,this.context=n}function b(e,n){if(null==n)return e.__?b(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?b(e):null}function C(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return C(e)}}function k(e){(!e.__d&&(e.__d=!0)&&1===u.push(e)||l!==r.debounceRendering)&&((l=r.debounceRendering)||i)(w)}function w(){var e,n,t,r,o,i,l;for(u.sort((function(e,n){return n.__v.__b-e.__v.__b}));e=u.pop();)e.__d&&(t=void 0,r=void 0,i=(o=(n=e).__v).__e,(l=n.__P)&&(t=[],r=R(l,o,p({},o),n.__n,void 0!==l.ownerSVGElement,null,t,null==i?b(o):i),N(t,o),r!=i&&C(o)))}function x(e,n,t,r,o,u,i,l,a){var c,d,p,h,m,v,g,y=t&&t.__k||f,C=y.length;if(l==s&&(l=null!=u?u[0]:C?b(t,0):null),c=0,n.__k=O(n.__k,(function(t){if(null!=t){if(t.__=n,t.__b=n.__b+1,null===(p=y[c])||p&&t.key==p.key&&t.type===p.type)y[c]=void 0;else for(d=0;d<C;d++){if((p=y[d])&&t.key==p.key&&t.type===p.type){y[d]=void 0;break}p=null}if(h=R(e,t,p=p||s,r,o,u,i,l,a),(d=t.ref)&&p.ref!=d&&(g||(g=[]),p.ref&&g.push(p.ref,null,t),g.push(d,t.__c||h,t)),null!=h){if(null==v&&(v=h),null!=t.__d)h=t.__d,t.__d=null;else if(u==p||h!=l||null==h.parentNode){e:if(null==l||l.parentNode!==e)e.appendChild(h);else{for(m=l,d=0;(m=m.nextSibling)&&d<C;d+=2)if(m==h)break e;e.insertBefore(h,l)}"option"==n.type&&(e.value="")}l=h.nextSibling,"function"==typeof n.type&&(n.__d=h)}}return c++,t})),n.__e=v,null!=u&&"function"!=typeof n.type)for(c=u.length;c--;)null!=u[c]&&_(u[c]);for(c=C;c--;)null!=y[c]&&A(y[c],y[c]);if(g)for(c=0;c<g.length;c++)H(g[c],g[++c],g[++c])}function O(e,n,t){if(null==t&&(t=[]),null==e||"boolean"==typeof e)n&&t.push(n(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)O(e[r],n,t);else t.push(n?n("string"==typeof e||"number"==typeof e?m(null,e,null,null):null!=e.__e||null!=e.__c?m(e.type,e.props,e.key,null):e):e);return t}function E(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]="number"==typeof t&&!1===d.test(n)?t+"px":null==t?"":t}function S(e,n,t,r,o){var u,i,l,a,c;if(o?"className"===n&&(n="class"):"class"===n&&(n="className"),"key"===n||"children"===n);else if("style"===n)if(u=e.style,"string"==typeof t)u.cssText=t;else{if("string"==typeof r&&(u.cssText="",r=null),r)for(i in r)t&&i in t||E(u,i,"");if(t)for(l in t)r&&t[l]===r[l]||E(u,l,t[l])}else"o"===n[0]&&"n"===n[1]?(a=n!==(n=n.replace(/Capture$/,"")),c=n.toLowerCase(),n=(c in e?c:n).slice(2),t?(r||e.addEventListener(n,P,a),(e.l||(e.l={}))[n]=t):e.removeEventListener(n,P,a)):"list"!==n&&"tagName"!==n&&"form"!==n&&"type"!==n&&!o&&n in e?e[n]=null==t?"":t:"function"!=typeof t&&"dangerouslySetInnerHTML"!==n&&(n!==(n=n.replace(/^xlink:?/,""))?null==t||!1===t?e.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),t):null==t||!1===t?e.removeAttribute(n):e.setAttribute(n,t))}function P(e){this.l[e.type](r.event?r.event(e):e)}function R(e,n,t,o,u,i,l,a,c){var s,f,d,_,h,m,v,b,C,k,w=n.type;if(void 0!==n.constructor)return null;(s=r.__b)&&s(n);try{e:if("function"==typeof w){if(b=n.props,C=(s=w.contextType)&&o[s.__c],k=s?C?C.props.value:s.__:o,t.__c?v=(f=n.__c=t.__c).__=f.__E:("prototype"in w&&w.prototype.render?n.__c=f=new w(b,k):(n.__c=f=new y(b,k),f.constructor=w,f.render=F),C&&C.sub(f),f.props=b,f.state||(f.state={}),f.context=k,f.__n=o,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=w.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=p({},f.__s)),p(f.__s,w.getDerivedStateFromProps(b,f.__s))),_=f.props,h=f.state,d)null==w.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==w.getDerivedStateFromProps&&b!==_&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(b,k),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(b,f.__s,k)){for(f.props=b,f.state=f.__s,f.__d=!1,f.__v=n,n.__e=t.__e,n.__k=t.__k,f.__h.length&&l.push(f),s=0;s<n.__k.length;s++)n.__k[s]&&(n.__k[s].__=n);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(b,f.__s,k),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(_,h,m)}))}f.context=k,f.props=b,f.state=f.__s,(s=r.__r)&&s(n),f.__d=!1,f.__v=n,f.__P=e,s=f.render(f.props,f.state,f.context),n.__k=O(null!=s&&s.type==g&&null==s.key?s.props.children:s),null!=f.getChildContext&&(o=p(p({},o),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(m=f.getSnapshotBeforeUpdate(_,h)),x(e,n,t,o,u,i,l,a,c),f.base=n.__e,f.__h.length&&l.push(f),v&&(f.__E=f.__=null),f.__e=null}else n.__e=j(t.__e,n,t,o,u,i,l,c);(s=r.diffed)&&s(n)}catch(e){r.__e(e,n,t)}return n.__e}function N(e,n){r.__c&&r.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){r.__e(e,n.__v)}}))}function j(e,n,t,r,o,u,i,l){var a,c,d,p,_,h=t.props,m=n.props;if(o="svg"===n.type||o,null==e&&null!=u)for(a=0;a<u.length;a++)if(null!=(c=u[a])&&(null===n.type?3===c.nodeType:c.localName===n.type)){e=c,u[a]=null;break}if(null==e){if(null===n.type)return document.createTextNode(m);e=o?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),u=null}if(null===n.type)null!=u&&(u[u.indexOf(e)]=null),h!==m&&e.data!=m&&(e.data=m);else if(n!==t){if(null!=u&&(u=f.slice.call(e.childNodes)),d=(h=t.props||s).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!l){if(h===s)for(h={},_=0;_<e.attributes.length;_++)h[e.attributes[_].name]=e.attributes[_].value;(p||d)&&(p&&d&&p.__html==d.__html||(e.innerHTML=p&&p.__html||""))}(function(e,n,t,r,o){var u;for(u in t)u in n||S(e,u,null,t[u],r);for(u in n)o&&"function"!=typeof n[u]||"value"===u||"checked"===u||t[u]===n[u]||S(e,u,n[u],t[u],r)})(e,m,h,o,l),n.__k=n.props.children,p||x(e,n,t,r,"foreignObject"!==n.type&&o,u,i,s,l),l||("value"in m&&void 0!==m.value&&m.value!==e.value&&(e.value=null==m.value?"":m.value),"checked"in m&&void 0!==m.checked&&m.checked!==e.checked&&(e.checked=m.checked))}return e}function H(e,n,t){try{"function"==typeof e?e(n):e.current=n}catch(e){r.__e(e,t)}}function A(e,n,t){var o,u,i;if(r.unmount&&r.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||H(o,null,n)),t||"function"==typeof e.type||(t=null!=(u=e.__e)),e.__e=e.__d=null,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){r.__e(e,n)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&A(o[i],n,t);null!=u&&_(u)}function F(e,n,t){return this.constructor(e,t)}function D(e,n,t){var o,u,i;r.__&&r.__(e,n),u=(o=t===a)?null:t&&t.__k||n.__k,e=h(g,null,[e]),i=[],R(n,(o?n:t||n).__k=e,u||s,s,void 0!==n.ownerSVGElement,t&&!o?[t]:u?null:f.slice.call(n.childNodes),i,t||s,o),N(i,e)}function T(e,n){D(e,n,a)}function B(e,n){return n=p(p({},e.props),n),arguments.length>2&&(n.children=f.slice.call(arguments,2)),m(e.type,n,n.key||e.key,n.ref||e.ref)}function M(e){var n={},t={__c:"__cC"+c++,__:e,Consumer:function(e,n){return e.children(n)},Provider:function(e){var r,o=this;return this.getChildContext||(r=[],this.getChildContext=function(){return n[t.__c]=o,n},this.shouldComponentUpdate=function(n){e.value!==n.value&&r.some((function(e){e.context=n.value,k(e)}))},this.sub=function(e){r.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),n&&n.call(e)}}),e.children}};return t.Consumer.contextType=t,t}r={__e:function(e,n){for(var t,r;n=n.__;)if((t=n.__c)&&!t.__)try{if(t.constructor&&null!=t.constructor.getDerivedStateFromError&&(r=!0,t.setState(t.constructor.getDerivedStateFromError(e))),null!=t.componentDidCatch&&(r=!0,t.componentDidCatch(e)),r)return k(t.__E=t)}catch(n){e=n}throw e}},o=function(e){return null!=e&&void 0===e.constructor},y.prototype.setState=function(e,n){var t;t=this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(t,this.props)),e&&p(t,e),null!=e&&this.__v&&(this.__e=!1,n&&this.__h.push(n),k(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},y.prototype.render=g,u=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,a=s,c=0},function(e,n,t){"use strict";t.d(n,"j",(function(){return p})),t.d(n,"h",(function(){return _})),t.d(n,"d",(function(){return h})),t.d(n,"f",(function(){return m})),t.d(n,"i",(function(){return v})),t.d(n,"e",(function(){return g})),t.d(n,"g",(function(){return y})),t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return C})),t.d(n,"c",(function(){return k}));var r,o,u,i=t(0),l=[],a=i.options.__r,c=i.options.diffed,s=i.options.__c,f=i.options.unmount;function d(e){i.options.__h&&i.options.__h(o);var n=o.__H||(o.__H={t:[],u:[]});return e>=n.t.length&&n.t.push({}),n.t[e]}function p(e){return _(S,e)}function _(e,n,t){var u=d(r++);return u.__c||(u.__c=o,u.i=[t?t(n):S(void 0,n),function(n){var t=e(u.i[0],n);u.i[0]!==t&&(u.i[0]=t,u.__c.setState({}))}]),u.i}function h(e,n){var t=d(r++);E(t.o,n)&&(t.i=e,t.o=n,o.__H.u.push(t))}function m(e,n){var t=d(r++);E(t.o,n)&&(t.i=e,t.o=n,o.__h.push(t))}function v(e){return y((function(){return{current:e}}),[])}function g(e,n,t){m((function(){"function"==typeof e?e(n()):e&&(e.current=n())}),null==t?t:t.concat(e))}function y(e,n){var t=d(r++);return E(t.o,n)?(t.o=n,t.v=e,t.i=e()):t.i}function b(e,n){return y((function(){return e}),n)}function C(e){var n=o.context[e.__c];if(!n)return e.__;var t=d(r++);return null==t.i&&(t.i=!0,n.sub(o)),n.props.value}function k(e,n){i.options.useDebugValue&&i.options.useDebugValue(n?n(e):e)}function w(){l.some((function(e){e.__P&&(e.__H.u.forEach(x),e.__H.u.forEach(O),e.__H.u=[])})),l=[]}function x(e){e.m&&e.m()}function O(e){var n=e.i();"function"==typeof n&&(e.m=n)}function E(e,n){return!e||n.some((function(n,t){return n!==e[t]}))}function S(e,n){return"function"==typeof n?n(e):n}i.options.__r=function(e){a&&a(e),r=0,(o=e.__c).__H&&(o.__H.u.forEach(x),o.__H.u.forEach(O),o.__H.u=[])},i.options.diffed=function(e){c&&c(e);var n=e.__c;if(n){var t=n.__H;t&&t.u.length&&(1!==l.push(n)&&u===i.options.requestAnimationFrame||((u=i.options.requestAnimationFrame)||function(e){var n,t=function(){clearTimeout(r),cancelAnimationFrame(n),setTimeout(e)},r=setTimeout(t,100);"undefined"!=typeof window&&(n=requestAnimationFrame(t))})(w))}},i.options.__c=function(e,n){n.some((function(e){e.__h.forEach(x),e.__h=e.__h.filter((function(e){return!e.i||O(e)}))})),s&&s(e,n)},i.options.unmount=function(e){f&&f(e);var n=e.__c;if(n){var t=n.__H;t&&t.t.forEach((function(e){return e.m&&e.m()}))}}},function(e,n,t){"use strict";t.d(n,"b",(function(){return h})),t.d(n,"a",(function(){return _}));var r={data:""},o=function(e){try{var n=e?e.querySelector("#_goober"):self._goober;return n||((n=(e||document.head).appendChild(document.createElement("style"))).innerHTML=" ",n.id="_goober"),n.firstChild}catch(e){}return r},u=/(?:([a-z0-9-%@]+) *:? *([^{;]+?);|([^;}{]*?) +{)|(})/gi,i=/\/\*.*?\*\/|\s{2,}|\n/gm,l={c:0},a=function(e,n,t,r){var o=JSON.stringify(e),a=l[o]||(l[o]=t?"":".go"+o.split("").reduce((function(e,n){return e+n.charCodeAt(0)|8}),4));return function(e,n,t){n.data.indexOf(e)<0&&(n.data=t?e+n.data:n.data+e)}(l[a]||(l[a]=function e(n,t,r){var o="",u="",i="";if(/^@[k|f]/.test(r))return r+JSON.stringify(n).replace(/","/g,";").replace(/"|,"/g,"").replace(/:{/g,"{");for(var l in n){var a=n[l];if("object"==typeof a){var c=t+" "+l;/&/g.test(l)&&(c=l.replace(/&/g,t)),"@"==l[0]&&(c=t),u+=e(a,c,c==t?l:r||"")}else/^@i/.test(l)?i=l+" "+a+";":o+=l.replace(/[A-Z]/g,"-$&").toLowerCase()+":"+a+";"}if(o.charCodeAt(0)){var s=t+"{"+o+"}";return r?u+r+"{"+s+"}":i+s+u}return i+u}(e[0]?function(e){for(var n,t=[{}];n=u.exec(e.replace(i,""));)n[4]&&t.shift(),n[3]?t.unshift(t[0][n[3]]={}):n[4]||(t[0][n[1]]=n[2]);return t[0]}(e):e,a)),n,r),a.slice(1)},c=function(e,n,t){return e.reduce((function(e,r,o){var u=n[o];if(u&&u.call){var i=u(t),l=i&&i.props&&i.props.className||/^go/.test(i)&&i;u=l?"."+l:i&&i.props?"":i}return e+r+(u||"")}),"")};function s(e){var n=this||{},t=e.call?e(n.p):e;return a(t.map?c(t,[].slice.call(arguments,1),n.p):t,o(n.target),n.g,n.o)}s.bind({g:1});var f,d,p,_=function(e,n,t){f=e,d=n,p=t};function h(e){var n=this||{};return function(){var t=arguments;function r(r,o){var u=n.p=Object.assign(p?{theme:p()}:{},r),i=u.className;return n.o=/\s*go[0-9]+/g.test(i),u.className=s.apply(n,t)+(i?" "+i:""),u.ref=o,f(e,u)}return d?d(r):r}}},function(e,n){e.exports=function(e,n){return n||(n=e.slice(0)),e.raw=n,e}},function(e,n,t){"use strict";t.d(n,"b",(function(){return c}));var r=t(1);t.d(n,"c",(function(){return r.b})),t.d(n,"d",(function(){return r.d})),t.d(n,"e",(function(){return r.i}));var o=t(0);function u(e,n){for(var t in n)e[t]=n[t];return e}function i(e,n){for(var t in e)if("__source"!==t&&!(t in n))return!0;for(var r in n)if("__source"!==r&&e[r]!==n[r])return!0;return!1}var l=function(e){var n,t;function r(n){var t;return(t=e.call(this,n)||this).isPureReactComponent=!0,t}return t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t,r.prototype.shouldComponentUpdate=function(e,n){return i(this.props,e)||i(this.state,n)},r}(o.Component);var a=o.options.vnode;function c(e){function n(n){var t=u({},n);return delete t.ref,e(t,n.ref)}return n.prototype.isReactComponent=!0,n.t=!0,n.displayName="ForwardRef("+(e.displayName||e.name)+")",n}o.options.vnode=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),a&&a(e)};var s=function(e,n){return e?Object(o.toChildArray)(e).map(n):null},f={map:s,forEach:s,count:function(e){return e?Object(o.toChildArray)(e).length:0},only:function(e){if(1!==(e=Object(o.toChildArray)(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:o.toChildArray},d=o.options.__e;function p(e){return e&&((e=u({},e)).__c=null,e.__k=e.__k&&e.__k.map(p)),e}function _(e){this.__u=0,this.__b=null}function h(e){var n=e.__.__c;return n&&n.o&&n.o(e)}function m(){this.u=null,this.i=null}o.options.__e=function(e,n,t){if(e.then)for(var r,o=n;o=o.__;)if((r=o.__c)&&r.l)return r.l(e,n.__c);d(e,n,t)},(_.prototype=new o.Component).l=function(e,n){var t=this,r=h(t.__v),o=!1,u=function(){o||(o=!0,r?r(i):i())};n.__c=n.componentWillUnmount,n.componentWillUnmount=function(){u(),n.__c&&n.__c()};var i=function(){--t.__u||(t.__v.__k[0]=t.state.o,t.setState({o:t.__b=null}))};t.__u++||t.setState({o:t.__b=t.__v.__k[0]}),e.then(u,u)},_.prototype.render=function(e,n){return this.__b&&(this.__v.__k[0]=p(this.__b),this.__b=null),[Object(o.createElement)(o.Component,null,n.o?null:e.children),n.o&&e.fallback]};var v=function(e,n,t){if(++t[1]===t[0]&&e.i.delete(n),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.i.size))for(t=e.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;e.u=t=t[2]}};(m.prototype=new o.Component).o=function(e){var n=this,t=h(n.__v),r=n.i.get(e);return r[0]++,function(o){var u=function(){n.props.revealOrder?(r.push(o),v(n,e,r)):o()};t?t(u):u()}},m.prototype.render=function(e){this.u=null,this.i=new Map;var n=Object(o.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&n.reverse();for(var t=n.length;t--;)this.i.set(n[t],this.u=[1,0,this.u]);return e.children},m.prototype.componentDidUpdate=m.prototype.componentDidMount=function(){var e=this;e.i.forEach((function(n,t){v(e,t,n)}))};var g=function(){function e(){}var n=e.prototype;return n.getChildContext=function(){return this.props.context},n.render=function(e){return e.children},e}();function y(e){var n=this,t=e.container,r=Object(o.createElement)(g,{context:n.context},e.vnode);return n.s&&n.s!==t&&(n.h.parentNode&&n.s.removeChild(n.h),Object(o._unmount)(n.v),n.p=!1),e.vnode?n.p?(t.__k=n.__k,Object(o.render)(r,t),n.__k=t.__k):(n.h=document.createTextNode(""),Object(o.hydrate)("",t),t.appendChild(n.h),n.p=!0,n.s=t,Object(o.render)(r,t,n.h),n.__k=this.h.__k):n.p&&(n.h.parentNode&&n.s.removeChild(n.h),Object(o._unmount)(n.v)),n.v=r,n.componentWillUnmount=function(){n.h.parentNode&&n.s.removeChild(n.h),Object(o._unmount)(n.v)},null}var b=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/;o.Component.prototype.isReactComponent={};var C="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function k(e,n,t){if(null==n.__k)for(;n.firstChild;)n.removeChild(n.firstChild);return function(e,n,t){return Object(o.render)(e,n),"function"==typeof t&&t(),e?e.__c:null}(e,n,t)}var w=o.options.event;function x(e,n){e["UNSAFE_"+n]&&!e[n]&&Object.defineProperty(e,n,{configurable:!1,get:function(){return this["UNSAFE_"+n]},set:function(e){this["UNSAFE_"+n]=e}})}o.options.event=function(e){return w&&(e=w(e)),e.persist=function(){},e.nativeEvent=e};var O={configurable:!0,get:function(){return this.class}},E=o.options.vnode;o.options.vnode=function(e){e.$$typeof=C;var n=e.type,t=e.props;if("function"!=typeof n){var r,u,i;for(i in t.defaultValue&&(t.value||0===t.value||(t.value=t.defaultValue),delete t.defaultValue),Array.isArray(t.value)&&t.multiple&&"select"===n&&(Object(o.toChildArray)(t.children).forEach((function(e){-1!=t.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete t.value),t)if(r=b.test(i))break;if(r)for(i in u=e.props={},t)u[b.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=t[i]}(t.class||t.className)&&(O.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",O)),function(n){var t=e.type,r=e.props;if(r&&"string"==typeof t){var o={};for(var u in r)/^on(Ani|Tra|Tou)/.test(u)&&(r[u.toLowerCase()]=r[u],delete r[u]),o[u.toLowerCase()]=u;if(o.ondoubleclick&&(r.ondblclick=r[o.ondoubleclick],delete r[o.ondoubleclick]),o.onbeforeinput&&(r.onbeforeinput=r[o.onbeforeinput],delete r[o.onbeforeinput]),o.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var i=o.oninput||"oninput";r[i]||(r[i]=r[o.onchange],delete r[o.onchange])}}}(),"function"==typeof n&&!n.m&&n.prototype&&(x(n.prototype,"componentWillMount"),x(n.prototype,"componentWillReceiveProps"),x(n.prototype,"componentWillUpdate"),n.m=!0),E&&E(e)};function S(e){return!!e&&e.$$typeof===C}n.a={useState:r.j,useReducer:r.h,useEffect:r.d,useLayoutEffect:r.f,useRef:r.i,useImperativeHandle:r.e,useMemo:r.g,useCallback:r.a,useContext:r.b,useDebugValue:r.c,version:"16.8.0",Children:f,render:k,hydrate:k,unmountComponentAtNode:function(e){return!!e.__k&&(Object(o.render)(null,e),!0)},createPortal:function(e,n){return Object(o.createElement)(y,{vnode:e,container:n})},createElement:o.createElement,createContext:o.createContext,createFactory:function(e){return o.createElement.bind(null,e)},cloneElement:function(e){return S(e)?o.cloneElement.apply(null,arguments):e},createRef:o.createRef,Fragment:o.Fragment,isValidElement:S,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:o.Component,PureComponent:l,memo:function(e,n){function t(e){var t=this.props.ref,r=t==e.ref;return!r&&t&&(t.call?t(null):t.current=null),n?!n(this.props,e)||!r:i(this.props,e)}function r(n){return this.shouldComponentUpdate=t,Object(o.createElement)(e,u({},n))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(e.displayName||e.name)+")",r.t=!0,r},forwardRef:c,unstable_batchedUpdates:function(e,n){return e(n)},Suspense:_,SuspenseList:m,lazy:function(e){var n,t,r;function u(u){if(n||(n=e()).then((function(e){t=e.default||e}),(function(e){r=e})),r)throw r;if(!t)throw n;return Object(o.createElement)(t,u)}return u.displayName="Lazy",u.t=!0,u}}},function(e,n,t){var r;e.exports=(r=t(0),function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function r(){this._root=(0,i.render)(function e(n,t){if(3===n.nodeType)return n.nodeValue;if(1!==n.nodeType)return null;var r=[],o={},u=0,l=n.attributes,a=n.childNodes;for(u=l.length;u--;)o[l[u].name]=l[u].value;for(u=a.length;u--;)r[u]=e(a[u]);return(0,i.h)(t||n.nodeName.toLowerCase(),o,r)}(this,this._vdomComponent),this,this._root)}function o(){(0,i.render)((0,i.h)(l),this,this._root)}Object.defineProperty(n,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.default=function(e,n,t){var i=function(n){function i(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i);var n=Reflect.construct(HTMLElement,[],i);return n._vdomComponent=e,n}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":u(n)));e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(i,HTMLElement),a(i,[{key:"connectedCallback",value:function(){r.apply(this)}},{key:"attributeChangedCallback",value:function(){r.apply(this)}},{key:"detachedCallback",value:function(){o.apply(this)}}],[{key:"observedAttributes",get:function(){return t}}]),i}();return window.customElements.define(n||e.displayName||e.name,i)};var i=t(1),l=function(){return null},a=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()},function(e,n){e.exports=r}]))},function(e,n,t){"use strict";var r=t(3),o=t.n(r),u=t(0),i=t(4),l=t(2),a={colors:{$D10:"#162D3D",$D20:"#32536A",$D30:"#577083",$D40:"#7A92A5",$D50:"#B6C1CD",$D55:"#CBD3DC",$D60:"#DFE5EB",$D70:"#F0F4F7",$D80:"#FFFFFF",$B00:"#2B81CB",$B05:"#308DDD",$B10:"#3899EC",$B20:"#4EB7F5",$B25:"#A1D7FB",$B27:"#B3E0FB",$B30:"#C1E4FE",$B40:"#DAEFFE",$B50:"#EAF7FF",$B60:"#F4FAFE"},sidebar:{colors:{$bg:"#23263e",$divider:"#434567",$bgHover:"#2e3249",$bgActive:"#393f59"}}};function c(){var e=o()(["\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  box-sizing: border-box;\n"]);return c=function(){return e},e}var s=Object(u.createContext)(a);Object(l.a)(u.h,i.b,(function(){return Object(i.c)(s)}));var f=Object(l.b)("div")(c());n.a=function(e){var n=e.children;return Object(u.h)(f,{__source:{fileName:"/Users/igors/Development/pc-comonents/src/App.tsx",lineNumber:13}},n)}},function(e,n,t){"use strict";n.a=function(e){var n=e.ref,t=e.eventName;return function(e){n.current&&n.current.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0}))}}},function(e,n){function t(){return e.exports=t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t.apply(this,arguments)}e.exports=t},,,,,,function(e,n,t){"use strict";t.r(n);var r=t(3),o=t.n(r),u=t(8),i=t.n(u),l=t(0),a=t(1),c=t(2),s=t(5),f=t.n(s),d=t(4);function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function _(e,n){if(null==e)return{};var t,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)t=u[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}var h={init:"init"},m={Cell:function(e){var n=e.cell.value;return void 0===n?"":n},width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function v(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce((function(e,n){var t=n.style,r=n.className;return e=p({},e,{},_(n,["style","className"])),t&&(e.style=e.style?p({},e.style||{},{},t||{}):t),r&&(e.className=e.className?e.className+" "+r:r),""===e.className&&delete e.className,e}),{})}var g=function(e,n){return void 0===n&&(n={}),function(t){return void 0===t&&(t={}),[].concat(e,[t]).reduce((function(e,r){return function e(n,t,r){return"function"==typeof t?e({},t(n,r)):Array.isArray(t)?v.apply(void 0,[n].concat(t)):v(n,t)}(e,r,p({},n,{userProps:t}))}),{})}},y=function(e,n,t){return void 0===t&&(t={}),e.reduce((function(e,n){return n(e,t)}),n)},b=function(e,n){return void 0===n&&(n={}),e.forEach((function(e){e(n)}))};function C(e,n,t,r){e.findIndex((function(e){return e.pluginName===t}));n.forEach((function(n){e.findIndex((function(e){return e.pluginName===n}))})),r.forEach((function(n){e.findIndex((function(e){return e.pluginName===n}))}))}function k(e,n){return"function"==typeof e?e(n):e}function w(e){var n=d.a.useRef();return n.current=e,d.a.useCallback((function(){return n.current}),[])}"undefined"!=typeof document?d.a.useLayoutEffect:d.a.useEffect;function x(e,n){var t=w(e[n]);return e[n]=void 0,t}function O(e,n,t){return void 0===t&&(t={}),function(r,o){void 0===o&&(o={});var u="string"==typeof r?n[r]:r;if(void 0===u)throw new Error("Renderer Error");return function(e,n){return t=e,function(e){return"function"==typeof e&&!(!(n=Object.getPrototypeOf(e)).prototype||!n.prototype.isReactComponent);var n}(t)||function(e){return"function"==typeof e}(t)||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(t)?d.a.createElement(e,n):e;var t}(u,p({},e,{column:n},t,{},o))}}function E(e,n,t,r,o){var u=e=p({},m,{},n,{},e),i=u.id,l=u.accessor,a=u.Header;if("string"==typeof l){i=i||l;var c=l.split(".");l=function(e){return function(e,n,t){if(!n)return e;var r,o="function"==typeof n?n:JSON.stringify(n),u=R.get(o)||function(){var e=function(e){return function e(n,t){void 0===t&&(t=[]);if(Array.isArray(n))for(var r=0;r<n.length;r+=1)e(n[r],t);else t.push(n);return t}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(j,".").replace(H,"").split(".")}(n);return R.set(o,e),e}();try{r=u.reduce((function(e,n){return e[n]}),e)}catch(e){}return void 0!==r?r:t}(e,c)}}if(!i&&"string"==typeof a&&a&&(i=a),!i&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!i)throw console.error(e),new Error("A column ID (or string accessor) is required!");return e=p({Header:function(){return d.a.createElement(d.a.Fragment,null,"Â ")},Footer:function(){return d.a.createElement(d.a.Fragment,null,"Â ")}},e,{id:i,accessor:l,parent:t,depth:r,index:o})}function S(e,n,t,r){return void 0===r&&(r=0),e.map((function(e,o){return(e=E(e,n,t,r,o)).columns&&(e.columns=S(e.columns,n,e,r+1)),e}))}function P(e,n){var t=[];return function e(r,o){var u={headers:[]},i=[],l=r.some((function(e){return e.parent}));r.forEach((function(e){var t=!i.length,r=[].concat(i).reverse()[0];if(e.parent){var o=i.filter((function(n){return n.originalId===e.parent.id}));(t||r.originalId!==e.parent.id)&&i.push(p({},e.parent,{originalId:e.parent.id,id:[e.parent.id,o.length].join("_")}))}else if(l){var a=[e.id,"placeholder"].join("_"),c=i.filter((function(e){return e.originalId===a})),s=E({originalId:a,id:[e.id,"placeholder",c.length].join("_"),placeholderOf:e},n);(t||r.originalId!==s.originalId)&&i.push(s)}(e.parent||l)&&((r=[].concat(i).reverse()[0]).headers=r.headers||[],r.headers.includes(e)||r.headers.push(e)),e.totalHeaderCount=e.headers?e.headers.reduce((function(e,n){return e+n.totalHeaderCount}),0):1,u.headers.push(e)})),t.push(u),i.length&&e(i)}(e),t.reverse()}var R=new Map;function N(e,n){var t=[];return function e(r){r.forEach((function(r){r[n]?e(r[n]):t.push(r)}))}(e),t}var j=/\[/g,H=/\]/g;var A=function(e){return e.filter((function(e){return e.column.isVisible}))},F=function(e,n){var t=n.column;return p({key:"header_"+t.id,colSpan:t.totalVisibleHeaderCount},e)},D=function(e,n){var t=n.column;return p({key:"footer_"+t.id,colSpan:t.totalVisibleHeaderCount},e)},T=function(e,n){return p({key:"headerGroup_"+n.index},e)},B=function(e,n){return p({key:"footerGroup_"+n.index},e)},M=function(e,n){return p({key:"row_"+n.row.id},e)},$=function(e,n){var t=n.cell;return p({},e,{key:"cell_"+t.row.id+"_"+t.column.id})};function W(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],flatColumns:[],flatColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],useRows:[],cells:[A],prepareRow:[],getTableProps:[],getTableBodyProps:[],getHeaderGroupProps:[T],getFooterGroupProps:[B],getHeaderProps:[F],getFooterProps:[D],getRowProps:[M],getCellProps:[$],useFinalInstance:[]}}h.resetHiddenColumns="resetHiddenColumns",h.toggleHideColumn="toggleHideColumn",h.setHiddenColumns="setHiddenColumns",h.toggleHideAllColumns="toggleHideAllColumns";var I=function(e){e.getToggleHiddenProps=[G],e.getToggleHideAllColumnsProps=[L],e.stateReducers.push(U),e.useInstanceBeforeDimensions.push(V),e.headerGroupsDeps.push((function(e,n){var t=n.instance;return[].concat(e,[t.state.hiddenColumns])})),e.useInstance.push(z)};I.pluginName="useColumnVisibility";var G=function(e,n){var t=n.column;return[e,{onChange:function(e){t.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:t.isVisible,title:"Toggle Column Visible"}]},L=function(e,n){var t=n.instance;return[e,{onChange:function(e){t.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!t.allColumnsHidden&&!t.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!t.allColumnsHidden&&t.state.hiddenColumns.length}]};function U(e,n,t,r){if(n.type===h.init)return p({hiddenColumns:[]},e);if(n.type===h.resetHiddenColumns)return p({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(n.type===h.toggleHideColumn){var o=(void 0!==n.value?n.value:!e.hiddenColumns.includes(n.columnId))?[].concat(e.hiddenColumns,[n.columnId]):e.hiddenColumns.filter((function(e){return e!==n.columnId}));return p({},e,{hiddenColumns:o})}return n.type===h.setHiddenColumns?p({},e,{hiddenColumns:k(n.value,e.hiddenColumns)}):n.type===h.toggleHideAllColumns?p({},e,{hiddenColumns:(void 0!==n.value?n.value:!e.hiddenColumns.length)?r.flatColumns.map((function(e){return e.id})):[]}):void 0}function V(e){var n=e.headers,t=e.state.hiddenColumns;d.a.useRef(!1).current;var r=0;n.forEach((function(e){return r+=function e(n,r){n.isVisible=r&&!t.includes(n.id);var o=0;return n.headers&&n.headers.length?n.headers.forEach((function(t){return o+=e(t,n.isVisible)})):o=n.isVisible?1:0,n.totalVisibleHeaderCount=o,o}(e,!0)}))}function z(e){var n=e.flatHeaders,t=e.dispatch,r=e.flatColumns,o=e.state.hiddenColumns,u=w(e),i=r.length===o.length,l=d.a.useCallback((function(e,n){return t({type:h.toggleHideColumn,columnId:e,value:n})}),[t]),a=d.a.useCallback((function(e){return t({type:h.setHiddenColumns,value:e})}),[t]),c=d.a.useCallback((function(e){return t({type:h.toggleHideAllColumns,value:e})}),[t]),s=x(u().hooks,"getToggleHideAllColumnsProps"),f=g(s(),{instance:u()}),p=x(u().hooks,"getToggleHiddenProps");n.forEach((function(e){e.toggleHidden=function(n){t({type:h.toggleHideColumn,columnId:e.id,value:n})},e.getToggleHiddenProps=g(p(),{instance:u(),column:e})})),Object.assign(e,{allColumnsHidden:i,toggleHideColumn:l,setHiddenColumns:a,toggleHideAllColumns:c,getToggleHideAllColumnsProps:f})}var q={},J={},Z=function(e,n,t){return e},X=function(e,n){return e.subRows||[]},Y=function(e,n,t){return""+(t?[t.id,n].join("."):n)},K=function(e){return e};function Q(e){var n=e.initialState,t=void 0===n?q:n,r=e.defaultColumn,o=void 0===r?J:r,u=e.getSubRows,i=void 0===u?X:u,l=e.getRowId,a=void 0===l?Y:l,c=e.stateReducer,s=void 0===c?Z:c,f=e.useControlledState,d=void 0===f?K:f;return p({},_(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:t,defaultColumn:o,getSubRows:i,getRowId:a,stateReducer:s,useControlledState:d})}var ee=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];e=Q(e),t=[I].concat(t);var o=d.a.useRef({}),u=w(o.current);Object.assign(u(),p({},e,{plugins:t,hooks:W()})),t.filter(Boolean).forEach((function(e){e(u().hooks)}));var i=x(u().hooks,"useOptions");Object.assign(u(),y(i(),Q(e)));var l=u(),a=l.data,c=l.columns,s=l.initialState,f=l.defaultColumn,_=l.getSubRows,m=l.getRowId,v=l.stateReducer,C=l.useControlledState,k=x(u().hooks,"stateReducers"),E=w(v),R=d.a.useCallback((function(e,n){if(!n.type)throw console.info({action:n}),new Error("Unknown Action ðŸ‘†");return[].concat(k(),Array.isArray(E())?E():[E()]).reduce((function(t,r){return r(t,n,e,u())||t}),e)}),[k,E,u]),j=d.a.useReducer(R,void 0,(function(){return R(s,{type:h.init})})),H=j[0],A=j[1],F=x(u().hooks,"useControlledState"),D=y([].concat(F(),[C]),H,{instance:u()});Object.assign(u(),{state:D,dispatch:A});var T=x(u().hooks,"columns"),B=x(u().hooks,"columnsDeps"),M=d.a.useMemo((function(){return S(y(T(),c,{instance:u()}),f)}),[f,T,u,c].concat(y(B(),[],{instance:u()})));u().columns=M;var $=d.a.useMemo((function(){return N(M,"columns")}),[M]);u().flatColumns=$;var G=d.a.useMemo((function(){var e=[];return[a.map((function(n,t){return function n(t,r,o,u){void 0===o&&(o=0);var i=t,l={id:m(t,r,u),original:i,index:r,depth:o,cells:[{}]};e.push(l);var c=_(t,r);c&&(l.subRows=c.map((function(e,t){return n(e,t,o+1,l)})));var s=function(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")};return l.cells.map=s,l.cells.filter=s,l.cells.forEach=s,l.cells[0].getCellProps=s,l.values={},$.forEach((function(e){var n=e.id,u=e.accessor;l.values[n]=u?u(t,r,{subRows:c,depth:o,data:a}):void 0})),l}(n,t)})),e]}),[a,$,m,_]),L=G[0],U=G[1];u().rows=L,u().flatRows=U;var V=x(u().hooks,"flatColumns"),z=x(u().hooks,"flatColumnsDeps");$=d.a.useMemo((function(){return y(V(),$,{instance:u()})}),[$,V,u].concat(y(z(),[],{instance:u()}))),u().flatColumns=$;var q=x(u().hooks,"headerGroups"),J=x(u().hooks,"headerGroupsDeps"),Z=d.a.useMemo((function(){return y(q(),P($,f),u())}),[f,$,q,u].concat(y(J(),[],{instance:u()})));u().headerGroups=Z;var X=d.a.useMemo((function(){return Z.length?Z[0].headers:[]}),[Z]);u().headers=X,u().flatHeaders=Z.reduce((function(e,n){return[].concat(e,n.headers)}),[]);var Y=x(u().hooks,"useInstanceBeforeDimensions");b(Y(),u());var K=ne(X),ee=K[0],te=K[1],re=K[2];u().totalColumnsMinWidth=ee,u().totalColumnsWidth=te,u().totalColumnsMaxWidth=re;var oe=x(u().hooks,"useInstance");b(oe(),u());var ue=x(u().hooks,"getHeaderProps"),ie=x(u().hooks,"getFooterProps");[].concat(u().flatHeaders,u().flatColumns).forEach((function(e){e.render=O(u(),e),e.getHeaderProps=g(ue(),{instance:u(),column:e}),e.getFooterProps=g(ie(),{instance:u(),column:e})}));var le=x(u().hooks,"getHeaderGroupProps"),ae=x(u().hooks,"getFooterGroupProps");u().headerGroups=u().headerGroups.filter((function(e,n){return e.headers=e.headers.filter((function(e){return e.headers?function e(n){return n.filter((function(n){return n.headers?e(n.headers):n.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=g(le(),{instance:u(),headerGroup:e,index:n}),e.getFooterGroupProps=g(ae(),{instance:u(),headerGroup:e,index:n}),!0)})),u().footerGroups=[].concat(u().headerGroups).reverse();var ce=x(u().hooks,"useRows");u().rows=y(ce(),u().rows,{instance:u()});var se=x(u().hooks,"prepareRow"),fe=x(u().hooks,"getRowProps"),de=x(u().hooks,"getCellProps"),pe=x(u().hooks,"cells");u().prepareRow=d.a.useCallback((function(e){e.getRowProps=g(fe(),{instance:u(),row:e}),e.allCells=$.map((function(n){var t={column:n,row:e,value:e.values[n.id]};return t.getCellProps=g(de(),{instance:u(),cell:t}),t.render=O(u(),n,{row:e,cell:t}),t})),e.cells=y(pe(),e.allCells,{instance:u()}),b(se(),e,u())}),[fe,u,$,pe,se,de]);var _e=x(u().hooks,"getTableProps");u().getTableProps=g(_e(),{instance:u()});var he=x(u().hooks,"getTableBodyProps");u().getTableBodyProps=g(he(),{instance:u()});var me=x(u().hooks,"useFinalInstance");return b(me(),u()),u()};function ne(e,n){void 0===n&&(n=0);var t=0,r=0,o=0;return e.forEach((function(e){var u=e.headers;if(e.totalLeft=n,u&&u.length){var i=ne(u,n),l=i[0],a=i[1],c=i[2];e.totalMinWidth=l,e.totalWidth=a,e.totalMaxWidth=c}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth;e.isVisible&&(n+=e.totalWidth,t+=e.totalMinWidth,r+=e.totalWidth,o+=e.totalMaxWidth)})),[t,r,o]}h.toggleExpanded="toggleExpanded",h.toggleAllExpanded="toggleAllExpanded",h.setExpanded="setExpanded",h.resetExpanded="resetExpanded";var te=function(e,n,t){return e=e.filter((function(e){return n.some((function(n){var r=e.values[n];return String(r).toLowerCase().includes(String(t).toLowerCase())}))}))};te.autoRemove=function(e){return!e};var re=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return void 0===r||String(r).toLowerCase()===String(t).toLowerCase()}))}))};re.autoRemove=function(e){return!e};var oe=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return void 0===r||String(r)===String(t)}))}))};oe.autoRemove=function(e){return!e};var ue=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return t.includes(r)}))}))};ue.autoRemove=function(e){return!e||!e.length};var ie=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return r&&r.length&&t.every((function(e){return r.includes(e)}))}))}))};ie.autoRemove=function(e){return!e||!e.length};var le=function(e,n,t){return e.filter((function(e){return n.some((function(n){return e.values[n]===t}))}))};le.autoRemove=function(e){return void 0===e};var ae=function(e,n,t){return e.filter((function(e){return n.some((function(n){return e.values[n]==t}))}))};ae.autoRemove=function(e){return null==e};var ce=function(e,n,t){var r=t||[],o=r[0],u=r[1];if((o="number"==typeof o?o:-1/0)>(u="number"==typeof u?u:1/0)){var i=o;o=u,u=i}return e.filter((function(e){return n.some((function(n){var t=e.values[n];return t>=o&&t<=u}))}))};ce.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};h.resetFilters="resetFilters",h.setFilter="setFilter",h.setAllFilters="setAllFilters";h.resetGlobalFilter="resetGlobalFilter",h.setGlobalFilter="setGlobalFilter";h.resetGroupBy="resetGroupBy",h.toggleGroupBy="toggleGroupBy";h.resetSortBy="resetSortBy",h.toggleSortBy="toggleSortBy",h.clearSortBy="clearSortBy",m.sortType="alphanumeric",m.sortDescFirst=!1;h.resetPage="resetPage",h.gotoPage="gotoPage",h.setPageSize="setPageSize";h.resetSelectedRows="resetSelectedRows",h.toggleAllRowsSelected="toggleAllRowsSelected",h.toggleRowSelected="toggleRowSelected";h.setRowState="setRowState",h.resetRowState="resetRowState";h.resetColumnOrder="resetColumnOrder",h.setColumnOrder="setColumnOrder";m.canResize=!0,h.columnStartResizing="columnStartResizing",h.columnResizing="columnResizing",h.columnDoneResizing="columnDoneResizing";var se={position:"absolute",top:0},fe=function(e){e.getTableBodyProps.push(de),e.getRowProps.push(de),e.getHeaderGroupProps.push(de),e.useInstance.push(pe),e.getHeaderProps.push((function(e,n){var t=n.column;return[e,{style:p({},se,{left:t.totalLeft+"px",width:t.totalWidth+"px"})}]})),e.getCellProps.push((function(e,n){var t=n.cell;return[e,{style:p({},se,{left:t.column.totalLeft+"px",width:t.column.totalWidth+"px"})}]}))};fe.pluginName="useAbsoluteLayout";var de=function(e,n){return[e,{style:{position:"relative",width:n.instance.totalColumnsWidth+"px"}}]};function pe(e){C(e.plugins,[],fe.pluginName,["useResizeColumns"])}var _e=t(6),he=t(7),me="/Users/igors/Development/pc-comonents/src/components/Table/index.tsx";function ve(){var e=o()(["\n  table {\n    font-size: 14px;\n    background: ",";\n    border-radius: 8px;\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.1);\n    width: 100%;\n    tr {\n      height: 54px;\n\n      &:hover {\n          background: ",";\n          cursor: pointer;\n          transition: all 120ms ease;\n      }\n    }\n    thead {\n      background: ",";\n      \n      th {\n        font-weight: 400;\n      }\n      tr {\n        height: 42px;\n        &:hover {\n             background: ",";\n             cursor: default;\n        }\n      }\n    }\n    th,\n    td {\n      margin: 0;\n      border-bottom: 1px solid ",";\n      vertical-align: middle;\n      text-align: left;\n      padding: 0 30px;\n    }\n  }\n"]);return ve=function(){return e},e}var ge=function(e){var n=e.data,t=e.columns,r=Object(a.j)(null),o=r[0],u=r[1],c=Object(a.j)(null),s=c[0],f=c[1],d=Object(a.i)();Object(a.d)((function(){if(n&&t){var e=JSON.parse(n),r=JSON.parse(t);u(e),f(r)}}),[n,t]),Object(a.d)((function(){console.log(o,s)}),[o,s]);var p=Object(he.a)({ref:d,eventName:"tableRowClicked"});if(!o||!s)return Object(l.h)("div",{__source:{fileName:me,lineNumber:41}},"Loading....");var _=ee({columns:s,data:o}),h=_.getTableProps,m=_.getTableBodyProps,v=_.headerGroups,g=_.rows,y=_.prepareRow;return Object(l.h)(_e.a,{__source:{fileName:me,lineNumber:55}},Object(l.h)(ye,{__source:{fileName:me,lineNumber:56}},Object(l.h)("table",i()({ref:d},h(),{__source:{fileName:me,lineNumber:57}}),Object(l.h)("thead",{__source:{fileName:me,lineNumber:58}},v.map((function(e){return Object(l.h)("tr",i()({key:e.id},e.getHeaderGroupProps(),{__source:{fileName:me,lineNumber:61}}),e.headers.map((function(e){return Object(l.h)("th",i()({key:e.id},e.getHeaderProps(),{__source:{fileName:me,lineNumber:63}}),e.render("Header"))})))}))),Object(l.h)("tbody",i()({},m(),{__source:{fileName:me,lineNumber:68}}),g.map((function(e){return y(e),Object(l.h)("tr",i()({onClick:function(){return p(e.values)},key:e.id},e.getRowProps(),{__source:{fileName:me,lineNumber:72}}),e.cells.map((function(e){return Object(l.h)("td",i()({key:e.value},e.getCellProps(),{__source:{fileName:me,lineNumber:73}}),e.render("Cell"))})))}))))))},ye=Object(c.b)("div")(ve(),(function(e){return e.theme.colors.$D80}),(function(e){return e.theme.colors.$B50}),(function(e){return e.theme.colors.$B40}),(function(e){return e.theme.colors.$B40}),(function(e){return e.theme.colors.$D60}));f()(ge,"x-table",["columns","data"]);n.default=ge}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9vcHRpb25zLmpzIiwid2VicGFjazovLy8uLi9zcmMvY3JlYXRlLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jcmVhdGUtY29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kaWZmL2NoaWxkcmVuLmpzIiwid2VicGFjazovLy8uLi9zcmMvZGlmZi9wcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RpZmYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jbG9uZS1lbGVtZW50LmpzIiwid2VicGFjazovLy8uLi9zcmMvZGlmZi9jYXRjaC1lcnJvci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbmtzYXJhZi9nb29iZXIvZGlzdC9nb29iZXIubW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlLmpzIiwid2VicGFjazovLy8uLi9zcmMvUHVyZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2ZvcndhcmRSZWYuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9DaGlsZHJlbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3N1c3BlbnNlLmpzIiwid2VicGFjazovLy8uLi9zcmMvc3VzcGVuc2UtbGlzdC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BvcnRhbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tZW1vLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcmVhY3QtY3VzdG9tLWVsZW1lbnQvZGlzdC9idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2dsb2JhbFN0eWxlcy50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3VzZUN1c3RvbUV2ZW50LnRzeCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzLmpzIiwid2VicGFjazovLy8uLi9zcmMvcHVibGljVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL21ha2VEZWZhdWx0UGx1Z2luSG9va3MuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9ob29rcy91c2VDb2x1bW5WaXNpYmlsaXR5LmpzIiwid2VicGFjazovLy8uLi9zcmMvaG9va3MvdXNlVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9wbHVnaW4taG9va3MvdXNlRXhwYW5kZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9maWx0ZXJUeXBlcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VGaWx0ZXJzLmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZUdsb2JhbEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VHcm91cEJ5LmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZVNvcnRCeS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VQYWdpbmF0aW9uLmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZVJvd1NlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VSb3dTdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VDb2x1bW5PcmRlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VSZXNpemVDb2x1bW5zLmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZUFic29sdXRlTGF5b3V0LmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZUZsZXhMYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvVGFibGUvaW5kZXgudHN4Il0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwib3B0aW9ucyIsImlzVmFsaWRFbGVtZW50IiwicSIsImRlZmVyIiwicHJldkRlYm91bmNlIiwiSVNfSFlEUkFURSIsIkVNUFRZX09CSiIsIkVNUFRZX0FSUiIsIklTX05PTl9ESU1FTlNJT05BTCIsImFzc2lnbiIsIm9iaiIsInByb3BzIiwicmVtb3ZlTm9kZSIsIm5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImNoaWxkcmVuIiwibm9ybWFsaXplZFByb3BzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicHVzaCIsImRlZmF1bHRQcm9wcyIsImNyZWF0ZVZOb2RlIiwicmVmIiwidm5vZGUiLCJfY2hpbGRyZW4iLCJfcGFyZW50IiwiX2RlcHRoIiwiX2RvbSIsIl9sYXN0RG9tQ2hpbGQiLCJfY29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJ1bmRlZmluZWQiLCJjcmVhdGVSZWYiLCJGcmFnbWVudCIsIkNvbXBvbmVudCIsImNvbnRleHQiLCJnZXREb21TaWJsaW5nIiwiY2hpbGRJbmRleCIsImluZGV4T2YiLCJzaWJsaW5nIiwidXBkYXRlUGFyZW50RG9tUG9pbnRlcnMiLCJjaGlsZCIsImJhc2UiLCJlbnF1ZXVlUmVuZGVyIiwiX2RpcnR5IiwiZGVib3VuY2VSZW5kZXJpbmciLCJwcm9jZXNzIiwiY29tcG9uZW50IiwiY29tbWl0UXVldWUiLCJuZXdEb20iLCJvbGREb20iLCJwYXJlbnREb20iLCJzb3J0IiwiYSIsImIiLCJfdm5vZGUiLCJwb3AiLCJfcGFyZW50RG9tIiwiZGlmZiIsIl9jb250ZXh0Iiwib3duZXJTVkdFbGVtZW50IiwiY29tbWl0Um9vdCIsImRpZmZDaGlsZHJlbiIsIm5ld1BhcmVudFZOb2RlIiwib2xkUGFyZW50Vk5vZGUiLCJpc1N2ZyIsImV4Y2Vzc0RvbUNoaWxkcmVuIiwiaXNIeWRyYXRpbmciLCJqIiwib2xkVk5vZGUiLCJzaWJEb20iLCJmaXJzdENoaWxkRG9tIiwicmVmcyIsIm9sZENoaWxkcmVuIiwib2xkQ2hpbGRyZW5MZW5ndGgiLCJ0b0NoaWxkQXJyYXkiLCJjaGlsZFZOb2RlIiwib3V0ZXIiLCJhcHBlbmRDaGlsZCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwidW5tb3VudCIsImFwcGx5UmVmIiwiY2FsbGJhY2siLCJmbGF0dGVuZWQiLCJBcnJheSIsImlzQXJyYXkiLCJzZXRTdHlsZSIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJ0ZXN0IiwiZG9tIiwib2xkVmFsdWUiLCJ1c2VDYXB0dXJlIiwibmFtZUxvd2VyIiwiY3NzVGV4dCIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsInNsaWNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50UHJveHkiLCJfbGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZUF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlTlMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJlIiwiZXZlbnQiLCJuZXdWTm9kZSIsInRtcCIsImlzTmV3Iiwib2xkUHJvcHMiLCJvbGRTdGF0ZSIsInNuYXBzaG90IiwiY2xlYXJQcm9jZXNzaW5nRXhjZXB0aW9uIiwibmV3UHJvcHMiLCJwcm92aWRlciIsImNjdHgiLCJuZXdUeXBlIiwiX2RpZmYiLCJjb250ZXh0VHlwZSIsIl9pZCIsIl9kZWZhdWx0VmFsdWUiLCJfcHJvY2Vzc2luZ0V4Y2VwdGlvbiIsIl9wZW5kaW5nRXJyb3IiLCJyZW5kZXIiLCJkb1JlbmRlciIsInN1YiIsInN0YXRlIiwiX3JlbmRlckNhbGxiYWNrcyIsIl9uZXh0U3RhdGUiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJjb21wb25lbnRXaWxsTW91bnQiLCJjb21wb25lbnREaWRNb3VudCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJfZm9yY2UiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJjb21wb25lbnRXaWxsVXBkYXRlIiwiY29tcG9uZW50RGlkVXBkYXRlIiwiX3JlbmRlciIsImdldENoaWxkQ29udGV4dCIsImdldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwiZGlmZkVsZW1lbnROb2RlcyIsImRpZmZlZCIsIl9jYXRjaEVycm9yIiwicm9vdCIsIl9jb21taXQiLCJzb21lIiwiY2IiLCJvbGRIdG1sIiwibmV3SHRtbCIsIm5vZGVUeXBlIiwibG9jYWxOYW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsImNyZWF0ZUVsZW1lbnROUyIsImRhdGEiLCJjaGlsZE5vZGVzIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJhdHRyaWJ1dGVzIiwiX19odG1sIiwiaW5uZXJIVE1MIiwiaHlkcmF0ZSIsImRpZmZQcm9wcyIsImNoZWNrZWQiLCJjdXJyZW50IiwicGFyZW50Vk5vZGUiLCJza2lwUmVtb3ZlIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ0aGlzIiwicmVwbGFjZU5vZGUiLCJfcm9vdCIsImNsb25lRWxlbWVudCIsImNyZWF0ZUNvbnRleHQiLCJkZWZhdWx0VmFsdWUiLCJjdHgiLCJDb25zdW1lciIsIlByb3ZpZGVyIiwic3VicyIsIl90aGlzIiwiX3Byb3BzIiwib2xkIiwic3BsaWNlIiwiZXJyb3IiLCJoYXNDYXVnaHQiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJzZXRTdGF0ZSIsImNvbXBvbmVudERpZENhdGNoIiwidXBkYXRlIiwiZm9yY2VVcGRhdGUiLCJQcm9taXNlIiwidGhlbiIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiY3VycmVudEluZGV4IiwiY3VycmVudENvbXBvbmVudCIsInByZXZSYWYiLCJhZnRlclBhaW50RWZmZWN0cyIsIm9sZEJlZm9yZVJlbmRlciIsIm9sZEFmdGVyRGlmZiIsIm9sZENvbW1pdCIsIm9sZEJlZm9yZVVubW91bnQiLCJnZXRIb29rU3RhdGUiLCJpbmRleCIsIl9ob29rIiwiaG9va3MiLCJfX2hvb2tzIiwiX2xpc3QiLCJfcGVuZGluZ0VmZmVjdHMiLCJ1c2VTdGF0ZSIsImluaXRpYWxTdGF0ZSIsInVzZVJlZHVjZXIiLCJpbnZva2VPclJldHVybiIsInJlZHVjZXIiLCJpbml0IiwiaG9va1N0YXRlIiwiX3ZhbHVlIiwibmV4dFZhbHVlIiwiYWN0aW9uIiwidXNlRWZmZWN0IiwiYXJncyIsImFyZ3NDaGFuZ2VkIiwiX2FyZ3MiLCJ1c2VMYXlvdXRFZmZlY3QiLCJ1c2VSZWYiLCJpbml0aWFsVmFsdWUiLCJ1c2VNZW1vIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsImNyZWF0ZUhhbmRsZSIsImNvbmNhdCIsImZhY3RvcnkiLCJfZmFjdG9yeSIsInVzZUNhbGxiYWNrIiwidXNlQ29udGV4dCIsInVzZURlYnVnVmFsdWUiLCJmb3JtYXR0ZXIiLCJmbHVzaEFmdGVyUGFpbnRFZmZlY3RzIiwiZm9yRWFjaCIsImludm9rZUNsZWFudXAiLCJpbnZva2VFZmZlY3QiLCJob29rIiwiX2NsZWFudXAiLCJyZXN1bHQiLCJvbGRBcmdzIiwibmV3QXJncyIsImFyZyIsImYiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyYWYiLCJkb25lIiwiY2xlYXJUaW1lb3V0IiwidGltZW91dCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2luZG93IiwiZmlsdGVyIiwidiIsInF1ZXJ5U2VsZWN0b3IiLCJzZWxmIiwiX2dvb2JlciIsImhlYWQiLCJpZCIsImZpcnN0Q2hpbGQiLCJ1IiwiSlNPTiIsInN0cmluZ2lmeSIsInNwbGl0IiwicmVkdWNlIiwiY2hhckNvZGVBdCIsImV4ZWMiLCJzaGlmdCIsInVuc2hpZnQiLCJjbGFzc05hbWUiLCJtYXAiLCJ0YXJnZXQiLCJnIiwidGhlbWUiLCJhcHBseSIsInN0cmluZ3MiLCJyYXciLCJzaGFsbG93RGlmZmVycyIsIlB1cmVDb21wb25lbnQiLCJpc1B1cmVSZWFjdENvbXBvbmVudCIsIm9sZFZOb2RlSG9vayIsImZvcndhcmRSZWYiLCJmbiIsIkZvcndhcmRlZCIsImNsb25lIiwiaXNSZWFjdENvbXBvbmVudCIsIl9mb3J3YXJkZWQiLCJkaXNwbGF5TmFtZSIsIm1hcEZuIiwiQ2hpbGRyZW4iLCJjb3VudCIsIm9ubHkiLCJFcnJvciIsInRvQXJyYXkiLCJvbGRDYXRjaEVycm9yIiwiZGV0YWNoZWRDbG9uZSIsIlN1c3BlbnNlIiwiX3N1c3BlbnNpb25zIiwiX2RldGFjaE9uTmV4dFJlbmRlciIsInN1c3BlbmRlZCIsIl9zdXNwZW5kZWQiLCJTdXNwZW5zZUxpc3QiLCJfbmV4dCIsIl9tYXAiLCJfY2hpbGREaWRTdXNwZW5kIiwicHJvbWlzZSIsInN1c3BlbmRpbmdDb21wb25lbnQiLCJyZXNvbHZlZCIsIm9uUmVzb2x2ZWQiLCJvblN1c3BlbnNpb25Db21wbGV0ZSIsIl9zdXNwZW5kZWRDb21wb25lbnRXaWxsVW5tb3VudCIsImZhbGxiYWNrIiwibGlzdCIsImRlbGV0ZSIsInJldmVhbE9yZGVyIiwic2l6ZSIsImRlbGVnYXRlZCIsIndyYXBwZWRVbnN1c3BlbmQiLCJ1bnN1c3BlbmQiLCJNYXAiLCJyZXZlcnNlIiwic2V0IiwiQ29udGV4dFByb3ZpZGVyIiwiUG9ydGFsIiwiY29udGFpbmVyIiwid3JhcCIsIl9jb250YWluZXIiLCJfdGVtcCIsIl91bm1vdW50IiwiX3dyYXAiLCJfaGFzTW91bnRlZCIsIkNBTUVMX1BST1BTIiwiUkVBQ1RfRUxFTUVOVF9UWVBFIiwiZm9yIiwicGFyZW50IiwicHJlYWN0UmVuZGVyIiwib2xkRXZlbnRIb29rIiwic2V0U2FmZURlc2NyaXB0b3IiLCJwcm90byIsImNvbmZpZ3VyYWJsZSIsInBlcnNpc3QiLCJuYXRpdmVFdmVudCIsImNsYXNzTmFtZURlc2NyaXB0b3IiLCJjbGFzcyIsIiQkdHlwZW9mIiwic2hvdWxkU2FuaXRpemUiLCJhdHRycyIsIm11bHRpcGxlIiwic2VsZWN0ZWQiLCJvbmRvdWJsZWNsaWNrIiwib25kYmxjbGljayIsIm9uYmVmb3JlaW5wdXQiLCJvbmNoYW5nZSIsIm5vcm1hbGl6ZWQiLCJvbmlucHV0IiwiX3BhdGNoZWRMaWZlY3ljbGVzIiwiZWxlbWVudCIsInZlcnNpb24iLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwiY3JlYXRlUG9ydGFsIiwiY3JlYXRlRmFjdG9yeSIsInByZWFjdENsb25lRWxlbWVudCIsImZpbmRET01Ob2RlIiwibWVtbyIsImNvbXBhcmVyIiwic2hvdWxkVXBkYXRlIiwibmV4dFByb3BzIiwidXBkYXRlUmVmIiwiTWVtb2VkIiwidW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMiLCJsYXp5IiwibG9hZGVyIiwicHJvbSIsIkxhenkiLCJkZWZhdWx0IiwicmVxdWlyZSIsImxvYWRlZCIsIm5vZGVWYWx1ZSIsImgiLCJub2RlTmFtZSIsIl92ZG9tQ29tcG9uZW50IiwiaXRlcmF0b3IiLCJUeXBlRXJyb3IiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiSFRNTEVsZW1lbnQiLCJ3cml0YWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiY3VzdG9tRWxlbWVudHMiLCJkZWZpbmUiLCJjb2xvcnMiLCIkRDEwIiwiJEQyMCIsIiREMzAiLCIkRDQwIiwiJEQ1MCIsIiRENTUiLCIkRDYwIiwiJEQ3MCIsIiREODAiLCIkQjAwIiwiJEIwNSIsIiRCMTAiLCIkQjIwIiwiJEIyNSIsIiRCMjciLCIkQjMwIiwiJEI0MCIsIiRCNTAiLCIkQjYwIiwic2lkZWJhciIsIiRiZyIsIiRkaXZpZGVyIiwiJGJnSG92ZXIiLCIkYmdBY3RpdmUiLCJUaGVtZUNvbnRleHQiLCJzZXR1cCIsIlN0eWxlZEJhc2UiLCJzdHlsZWQiLCJBcHAiLCJ1c2VDdXN0b21FdmVudCIsImV2ZW50TmFtZSIsImV2RGF0YSIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImJ1YmJsZXMiLCJfZXh0ZW5kcyIsInNvdXJjZSIsImFjdGlvbnMiLCJkZWZhdWx0Q29sdW1uIiwiQ2VsbCIsIndpZHRoIiwibWluV2lkdGgiLCJtYXhXaWR0aCIsIk51bWJlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJtZXJnZVByb3BzIiwicHJvcExpc3QiLCJuZXh0IiwibWFrZVByb3BHZXR0ZXIiLCJtZXRhIiwidXNlclByb3BzIiwiaGFuZGxlUHJvcEdldHRlciIsInByZXZQcm9wcyIsInByZXYiLCJyZWR1Y2VIb29rcyIsImluaXRpYWwiLCJsb29wSG9va3MiLCJlbnN1cmVQbHVnaW5PcmRlciIsInBsdWdpbnMiLCJiZWZvcmVzIiwicGx1Z2luTmFtZSIsImFmdGVycyIsInBsdWdpbiIsImJlZm9yZSIsImFmdGVyIiwiZnVuY3Rpb25hbFVwZGF0ZSIsInVwZGF0ZXIiLCJ1c2VHZXRMYXRlc3QiLCJSZWFjdCIsInVzZUNvbnN1bWVIb29rR2V0dGVyIiwiaG9va05hbWUiLCJtYWtlUmVuZGVyZXIiLCJpbnN0YW5jZSIsImNvbHVtbiIsIkNvbXAiLCJpc0NsYXNzQ29tcG9uZW50IiwiaXNGdW5jdGlvbkNvbXBvbmVudCIsImluY2x1ZGVzIiwiaXNFeG90aWNDb21wb25lbnQiLCJmbGV4UmVuZGVyIiwiZGVjb3JhdGVDb2x1bW4iLCJ1c2VyRGVmYXVsdENvbHVtbiIsImRlcHRoIiwiYWNjZXNzb3IiLCJIZWFkZXIiLCJhY2Nlc3NvclBhdGgiLCJyb3ciLCJwYXRoIiwiZGVmIiwiY2FjaGVLZXkiLCJwYXRoT2JqIiwicGF0aE9iakNhY2hlIiwiZmxhdHRlbkRlZXAiLCJhcnIiLCJuZXdBcnIiLCJTdHJpbmciLCJtYWtlUGF0aEFycmF5IiwidmFsIiwiY3Vyc29yIiwiZ2V0QnkiLCJjb25zb2xlIiwiRm9vdGVyIiwiZGVjb3JhdGVDb2x1bW5UcmVlIiwiY29sdW1ucyIsIm1ha2VIZWFkZXJHcm91cHMiLCJmbGF0Q29sdW1ucyIsImhlYWRlckdyb3VwcyIsImJ1aWxkR3JvdXAiLCJoZWFkZXJHcm91cCIsImhlYWRlcnMiLCJwYXJlbnRDb2x1bW5zIiwiaGFzUGFyZW50cyIsImNvbCIsImlzRmlyc3QiLCJsYXRlc3RQYXJlbnRDb2x1bW4iLCJzaW1pbGFyUGFyZW50Q29sdW1ucyIsIm9yaWdpbmFsSWQiLCJwbGFjZWhvbGRlckNvbHVtbiIsInBsYWNlaG9sZGVyT2YiLCJzdW0iLCJoZWFkZXIiLCJmbGF0dGVuQnkiLCJjaGlsZEtleSIsInJlY3Vyc2UiLCJyZU9wZW5CcmFja2V0IiwicmVDbG9zZUJyYWNrZXQiLCJkZWZhdWx0Q2VsbHMiLCJjZWxsIiwiZGVmYXVsdEdldEhlYWRlclByb3BzIiwiY29sU3BhbiIsInRvdGFsVmlzaWJsZUhlYWRlckNvdW50IiwiZGVmYXVsdEdldEZvb3RlclByb3BzIiwiZGVmYXVsdEdldEhlYWRlckdyb3VwUHJvcHMiLCJkZWZhdWx0R2V0Rm9vdGVyR3JvdXBQcm9wcyIsImRlZmF1bHRHZXRSb3dQcm9wcyIsImRlZmF1bHRHZXRDZWxsUHJvcHMiLCJtYWtlRGVmYXVsdFBsdWdpbkhvb2tzIiwidXNlT3B0aW9ucyIsInN0YXRlUmVkdWNlcnMiLCJ1c2VDb250cm9sbGVkU3RhdGUiLCJjb2x1bW5zRGVwcyIsImZsYXRDb2x1bW5zRGVwcyIsImhlYWRlckdyb3Vwc0RlcHMiLCJ1c2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMiLCJ1c2VJbnN0YW5jZSIsInVzZVJvd3MiLCJjZWxscyIsInByZXBhcmVSb3ciLCJnZXRUYWJsZVByb3BzIiwiZ2V0VGFibGVCb2R5UHJvcHMiLCJnZXRIZWFkZXJHcm91cFByb3BzIiwiZ2V0Rm9vdGVyR3JvdXBQcm9wcyIsImdldEhlYWRlclByb3BzIiwiZ2V0Rm9vdGVyUHJvcHMiLCJnZXRSb3dQcm9wcyIsImdldENlbGxQcm9wcyIsInVzZUZpbmFsSW5zdGFuY2UiLCJ1c2VDb2x1bW5WaXNpYmlsaXR5IiwiZGVmYXVsdEdldFRvZ2dsZUhpZGRlblByb3BzIiwib25DaGFuZ2UiLCJ0aXRsZSIsImRlZmF1bHRHZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzIiwiaW5kZXRlcm1pbmF0ZSIsImhpZGRlbkNvbHVtbnMiLCJzdWJIZWFkZXIiLCJoYW5kbGVDb2x1bW4iLCJwYXJlbnRWaXNpYmxlIiwic3ViQ29sdW1uIiwiZmxhdEhlYWRlcnMiLCJkaXNwYXRjaCIsImdldEluc3RhbmNlIiwiYWxsQ29sdW1uc0hpZGRlbiIsInRvZ2dsZUhpZGVDb2x1bW4iLCJjb2x1bW5JZCIsInNldEhpZGRlbkNvbHVtbnMiLCJ0b2dnbGVIaWRlQWxsQ29sdW1ucyIsImdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHNIb29rcyIsImdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHMiLCJnZXRUb2dnbGVIaWRkZW5Qcm9wc0hvb2tzIiwiZGVmYXVsdEluaXRpYWxTdGF0ZSIsImRlZmF1bHRDb2x1bW5JbnN0YW5jZSIsImRlZmF1bHRSZWR1Y2VyIiwicHJldlN0YXRlIiwiZGVmYXVsdEdldFN1YlJvd3MiLCJkZWZhdWx0R2V0Um93SWQiLCJkZWZhdWx0VXNlQ29udHJvbGxlZFN0YXRlIiwiYXBwbHlEZWZhdWx0cyIsImdldFN1YlJvd3MiLCJnZXRSb3dJZCIsInN0YXRlUmVkdWNlciIsInVzZVRhYmxlIiwiaW5zdGFuY2VSZWYiLCJnZXRVc2VPcHRpb25zSG9va3MiLCJ1c2VyQ29sdW1ucyIsImdldFN0YXRlUmVkdWNlcnMiLCJnZXRTdGF0ZVJlZHVjZXIiLCJoYW5kbGVyIiwicmVkdWNlclN0YXRlIiwiZ2V0VXNlQ29udHJvbGxlZFN0YXRlSG9va3MiLCJnZXRDb2x1bW5zSG9va3MiLCJnZXRDb2x1bW5zRGVwc0hvb2tzIiwiZmxhdFJvd3MiLCJhY2Nlc3NSb3ciLCJvcmlnaW5hbFJvdyIsIm9yaWdpbmFsIiwic3ViUm93cyIsInVucHJlcGFyZWRBY2Nlc3NXYXJuaW5nIiwicm93cyIsImZsYXRDb2x1bW5zSG9va3MiLCJmbGF0Q29sdW1uc0RlcHNIb29rcyIsImdldEhlYWRlckdyb3VwcyIsImdldEhlYWRlckdyb3Vwc0RlcHMiLCJnZXRVc2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMiLCJjYWxjdWxhdGVIZWFkZXJXaWR0aHMiLCJ0b3RhbENvbHVtbnNNaW5XaWR0aCIsInRvdGFsQ29sdW1uc1dpZHRoIiwidG90YWxDb2x1bW5zTWF4V2lkdGgiLCJnZXRVc2VJbnN0YW5jZSIsImdldEhlYWRlclByb3BzSG9va3MiLCJnZXRGb290ZXJQcm9wc0hvb2tzIiwiZ2V0SGVhZGVyR3JvdXBQcm9wc0hvb2tzIiwiZ2V0Rm9vdGVyR3JvdXBQcm9wc0hvb2tzIiwiZ2V0VXNlUm93c0hvb2tzIiwiZ2V0UHJlcGFyZVJvd0hvb2tzIiwiZ2V0Um93UHJvcHNIb29rcyIsImdldENlbGxQcm9wc0hvb2tzIiwiY2VsbHNIb29rcyIsImdldFRhYmxlUHJvcHNIb29rcyIsImdldFRhYmxlQm9keVByb3BzSG9va3MiLCJnZXRVc2VGaW5hbEluc3RhbmNlSG9va3MiLCJsZWZ0Iiwic3VtVG90YWxNaW5XaWR0aCIsInN1bVRvdGFsV2lkdGgiLCJzdW1Ub3RhbE1heFdpZHRoIiwic3ViSGVhZGVycyIsInRvdGFsTWluV2lkdGgiLCJ0b3RhbFdpZHRoIiwidG90YWxNYXhXaWR0aCIsIk1hdGgiLCJ0ZXh0IiwiaWRzIiwiZmlsdGVyVmFsdWUiLCJyb3dWYWx1ZSIsImV4YWN0VGV4dCIsImV4YWN0VGV4dENhc2UiLCJpbmNsdWRlc0FsbCIsImV4YWN0IiwiZXF1YWxzIiwiYmV0d2VlbiIsIm1pbiIsIm1heCIsInRlbXAiLCJjZWxsU3R5bGVzIiwicG9zaXRpb24iLCJ0b3AiLCJ1c2VBYnNvbHV0ZUxheW91dCIsImdldFJvd1N0eWxlcyIsIlRhYmxlIiwiZGF0YVN0YXRlIiwic2V0RGF0YSIsImNvbHVtbnNTdGF0ZSIsInNldENvbHVtbnMiLCJjb21wb25lbnRSZWYiLCJwYXJzZWREYXRhIiwicGFyc2UiLCJwYXJzZWRDb2x1bW5zIiwibG9nIiwiU3R5bGVzIiwib25DbGljayIsInZhbHVlcyIsInJlZ2lzdGVyIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxF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QUM5WixHQUFELE9BQVdBLEVBQU00USxNQUFNc0gsT0FBT1MsUUFReEIsU0FBQzNZLEdBQUQsT0FBV0EsRUFBTTRRLE1BQU1zSCxPQUFPa0IsUUFNbEMsU0FBQ3BaLEdBQUQsT0FBV0EsRUFBTTRRLE1BQU1zSCxPQUFPaUIsUUFRdkIsU0FBQ25aLEdBQUQsT0FBV0EsRUFBTTRRLE1BQU1zSCxPQUFPaUIsUUFReEIsU0FBQ25aLEdBQUQsT0FBV0EsRUFBTTRRLE1BQU1zSCxPQUFPTyxRQVEvRHlRLElBQVNiLEdBQU8sVUFBVyxDQUFDLFVBQVcsU0FFeEJBIiwiZmlsZSI6IlRhYmxlL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE0KTtcbiIsImV4cG9ydCBjb25zdCBFTVBUWV9PQkogPSB7fTtcbmV4cG9ydCBjb25zdCBFTVBUWV9BUlIgPSBbXTtcbmV4cG9ydCBjb25zdCBJU19OT05fRElNRU5TSU9OQUwgPSAvYWNpdHxleCg/OnN8Z3xufHB8JCl8cnBofGdyaWR8b3dzfG1uY3xudHd8aW5lW2NoXXx6b298Xm9yZC9pO1xuIiwiaW1wb3J0IHsgX2NhdGNoRXJyb3IgfSBmcm9tICcuL2RpZmYvY2F0Y2gtZXJyb3InO1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLk9wdGlvbnN9ICAqL1xuY29uc3Qgb3B0aW9ucyA9IHtcblx0X2NhdGNoRXJyb3Jcbn07XG5cbmV4cG9ydCBkZWZhdWx0IG9wdGlvbnM7XG4iLCJpbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiB2aXJ0dWFsIG5vZGUgKHVzZWQgZm9yIEpTWClcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGVbXCJ0eXBlXCJdfSB0eXBlIFRoZSBub2RlIG5hbWUgb3IgQ29tcG9uZW50XG4gKiBjb25zdHJ1Y3RvciBmb3IgdGhpcyB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0IHwgbnVsbCB8IHVuZGVmaW5lZH0gW3Byb3BzXSBUaGUgcHJvcGVydGllcyBvZiB0aGUgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLicpLkNvbXBvbmVudENoaWxkcmVuPn0gW2NoaWxkcmVuXSBUaGUgY2hpbGRyZW4gb2YgdGhlIHZpcnR1YWwgbm9kZVxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlLCBwcm9wcywgY2hpbGRyZW4pIHtcblx0bGV0IG5vcm1hbGl6ZWRQcm9wcyA9IHt9LFxuXHRcdGk7XG5cdGZvciAoaSBpbiBwcm9wcykge1xuXHRcdGlmIChpICE9PSAna2V5JyAmJiBpICE9PSAncmVmJykgbm9ybWFsaXplZFByb3BzW2ldID0gcHJvcHNbaV07XG5cdH1cblxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDMpIHtcblx0XHRjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3ByZWFjdGpzL3ByZWFjdC9pc3N1ZXMvMTkxNlxuXHRcdGZvciAoaSA9IDM7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNoaWxkcmVuLnB1c2goYXJndW1lbnRzW2ldKTtcblx0XHR9XG5cdH1cblx0aWYgKGNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRub3JtYWxpemVkUHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcblx0fVxuXG5cdC8vIElmIGEgQ29tcG9uZW50IFZOb2RlLCBjaGVjayBmb3IgYW5kIGFwcGx5IGRlZmF1bHRQcm9wc1xuXHQvLyBOb3RlOiB0eXBlIG1heSBiZSB1bmRlZmluZWQgaW4gZGV2ZWxvcG1lbnQsIG11c3QgbmV2ZXIgZXJyb3IgaGVyZS5cblx0aWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmIHR5cGUuZGVmYXVsdFByb3BzICE9IG51bGwpIHtcblx0XHRmb3IgKGkgaW4gdHlwZS5kZWZhdWx0UHJvcHMpIHtcblx0XHRcdGlmIChub3JtYWxpemVkUHJvcHNbaV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRub3JtYWxpemVkUHJvcHNbaV0gPSB0eXBlLmRlZmF1bHRQcm9wc1tpXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY3JlYXRlVk5vZGUoXG5cdFx0dHlwZSxcblx0XHRub3JtYWxpemVkUHJvcHMsXG5cdFx0cHJvcHMgJiYgcHJvcHMua2V5LFxuXHRcdHByb3BzICYmIHByb3BzLnJlZlxuXHQpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIFZOb2RlICh1c2VkIGludGVybmFsbHkgYnkgUHJlYWN0KVxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInR5cGVcIl19IHR5cGUgVGhlIG5vZGUgbmFtZSBvciBDb21wb25lbnRcbiAqIENvbnN0cnVjdG9yIGZvciB0aGlzIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3QgfCBzdHJpbmcgfCBudW1iZXIgfCBudWxsfSBwcm9wcyBUaGUgcHJvcGVydGllcyBvZiB0aGlzIHZpcnR1YWwgbm9kZS5cbiAqIElmIHRoaXMgdmlydHVhbCBub2RlIHJlcHJlc2VudHMgYSB0ZXh0IG5vZGUsIHRoaXMgaXMgdGhlIHRleHQgb2YgdGhlIG5vZGUgKHN0cmluZyBvciBudW1iZXIpLlxuICogQHBhcmFtIHtzdHJpbmcgfCBudW1iZXIgfCBudWxsfSBrZXkgVGhlIGtleSBmb3IgdGhpcyB2aXJ0dWFsIG5vZGUsIHVzZWQgd2hlblxuICogZGlmZmluZyBpdCBhZ2FpbnN0IGl0cyBjaGlsZHJlblxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInJlZlwiXX0gcmVmIFRoZSByZWYgcHJvcGVydHkgdGhhdCB3aWxsXG4gKiByZWNlaXZlIGEgcmVmZXJlbmNlIHRvIGl0cyBjcmVhdGVkIGNoaWxkXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wcywga2V5LCByZWYpIHtcblx0Ly8gVjggc2VlbXMgdG8gYmUgYmV0dGVyIGF0IGRldGVjdGluZyB0eXBlIHNoYXBlcyBpZiB0aGUgb2JqZWN0IGlzIGFsbG9jYXRlZCBmcm9tIHRoZSBzYW1lIGNhbGwgc2l0ZVxuXHQvLyBEbyBub3QgaW5saW5lIGludG8gY3JlYXRlRWxlbWVudCBhbmQgY29lcmNlVG9WTm9kZSFcblx0Y29uc3Qgdm5vZGUgPSB7XG5cdFx0dHlwZSxcblx0XHRwcm9wcyxcblx0XHRrZXksXG5cdFx0cmVmLFxuXHRcdF9jaGlsZHJlbjogbnVsbCxcblx0XHRfcGFyZW50OiBudWxsLFxuXHRcdF9kZXB0aDogMCxcblx0XHRfZG9tOiBudWxsLFxuXHRcdF9sYXN0RG9tQ2hpbGQ6IG51bGwsXG5cdFx0X2NvbXBvbmVudDogbnVsbCxcblx0XHRjb25zdHJ1Y3RvcjogdW5kZWZpbmVkXG5cdH07XG5cblx0aWYgKG9wdGlvbnMudm5vZGUpIG9wdGlvbnMudm5vZGUodm5vZGUpO1xuXG5cdHJldHVybiB2bm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlZigpIHtcblx0cmV0dXJuIHt9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRnJhZ21lbnQocHJvcHMpIHtcblx0cmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgdGhlIGFyZ3VtZW50IGlzIGEgdmFsaWQgUHJlYWN0IFZOb2RlLlxuICogQHBhcmFtIHsqfSB2bm9kZVxuICogQHJldHVybnMge3Zub2RlIGlzIGltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfVxuICovXG5leHBvcnQgY29uc3QgaXNWYWxpZEVsZW1lbnQgPSB2bm9kZSA9PlxuXHR2bm9kZSAhPSBudWxsICYmIHZub2RlLmNvbnN0cnVjdG9yID09PSB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgZGlmZiwgY29tbWl0Um9vdCB9IGZyb20gJy4vZGlmZi9pbmRleCc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgRnJhZ21lbnQgfSBmcm9tICcuL2NyZWF0ZS1lbGVtZW50JztcblxuLyoqXG4gKiBCYXNlIENvbXBvbmVudCBjbGFzcy4gUHJvdmlkZXMgYHNldFN0YXRlKClgIGFuZCBgZm9yY2VVcGRhdGUoKWAsIHdoaWNoXG4gKiB0cmlnZ2VyIHJlbmRlcmluZ1xuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIFRoZSBpbml0aWFsIGNvbXBvbmVudCBwcm9wc1xuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgVGhlIGluaXRpYWwgY29udGV4dCBmcm9tIHBhcmVudCBjb21wb25lbnRzJ1xuICogZ2V0Q2hpbGRDb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQpIHtcblx0dGhpcy5wcm9wcyA9IHByb3BzO1xuXHR0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xufVxuXG4vKipcbiAqIFVwZGF0ZSBjb21wb25lbnQgc3RhdGUgYW5kIHNjaGVkdWxlIGEgcmUtcmVuZGVyLlxuICogQHBhcmFtIHtvYmplY3QgfCAoKHM6IG9iamVjdCwgcDogb2JqZWN0KSA9PiBvYmplY3QpfSB1cGRhdGUgQSBoYXNoIG9mIHN0YXRlXG4gKiBwcm9wZXJ0aWVzIHRvIHVwZGF0ZSB3aXRoIG5ldyB2YWx1ZXMgb3IgYSBmdW5jdGlvbiB0aGF0IGdpdmVuIHRoZSBjdXJyZW50XG4gKiBzdGF0ZSBhbmQgcHJvcHMgcmV0dXJucyBhIG5ldyBwYXJ0aWFsIHN0YXRlXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IFtjYWxsYmFja10gQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb25jZSBjb21wb25lbnQgc3RhdGUgaXNcbiAqIHVwZGF0ZWRcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uKHVwZGF0ZSwgY2FsbGJhY2spIHtcblx0Ly8gb25seSBjbG9uZSBzdGF0ZSB3aGVuIGNvcHlpbmcgdG8gbmV4dFN0YXRlIHRoZSBmaXJzdCB0aW1lLlxuXHRsZXQgcztcblx0aWYgKHRoaXMuX25leHRTdGF0ZSAhPT0gdGhpcy5zdGF0ZSkge1xuXHRcdHMgPSB0aGlzLl9uZXh0U3RhdGU7XG5cdH0gZWxzZSB7XG5cdFx0cyA9IHRoaXMuX25leHRTdGF0ZSA9IGFzc2lnbih7fSwgdGhpcy5zdGF0ZSk7XG5cdH1cblxuXHRpZiAodHlwZW9mIHVwZGF0ZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0dXBkYXRlID0gdXBkYXRlKHMsIHRoaXMucHJvcHMpO1xuXHR9XG5cblx0aWYgKHVwZGF0ZSkge1xuXHRcdGFzc2lnbihzLCB1cGRhdGUpO1xuXHR9XG5cblx0Ly8gU2tpcCB1cGRhdGUgaWYgdXBkYXRlciBmdW5jdGlvbiByZXR1cm5lZCBudWxsXG5cdGlmICh1cGRhdGUgPT0gbnVsbCkgcmV0dXJuO1xuXG5cdGlmICh0aGlzLl92bm9kZSkge1xuXHRcdHRoaXMuX2ZvcmNlID0gZmFsc2U7XG5cdFx0aWYgKGNhbGxiYWNrKSB0aGlzLl9yZW5kZXJDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0ZW5xdWV1ZVJlbmRlcih0aGlzKTtcblx0fVxufTtcblxuLyoqXG4gKiBJbW1lZGlhdGVseSBwZXJmb3JtIGEgc3luY2hyb25vdXMgcmUtcmVuZGVyIG9mIHRoZSBjb21wb25lbnRcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBhZnRlciBjb21wb25lbnQgaXNcbiAqIHJlLXJlbmRlcmVkXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRpZiAodGhpcy5fdm5vZGUpIHtcblx0XHQvLyBTZXQgcmVuZGVyIG1vZGUgc28gdGhhdCB3ZSBjYW4gZGlmZmVyZW50aWF0ZSB3aGVyZSB0aGUgcmVuZGVyIHJlcXVlc3Rcblx0XHQvLyBpcyBjb21pbmcgZnJvbS4gV2UgbmVlZCB0aGlzIGJlY2F1c2UgZm9yY2VVcGRhdGUgc2hvdWxkIG5ldmVyIGNhbGxcblx0XHQvLyBzaG91bGRDb21wb25lbnRVcGRhdGVcblx0XHR0aGlzLl9mb3JjZSA9IHRydWU7XG5cdFx0aWYgKGNhbGxiYWNrKSB0aGlzLl9yZW5kZXJDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0ZW5xdWV1ZVJlbmRlcih0aGlzKTtcblx0fVxufTtcblxuLyoqXG4gKiBBY2NlcHRzIGBwcm9wc2AgYW5kIGBzdGF0ZWAsIGFuZCByZXR1cm5zIGEgbmV3IFZpcnR1YWwgRE9NIHRyZWUgdG8gYnVpbGQuXG4gKiBWaXJ0dWFsIERPTSBpcyBnZW5lcmFsbHkgY29uc3RydWN0ZWQgdmlhIFtKU1hdKGh0dHA6Ly9qYXNvbmZvcm1hdC5jb20vd3RmLWlzLWpzeCkuXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgUHJvcHMgKGVnOiBKU1ggYXR0cmlidXRlcykgcmVjZWl2ZWQgZnJvbSBwYXJlbnRcbiAqIGVsZW1lbnQvY29tcG9uZW50XG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgVGhlIGNvbXBvbmVudCdzIGN1cnJlbnQgc3RhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IENvbnRleHQgb2JqZWN0LCBhcyByZXR1cm5lZCBieSB0aGUgbmVhcmVzdFxuICogYW5jZXN0b3IncyBgZ2V0Q2hpbGRDb250ZXh0KClgXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2luZGV4JykuQ29tcG9uZW50Q2hpbGRyZW4gfCB2b2lkfVxuICovXG5Db21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9IEZyYWdtZW50O1xuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlXG4gKiBAcGFyYW0ge251bWJlciB8IG51bGx9IFtjaGlsZEluZGV4XVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9tU2libGluZyh2bm9kZSwgY2hpbGRJbmRleCkge1xuXHRpZiAoY2hpbGRJbmRleCA9PSBudWxsKSB7XG5cdFx0Ly8gVXNlIGNoaWxkSW5kZXg9PW51bGwgYXMgYSBzaWduYWwgdG8gcmVzdW1lIHRoZSBzZWFyY2ggZnJvbSB0aGUgdm5vZGUncyBzaWJsaW5nXG5cdFx0cmV0dXJuIHZub2RlLl9wYXJlbnRcblx0XHRcdD8gZ2V0RG9tU2libGluZyh2bm9kZS5fcGFyZW50LCB2bm9kZS5fcGFyZW50Ll9jaGlsZHJlbi5pbmRleE9mKHZub2RlKSArIDEpXG5cdFx0XHQ6IG51bGw7XG5cdH1cblxuXHRsZXQgc2libGluZztcblx0Zm9yICg7IGNoaWxkSW5kZXggPCB2bm9kZS5fY2hpbGRyZW4ubGVuZ3RoOyBjaGlsZEluZGV4KyspIHtcblx0XHRzaWJsaW5nID0gdm5vZGUuX2NoaWxkcmVuW2NoaWxkSW5kZXhdO1xuXG5cdFx0aWYgKHNpYmxpbmcgIT0gbnVsbCAmJiBzaWJsaW5nLl9kb20gIT0gbnVsbCkge1xuXHRcdFx0Ly8gU2luY2UgdXBkYXRlUGFyZW50RG9tUG9pbnRlcnMga2VlcHMgX2RvbSBwb2ludGVyIGNvcnJlY3QsXG5cdFx0XHQvLyB3ZSBjYW4gcmVseSBvbiBfZG9tIHRvIHRlbGwgdXMgaWYgdGhpcyBzdWJ0cmVlIGNvbnRhaW5zIGFcblx0XHRcdC8vIHJlbmRlcmVkIERPTSBub2RlLCBhbmQgd2hhdCB0aGUgZmlyc3QgcmVuZGVyZWQgRE9NIG5vZGUgaXNcblx0XHRcdHJldHVybiBzaWJsaW5nLl9kb207XG5cdFx0fVxuXHR9XG5cblx0Ly8gSWYgd2UgZ2V0IGhlcmUsIHdlIGhhdmUgbm90IGZvdW5kIGEgRE9NIG5vZGUgaW4gdGhpcyB2bm9kZSdzIGNoaWxkcmVuLlxuXHQvLyBXZSBtdXN0IHJlc3VtZSBmcm9tIHRoaXMgdm5vZGUncyBzaWJsaW5nIChpbiBpdCdzIHBhcmVudCBfY2hpbGRyZW4gYXJyYXkpXG5cdC8vIE9ubHkgY2xpbWIgdXAgYW5kIHNlYXJjaCB0aGUgcGFyZW50IGlmIHdlIGFyZW4ndCBzZWFyY2hpbmcgdGhyb3VnaCBhIERPTVxuXHQvLyBWTm9kZSAobWVhbmluZyB3ZSByZWFjaGVkIHRoZSBET00gcGFyZW50IG9mIHRoZSBvcmlnaW5hbCB2bm9kZSB0aGF0IGJlZ2FuXG5cdC8vIHRoZSBzZWFyY2gpXG5cdHJldHVybiB0eXBlb2Ygdm5vZGUudHlwZSA9PT0gJ2Z1bmN0aW9uJyA/IGdldERvbVNpYmxpbmcodm5vZGUpIDogbnVsbDtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGluLXBsYWNlIHJlLXJlbmRlcmluZyBvZiBhIGNvbXBvbmVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSBjb21wb25lbnQgVGhlIGNvbXBvbmVudCB0byByZXJlbmRlclxuICovXG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGxldCB2bm9kZSA9IGNvbXBvbmVudC5fdm5vZGUsXG5cdFx0b2xkRG9tID0gdm5vZGUuX2RvbSxcblx0XHRwYXJlbnREb20gPSBjb21wb25lbnQuX3BhcmVudERvbTtcblxuXHRpZiAocGFyZW50RG9tKSB7XG5cdFx0bGV0IGNvbW1pdFF1ZXVlID0gW107XG5cdFx0bGV0IG5ld0RvbSA9IGRpZmYoXG5cdFx0XHRwYXJlbnREb20sXG5cdFx0XHR2bm9kZSxcblx0XHRcdGFzc2lnbih7fSwgdm5vZGUpLFxuXHRcdFx0Y29tcG9uZW50Ll9jb250ZXh0LFxuXHRcdFx0cGFyZW50RG9tLm93bmVyU1ZHRWxlbWVudCAhPT0gdW5kZWZpbmVkLFxuXHRcdFx0bnVsbCxcblx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0b2xkRG9tID09IG51bGwgPyBnZXREb21TaWJsaW5nKHZub2RlKSA6IG9sZERvbVxuXHRcdCk7XG5cdFx0Y29tbWl0Um9vdChjb21taXRRdWV1ZSwgdm5vZGUpO1xuXG5cdFx0aWYgKG5ld0RvbSAhPSBvbGREb20pIHtcblx0XHRcdHVwZGF0ZVBhcmVudERvbVBvaW50ZXJzKHZub2RlKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZVxuICovXG5mdW5jdGlvbiB1cGRhdGVQYXJlbnREb21Qb2ludGVycyh2bm9kZSkge1xuXHRpZiAoKHZub2RlID0gdm5vZGUuX3BhcmVudCkgIT0gbnVsbCAmJiB2bm9kZS5fY29tcG9uZW50ICE9IG51bGwpIHtcblx0XHR2bm9kZS5fZG9tID0gdm5vZGUuX2NvbXBvbmVudC5iYXNlID0gbnVsbDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLl9jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0bGV0IGNoaWxkID0gdm5vZGUuX2NoaWxkcmVuW2ldO1xuXHRcdFx0aWYgKGNoaWxkICE9IG51bGwgJiYgY2hpbGQuX2RvbSAhPSBudWxsKSB7XG5cdFx0XHRcdHZub2RlLl9kb20gPSB2bm9kZS5fY29tcG9uZW50LmJhc2UgPSBjaGlsZC5fZG9tO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdXBkYXRlUGFyZW50RG9tUG9pbnRlcnModm5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogVGhlIHJlbmRlciBxdWV1ZVxuICogQHR5cGUge0FycmF5PGltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59XG4gKi9cbmxldCBxID0gW107XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgc2NoZWR1bGUgYSBjYWxsYmFja1xuICogQHR5cGUgeyhjYjogKCkgPT4gdm9pZCkgPT4gdm9pZH1cbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbi8vIE5vdGUgdGhlIGZvbGxvd2luZyBsaW5lIGlzbid0IHRyZWUtc2hha2VuIGJ5IHJvbGx1cCBjdXogb2Ygcm9sbHVwL3JvbGx1cCMyNTY2XG5jb25zdCBkZWZlciA9XG5cdHR5cGVvZiBQcm9taXNlID09ICdmdW5jdGlvbidcblx0XHQ/IFByb21pc2UucHJvdG90eXBlLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSlcblx0XHQ6IHNldFRpbWVvdXQ7XG5cbi8qXG4gKiBUaGUgdmFsdWUgb2YgYENvbXBvbmVudC5kZWJvdW5jZWAgbXVzdCBhc3luY2hyb25vdXNseSBpbnZva2UgdGhlIHBhc3NlZCBpbiBjYWxsYmFjay4gSXQgaXNcbiAqIGltcG9ydGFudCB0aGF0IGNvbnRyaWJ1dG9ycyB0byBQcmVhY3QgY2FuIGNvbnNpc3RlbnRseSByZWFzb24gYWJvdXQgd2hhdCBjYWxscyB0byBgc2V0U3RhdGVgLCBldGMuXG4gKiBkbywgYW5kIHdoZW4gdGhlaXIgZWZmZWN0cyB3aWxsIGJlIGFwcGxpZWQuIFNlZSB0aGUgbGlua3MgYmVsb3cgZm9yIHNvbWUgZnVydGhlciByZWFkaW5nIG9uIGRlc2lnbmluZ1xuICogYXN5bmNocm9ub3VzIEFQSXMuXG4gKiAqIFtEZXNpZ25pbmcgQVBJcyBmb3IgQXN5bmNocm9ueV0oaHR0cHM6Ly9ibG9nLml6cy5tZS8yMDEzLzA4L2Rlc2lnbmluZy1hcGlzLWZvci1hc3luY2hyb255KVxuICogKiBbQ2FsbGJhY2tzIHN5bmNocm9ub3VzIGFuZCBhc3luY2hyb25vdXNdKGh0dHBzOi8vYmxvZy5vbWV0ZXIuY29tLzIwMTEvMDcvMjQvY2FsbGJhY2tzLXN5bmNocm9ub3VzLWFuZC1hc3luY2hyb25vdXMvKVxuICovXG5cbmxldCBwcmV2RGVib3VuY2U7XG5cbi8qKlxuICogRW5xdWV1ZSBhIHJlcmVuZGVyIG9mIGEgY29tcG9uZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gYyBUaGUgY29tcG9uZW50IHRvIHJlcmVuZGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnF1ZXVlUmVuZGVyKGMpIHtcblx0aWYgKFxuXHRcdCghYy5fZGlydHkgJiYgKGMuX2RpcnR5ID0gdHJ1ZSkgJiYgcS5wdXNoKGMpID09PSAxKSB8fFxuXHRcdHByZXZEZWJvdW5jZSAhPT0gb3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZ1xuXHQpIHtcblx0XHRwcmV2RGVib3VuY2UgPSBvcHRpb25zLmRlYm91bmNlUmVuZGVyaW5nO1xuXHRcdChwcmV2RGVib3VuY2UgfHwgZGVmZXIpKHByb2Nlc3MpO1xuXHR9XG59XG5cbi8qKiBGbHVzaCB0aGUgcmVuZGVyIHF1ZXVlIGJ5IHJlcmVuZGVyaW5nIGFsbCBxdWV1ZWQgY29tcG9uZW50cyAqL1xuZnVuY3Rpb24gcHJvY2VzcygpIHtcblx0bGV0IHA7XG5cdHEuc29ydCgoYSwgYikgPT4gYi5fdm5vZGUuX2RlcHRoIC0gYS5fdm5vZGUuX2RlcHRoKTtcblx0d2hpbGUgKChwID0gcS5wb3AoKSkpIHtcblx0XHQvLyBmb3JjZVVwZGF0ZSdzIGNhbGxiYWNrIGFyZ3VtZW50IGlzIHJldXNlZCBoZXJlIHRvIGluZGljYXRlIGEgbm9uLWZvcmNlZCB1cGRhdGUuXG5cdFx0aWYgKHAuX2RpcnR5KSByZW5kZXJDb21wb25lbnQocCk7XG5cdH1cbn1cbiIsImltcG9ydCB7XG5cdHJlbmRlciBhcyBwcmVhY3RSZW5kZXIsXG5cdG9wdGlvbnMsXG5cdHRvQ2hpbGRBcnJheSxcblx0Q29tcG9uZW50XG59IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBhcHBseUV2ZW50Tm9ybWFsaXphdGlvbiB9IGZyb20gJy4vZXZlbnRzJztcblxuY29uc3QgQ0FNRUxfUFJPUFMgPSAvXig/OmFjY2VudHxhbGlnbm1lbnR8YXJhYmljfGJhc2VsaW5lfGNhcHxjbGlwfGNvbG9yfGZpbGx8Zmxvb2R8Zm9udHxnbHlwaHxob3JpenxtYXJrZXJ8b3ZlcmxpbmV8cGFpbnR8c3RvcHxzdHJpa2V0aHJvdWdofHN0cm9rZXx0ZXh0fHVuZGVybGluZXx1bmljb2RlfHVuaXRzfHZ8dmVjdG9yfHZlcnR8d29yZHx3cml0aW5nfHgpW0EtWl0vO1xuXG4vLyBTb21lIGxpYnJhcmllcyBsaWtlIGByZWFjdC12aXJ0dWFsaXplZGAgZXhwbGljaXRseSBjaGVjayBmb3IgdGhpcy5cbkNvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHt9O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IFJFQUNUX0VMRU1FTlRfVFlQRSA9XG5cdCh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJlxuXHRcdFN5bWJvbC5mb3IgJiZcblx0XHRTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG5cdDB4ZWFjNztcblxuLyoqXG4gKiBQcm94eSByZW5kZXIoKSBzaW5jZSBSZWFjdCByZXR1cm5zIGEgQ29tcG9uZW50IHJlZmVyZW5jZS5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlIFZOb2RlIHRyZWUgdG8gcmVuZGVyXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudCBET00gbm9kZSB0byByZW5kZXIgdm5vZGUgdHJlZSBpbnRvXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IFtjYWxsYmFja10gT3B0aW9uYWwgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGNhbGxlZCBhZnRlciByZW5kZXJpbmdcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnQgfCBudWxsfSBUaGUgcm9vdCBjb21wb25lbnQgcmVmZXJlbmNlIG9yIG51bGxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcih2bm9kZSwgcGFyZW50LCBjYWxsYmFjaykge1xuXHQvLyBSZWFjdCBkZXN0cm95cyBhbnkgZXhpc3RpbmcgRE9NIG5vZGVzLCBzZWUgIzE3Mjdcblx0Ly8gLi4uYnV0IG9ubHkgb24gdGhlIGZpcnN0IHJlbmRlciwgc2VlICMxODI4XG5cdGlmIChwYXJlbnQuX2NoaWxkcmVuID09IG51bGwpIHtcblx0XHR3aGlsZSAocGFyZW50LmZpcnN0Q2hpbGQpIHtcblx0XHRcdHBhcmVudC5yZW1vdmVDaGlsZChwYXJlbnQuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGh5ZHJhdGUodm5vZGUsIHBhcmVudCwgY2FsbGJhY2spO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZSh2bm9kZSwgcGFyZW50LCBjYWxsYmFjaykge1xuXHRwcmVhY3RSZW5kZXIodm5vZGUsIHBhcmVudCk7XG5cdGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrKCk7XG5cblx0cmV0dXJuIHZub2RlID8gdm5vZGUuX2NvbXBvbmVudCA6IG51bGw7XG59XG5cbmxldCBvbGRFdmVudEhvb2sgPSBvcHRpb25zLmV2ZW50O1xub3B0aW9ucy5ldmVudCA9IGUgPT4ge1xuXHRpZiAob2xkRXZlbnRIb29rKSBlID0gb2xkRXZlbnRIb29rKGUpO1xuXHRlLnBlcnNpc3QgPSAoKSA9PiB7fTtcblx0cmV0dXJuIChlLm5hdGl2ZUV2ZW50ID0gZSk7XG59O1xuXG4vLyBQYXRjaCBpbiBgVU5TQUZFXypgIGxpZmVjeWNsZSBob29rc1xuZnVuY3Rpb24gc2V0U2FmZURlc2NyaXB0b3IocHJvdG8sIGtleSkge1xuXHRpZiAocHJvdG9bJ1VOU0FGRV8nICsga2V5XSAmJiAhcHJvdG9ba2V5XSkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywga2V5LCB7XG5cdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpc1snVU5TQUZFXycgKyBrZXldO1xuXHRcdFx0fSxcblx0XHRcdC8vIFRoaXMgYHNldGAgaXMgb25seSB1c2VkIGlmIGEgdXNlciBzZXRzIGEgbGlmZWN5Y2xlIGxpa2UgY1dVXG5cdFx0XHQvLyBhZnRlciBzZXR0aW5nIGEgbGlmZWN5Y2xlIGxpa2UgVU5TQUZFX2NXVS4gSSBkb3VidCBhbnlvbmVcblx0XHRcdC8vIGFjdHVhbGx5IGRvZXMgdGhpcyBpbiBwcmFjdGljZSBzbyBub3QgdGVzdGluZyBpdFxuXHRcdFx0LyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblx0XHRcdHNldCh2KSB7XG5cdFx0XHRcdHRoaXNbJ1VOU0FGRV8nICsga2V5XSA9IHY7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cblxubGV0IGNsYXNzTmFtZURlc2NyaXB0b3IgPSB7XG5cdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0Z2V0KCkge1xuXHRcdHJldHVybiB0aGlzLmNsYXNzO1xuXHR9XG59O1xuXG5sZXQgb2xkVk5vZGVIb29rID0gb3B0aW9ucy52bm9kZTtcbm9wdGlvbnMudm5vZGUgPSB2bm9kZSA9PiB7XG5cdHZub2RlLiQkdHlwZW9mID0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuXG5cdGxldCB0eXBlID0gdm5vZGUudHlwZTtcblx0bGV0IHByb3BzID0gdm5vZGUucHJvcHM7XG5cblx0Ly8gQXBwbHkgRE9NIFZOb2RlIGNvbXBhdFxuXHRpZiAodHlwZW9mIHR5cGUgIT0gJ2Z1bmN0aW9uJykge1xuXHRcdC8vIEFwcGx5IGRlZmF1bHRWYWx1ZSB0byB2YWx1ZVxuXHRcdGlmIChwcm9wcy5kZWZhdWx0VmFsdWUpIHtcblx0XHRcdGlmICghcHJvcHMudmFsdWUgJiYgcHJvcHMudmFsdWUgIT09IDApIHtcblx0XHRcdFx0cHJvcHMudmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWU7XG5cdFx0XHR9XG5cdFx0XHRkZWxldGUgcHJvcHMuZGVmYXVsdFZhbHVlO1xuXHRcdH1cblxuXHRcdC8vIEFkZCBzdXBwb3J0IGZvciBhcnJheSBzZWxlY3QgdmFsdWVzOiA8c2VsZWN0IHZhbHVlPXtbXX0gLz5cblx0XHRpZiAoQXJyYXkuaXNBcnJheShwcm9wcy52YWx1ZSkgJiYgcHJvcHMubXVsdGlwbGUgJiYgdHlwZSA9PT0gJ3NlbGVjdCcpIHtcblx0XHRcdHRvQ2hpbGRBcnJheShwcm9wcy5jaGlsZHJlbikuZm9yRWFjaChjaGlsZCA9PiB7XG5cdFx0XHRcdGlmIChwcm9wcy52YWx1ZS5pbmRleE9mKGNoaWxkLnByb3BzLnZhbHVlKSAhPSAtMSkge1xuXHRcdFx0XHRcdGNoaWxkLnByb3BzLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRkZWxldGUgcHJvcHMudmFsdWU7XG5cdFx0fVxuXG5cdFx0Ly8gTm9ybWFsaXplIERPTSB2bm9kZSBwcm9wZXJ0aWVzLlxuXHRcdGxldCBzaG91bGRTYW5pdGl6ZSwgYXR0cnMsIGk7XG5cdFx0Zm9yIChpIGluIHByb3BzKSBpZiAoKHNob3VsZFNhbml0aXplID0gQ0FNRUxfUFJPUFMudGVzdChpKSkpIGJyZWFrO1xuXHRcdGlmIChzaG91bGRTYW5pdGl6ZSkge1xuXHRcdFx0YXR0cnMgPSB2bm9kZS5wcm9wcyA9IHt9O1xuXHRcdFx0Zm9yIChpIGluIHByb3BzKSB7XG5cdFx0XHRcdGF0dHJzW1xuXHRcdFx0XHRcdENBTUVMX1BST1BTLnRlc3QoaSkgPyBpLnJlcGxhY2UoLyhbQS1aMC05XSkvLCAnLSQxJykudG9Mb3dlckNhc2UoKSA6IGlcblx0XHRcdFx0XSA9IHByb3BzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEFsaWFzIGBjbGFzc2AgcHJvcCB0byBgY2xhc3NOYW1lYCBpZiBhdmFpbGFibGVcblx0aWYgKHByb3BzLmNsYXNzIHx8IHByb3BzLmNsYXNzTmFtZSkge1xuXHRcdGNsYXNzTmFtZURlc2NyaXB0b3IuZW51bWVyYWJsZSA9ICdjbGFzc05hbWUnIGluIHByb3BzO1xuXHRcdGlmIChwcm9wcy5jbGFzc05hbWUpIHByb3BzLmNsYXNzID0gcHJvcHMuY2xhc3NOYW1lO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2NsYXNzTmFtZScsIGNsYXNzTmFtZURlc2NyaXB0b3IpO1xuXHR9XG5cblx0Ly8gRXZlbnRzXG5cdGFwcGx5RXZlbnROb3JtYWxpemF0aW9uKHZub2RlKTtcblxuXHQvLyBDb21wb25lbnQgYmFzZSBjbGFzcyBjb21wYXRcblx0Ly8gV2UgY2FuJ3QganVzdCBwYXRjaCB0aGUgYmFzZSBjb21wb25lbnQgY2xhc3MsIGJlY2F1c2UgY29tcG9uZW50cyB0aGF0IHVzZVxuXHQvLyBpbmhlcml0YW5jZSBhbmQgYXJlIHRyYW5zcGlsZWQgZG93biB0byBFUzUgd2lsbCBvdmVyd3JpdGUgb3VyIHBhdGNoZWRcblx0Ly8gZ2V0dGVycyBhbmQgc2V0dGVycy4gU2VlICMxOTQxXG5cdGlmIChcblx0XHR0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdCF0eXBlLl9wYXRjaGVkTGlmZWN5Y2xlcyAmJlxuXHRcdHR5cGUucHJvdG90eXBlXG5cdCkge1xuXHRcdHNldFNhZmVEZXNjcmlwdG9yKHR5cGUucHJvdG90eXBlLCAnY29tcG9uZW50V2lsbE1vdW50Jyk7XG5cdFx0c2V0U2FmZURlc2NyaXB0b3IodHlwZS5wcm90b3R5cGUsICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyk7XG5cdFx0c2V0U2FmZURlc2NyaXB0b3IodHlwZS5wcm90b3R5cGUsICdjb21wb25lbnRXaWxsVXBkYXRlJyk7XG5cdFx0dHlwZS5fcGF0Y2hlZExpZmVjeWNsZXMgPSB0cnVlO1xuXHR9XG5cblx0aWYgKG9sZFZOb2RlSG9vaykgb2xkVk5vZGVIb29rKHZub2RlKTtcbn07XG4iLCJpbXBvcnQgeyBlbnF1ZXVlUmVuZGVyIH0gZnJvbSAnLi9jb21wb25lbnQnO1xuXG5leHBvcnQgbGV0IGkgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGV4dChkZWZhdWx0VmFsdWUpIHtcblx0Y29uc3QgY3R4ID0ge307XG5cblx0Y29uc3QgY29udGV4dCA9IHtcblx0XHRfaWQ6ICdfX2NDJyArIGkrKyxcblx0XHRfZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUsXG5cdFx0Q29uc3VtZXIocHJvcHMsIGNvbnRleHQpIHtcblx0XHRcdHJldHVybiBwcm9wcy5jaGlsZHJlbihjb250ZXh0KTtcblx0XHR9LFxuXHRcdFByb3ZpZGVyKHByb3BzKSB7XG5cdFx0XHRpZiAoIXRoaXMuZ2V0Q2hpbGRDb250ZXh0KSB7XG5cdFx0XHRcdGNvbnN0IHN1YnMgPSBbXTtcblx0XHRcdFx0dGhpcy5nZXRDaGlsZENvbnRleHQgPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y3R4W2NvbnRleHQuX2lkXSA9IHRoaXM7XG5cdFx0XHRcdFx0cmV0dXJuIGN0eDtcblx0XHRcdFx0fTtcblx0XHRcdFx0dGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBfcHJvcHMgPT4ge1xuXHRcdFx0XHRcdGlmIChwcm9wcy52YWx1ZSAhPT0gX3Byb3BzLnZhbHVlKSB7XG5cdFx0XHRcdFx0XHRzdWJzLnNvbWUoYyA9PiB7XG5cdFx0XHRcdFx0XHRcdGMuY29udGV4dCA9IF9wcm9wcy52YWx1ZTtcblx0XHRcdFx0XHRcdFx0ZW5xdWV1ZVJlbmRlcihjKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0dGhpcy5zdWIgPSBjID0+IHtcblx0XHRcdFx0XHRzdWJzLnB1c2goYyk7XG5cdFx0XHRcdFx0bGV0IG9sZCA9IGMuY29tcG9uZW50V2lsbFVubW91bnQ7XG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsVW5tb3VudCA9ICgpID0+IHtcblx0XHRcdFx0XHRcdHN1YnMuc3BsaWNlKHN1YnMuaW5kZXhPZihjKSwgMSk7XG5cdFx0XHRcdFx0XHRvbGQgJiYgb2xkLmNhbGwoYyk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcblx0XHR9XG5cdH07XG5cblx0Y29udGV4dC5Db25zdW1lci5jb250ZXh0VHlwZSA9IGNvbnRleHQ7XG5cblx0cmV0dXJuIGNvbnRleHQ7XG59XG4iLCIvKipcbiAqIEFzc2lnbiBwcm9wZXJ0aWVzIGZyb20gYHByb3BzYCB0byBgb2JqYFxuICogQHRlbXBsYXRlIE8sIFAgVGhlIG9iaiBhbmQgcHJvcHMgdHlwZXNcbiAqIEBwYXJhbSB7T30gb2JqIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvXG4gKiBAcGFyYW0ge1B9IHByb3BzIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEByZXR1cm5zIHtPICYgUH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbihvYmosIHByb3BzKSB7XG5cdGZvciAobGV0IGkgaW4gcHJvcHMpIG9ialtpXSA9IHByb3BzW2ldO1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtPICYgUH0gKi8gKG9iaik7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdHdvIG9iamVjdHMgaGF2ZSBhIGRpZmZlcmVudCBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IGFcbiAqIEBwYXJhbSB7b2JqZWN0fSBiXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNoYWxsb3dEaWZmZXJzKGEsIGIpIHtcblx0Zm9yIChsZXQgaSBpbiBhKSBpZiAoaSAhPT0gJ19fc291cmNlJyAmJiAhKGkgaW4gYikpIHJldHVybiB0cnVlO1xuXHRmb3IgKGxldCBpIGluIGIpIGlmIChpICE9PSAnX19zb3VyY2UnICYmIGFbaV0gIT09IGJbaV0pIHJldHVybiB0cnVlO1xuXHRyZXR1cm4gZmFsc2U7XG59XG4iLCJpbXBvcnQgeyBkaWZmLCB1bm1vdW50LCBhcHBseVJlZiB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgY3JlYXRlVk5vZGUgfSBmcm9tICcuLi9jcmVhdGUtZWxlbWVudCc7XG5pbXBvcnQgeyBFTVBUWV9PQkosIEVNUFRZX0FSUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyByZW1vdmVOb2RlIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBnZXREb21TaWJsaW5nIH0gZnJvbSAnLi4vY29tcG9uZW50JztcblxuLyoqXG4gKiBEaWZmIHRoZSBjaGlsZHJlbiBvZiBhIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gcGFyZW50RG9tIFRoZSBET00gZWxlbWVudCB3aG9zZVxuICogY2hpbGRyZW4gYXJlIGJlaW5nIGRpZmZlZFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG5ld1BhcmVudFZOb2RlIFRoZSBuZXcgdmlydHVhbFxuICogbm9kZSB3aG9zZSBjaGlsZHJlbiBzaG91bGQgYmUgZGlmZidlZCBhZ2FpbnN0IG9sZFBhcmVudFZOb2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gb2xkUGFyZW50Vk5vZGUgVGhlIG9sZCB2aXJ0dWFsXG4gKiBub2RlIHdob3NlIGNoaWxkcmVuIHNob3VsZCBiZSBkaWZmJ2VkIGFnYWluc3QgbmV3UGFyZW50Vk5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IFRoZSBjdXJyZW50IGNvbnRleHQgb2JqZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgRE9NIG5vZGUgaXMgYW4gU1ZHIG5vZGVcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnQ+fSBleGNlc3NEb21DaGlsZHJlblxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50Pn0gY29tbWl0UXVldWUgTGlzdCBvZiBjb21wb25lbnRzXG4gKiB3aGljaCBoYXZlIGNhbGxiYWNrcyB0byBpbnZva2UgaW4gY29tbWl0Um9vdFxuICogQHBhcmFtIHtOb2RlIHwgVGV4dH0gb2xkRG9tIFRoZSBjdXJyZW50IGF0dGFjaGVkIERPTVxuICogZWxlbWVudCBhbnkgbmV3IGRvbSBlbGVtZW50cyBzaG91bGQgYmUgcGxhY2VkIGFyb3VuZC4gTGlrZWx5IGBudWxsYCBvbiBmaXJzdFxuICogcmVuZGVyIChleGNlcHQgd2hlbiBoeWRyYXRpbmcpLiBDYW4gYmUgYSBzaWJsaW5nIERPTSBlbGVtZW50IHdoZW4gZGlmZmluZ1xuICogRnJhZ21lbnRzIHRoYXQgaGF2ZSBzaWJsaW5ncy4gSW4gbW9zdCBjYXNlcywgaXQgc3RhcnRzIG91dCBhcyBgb2xkQ2hpbGRyZW5bMF0uX2RvbWAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzSHlkcmF0aW5nIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZDaGlsZHJlbihcblx0cGFyZW50RG9tLFxuXHRuZXdQYXJlbnRWTm9kZSxcblx0b2xkUGFyZW50Vk5vZGUsXG5cdGNvbnRleHQsXG5cdGlzU3ZnLFxuXHRleGNlc3NEb21DaGlsZHJlbixcblx0Y29tbWl0UXVldWUsXG5cdG9sZERvbSxcblx0aXNIeWRyYXRpbmdcbikge1xuXHRsZXQgaSwgaiwgb2xkVk5vZGUsIG5ld0RvbSwgc2liRG9tLCBmaXJzdENoaWxkRG9tLCByZWZzO1xuXG5cdC8vIFRoaXMgaXMgYSBjb21wcmVzc2lvbiBvZiBvbGRQYXJlbnRWTm9kZSE9bnVsbCAmJiBvbGRQYXJlbnRWTm9kZSAhPSBFTVBUWV9PQkogJiYgb2xkUGFyZW50Vk5vZGUuX2NoaWxkcmVuIHx8IEVNUFRZX0FSUlxuXHQvLyBhcyBFTVBUWV9PQkouX2NoaWxkcmVuIHNob3VsZCBiZSBgdW5kZWZpbmVkYC5cblx0bGV0IG9sZENoaWxkcmVuID0gKG9sZFBhcmVudFZOb2RlICYmIG9sZFBhcmVudFZOb2RlLl9jaGlsZHJlbikgfHwgRU1QVFlfQVJSO1xuXG5cdGxldCBvbGRDaGlsZHJlbkxlbmd0aCA9IG9sZENoaWxkcmVuLmxlbmd0aDtcblxuXHQvLyBPbmx5IGluIHZlcnkgc3BlY2lmaWMgcGxhY2VzIHNob3VsZCB0aGlzIGxvZ2ljIGJlIGludm9rZWQgKHRvcCBsZXZlbCBgcmVuZGVyYCBhbmQgYGRpZmZFbGVtZW50Tm9kZXNgKS5cblx0Ly8gSSdtIHVzaW5nIGBFTVBUWV9PQkpgIHRvIHNpZ25hbCB3aGVuIGBkaWZmQ2hpbGRyZW5gIGlzIGludm9rZWQgaW4gdGhlc2Ugc2l0dWF0aW9ucy4gSSBjYW4ndCB1c2UgYG51bGxgXG5cdC8vIGZvciB0aGlzIHB1cnBvc2UsIGJlY2F1c2UgYG51bGxgIGlzIGEgdmFsaWQgdmFsdWUgZm9yIGBvbGREb21gIHdoaWNoIGNhbiBtZWFuIHRvIHNraXAgdG8gdGhpcyBsb2dpY1xuXHQvLyAoZS5nLiBpZiBtb3VudGluZyBhIG5ldyB0cmVlIGluIHdoaWNoIHRoZSBvbGQgRE9NIHNob3VsZCBiZSBpZ25vcmVkICh1c3VhbGx5IGZvciBGcmFnbWVudHMpLlxuXHRpZiAob2xkRG9tID09IEVNUFRZX09CSikge1xuXHRcdGlmIChleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsKSB7XG5cdFx0XHRvbGREb20gPSBleGNlc3NEb21DaGlsZHJlblswXTtcblx0XHR9IGVsc2UgaWYgKG9sZENoaWxkcmVuTGVuZ3RoKSB7XG5cdFx0XHRvbGREb20gPSBnZXREb21TaWJsaW5nKG9sZFBhcmVudFZOb2RlLCAwKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b2xkRG9tID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRpID0gMDtcblx0bmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuID0gdG9DaGlsZEFycmF5KFxuXHRcdG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbixcblx0XHRjaGlsZFZOb2RlID0+IHtcblx0XHRcdGlmIChjaGlsZFZOb2RlICE9IG51bGwpIHtcblx0XHRcdFx0Y2hpbGRWTm9kZS5fcGFyZW50ID0gbmV3UGFyZW50Vk5vZGU7XG5cdFx0XHRcdGNoaWxkVk5vZGUuX2RlcHRoID0gbmV3UGFyZW50Vk5vZGUuX2RlcHRoICsgMTtcblxuXHRcdFx0XHQvLyBDaGVjayBpZiB3ZSBmaW5kIGEgY29ycmVzcG9uZGluZyBlbGVtZW50IGluIG9sZENoaWxkcmVuLlxuXHRcdFx0XHQvLyBJZiBmb3VuZCwgZGVsZXRlIHRoZSBhcnJheSBpdGVtIGJ5IHNldHRpbmcgdG8gYHVuZGVmaW5lZGAuXG5cdFx0XHRcdC8vIFdlIHVzZSBgdW5kZWZpbmVkYCwgYXMgYG51bGxgIGlzIHJlc2VydmVkIGZvciBlbXB0eSBwbGFjZWhvbGRlcnNcblx0XHRcdFx0Ly8gKGhvbGVzKS5cblx0XHRcdFx0b2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0b2xkVk5vZGUgPT09IG51bGwgfHxcblx0XHRcdFx0XHQob2xkVk5vZGUgJiZcblx0XHRcdFx0XHRcdGNoaWxkVk5vZGUua2V5ID09IG9sZFZOb2RlLmtleSAmJlxuXHRcdFx0XHRcdFx0Y2hpbGRWTm9kZS50eXBlID09PSBvbGRWTm9kZS50eXBlKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRvbGRDaGlsZHJlbltpXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBFaXRoZXIgb2xkVk5vZGUgPT09IHVuZGVmaW5lZCBvciBvbGRDaGlsZHJlbkxlbmd0aCA+IDAsXG5cdFx0XHRcdFx0Ly8gc28gYWZ0ZXIgdGhpcyBsb29wIG9sZFZOb2RlID09IG51bGwgb3Igb2xkVk5vZGUgaXMgYSB2YWxpZCB2YWx1ZS5cblx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgb2xkQ2hpbGRyZW5MZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdFx0b2xkVk5vZGUgPSBvbGRDaGlsZHJlbltqXTtcblx0XHRcdFx0XHRcdC8vIElmIGNoaWxkVk5vZGUgaXMgdW5rZXllZCwgd2Ugb25seSBtYXRjaCBzaW1pbGFybHkgdW5rZXllZCBub2Rlcywgb3RoZXJ3aXNlIHdlIG1hdGNoIGJ5IGtleS5cblx0XHRcdFx0XHRcdC8vIFdlIGFsd2F5cyBtYXRjaCBieSB0eXBlIChpbiBlaXRoZXIgY2FzZSkuXG5cdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdG9sZFZOb2RlICYmXG5cdFx0XHRcdFx0XHRcdGNoaWxkVk5vZGUua2V5ID09IG9sZFZOb2RlLmtleSAmJlxuXHRcdFx0XHRcdFx0XHRjaGlsZFZOb2RlLnR5cGUgPT09IG9sZFZOb2RlLnR5cGVcblx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRvbGRDaGlsZHJlbltqXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRvbGRWTm9kZSA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0b2xkVk5vZGUgPSBvbGRWTm9kZSB8fCBFTVBUWV9PQko7XG5cblx0XHRcdFx0Ly8gTW9ycGggdGhlIG9sZCBlbGVtZW50IGludG8gdGhlIG5ldyBvbmUsIGJ1dCBkb24ndCBhcHBlbmQgaXQgdG8gdGhlIGRvbSB5ZXRcblx0XHRcdFx0bmV3RG9tID0gZGlmZihcblx0XHRcdFx0XHRwYXJlbnREb20sXG5cdFx0XHRcdFx0Y2hpbGRWTm9kZSxcblx0XHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRcdGlzU3ZnLFxuXHRcdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0XHRcdG9sZERvbSxcblx0XHRcdFx0XHRpc0h5ZHJhdGluZ1xuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmICgoaiA9IGNoaWxkVk5vZGUucmVmKSAmJiBvbGRWTm9kZS5yZWYgIT0gaikge1xuXHRcdFx0XHRcdGlmICghcmVmcykgcmVmcyA9IFtdO1xuXHRcdFx0XHRcdGlmIChvbGRWTm9kZS5yZWYpIHJlZnMucHVzaChvbGRWTm9kZS5yZWYsIG51bGwsIGNoaWxkVk5vZGUpO1xuXHRcdFx0XHRcdHJlZnMucHVzaChqLCBjaGlsZFZOb2RlLl9jb21wb25lbnQgfHwgbmV3RG9tLCBjaGlsZFZOb2RlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE9ubHkgcHJvY2VlZCBpZiB0aGUgdm5vZGUgaGFzIG5vdCBiZWVuIHVubW91bnRlZCBieSBgZGlmZigpYCBhYm92ZS5cblx0XHRcdFx0aWYgKG5ld0RvbSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0aWYgKGZpcnN0Q2hpbGREb20gPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0Zmlyc3RDaGlsZERvbSA9IG5ld0RvbTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoY2hpbGRWTm9kZS5fbGFzdERvbUNoaWxkICE9IG51bGwpIHtcblx0XHRcdFx0XHRcdC8vIE9ubHkgRnJhZ21lbnRzIG9yIGNvbXBvbmVudHMgdGhhdCByZXR1cm4gRnJhZ21lbnQgbGlrZSBWTm9kZXMgd2lsbFxuXHRcdFx0XHRcdFx0Ly8gaGF2ZSBhIG5vbi1udWxsIF9sYXN0RG9tQ2hpbGQuIENvbnRpbnVlIHRoZSBkaWZmIGZyb20gdGhlIGVuZCBvZlxuXHRcdFx0XHRcdFx0Ly8gdGhpcyBGcmFnbWVudCdzIERPTSB0cmVlLlxuXHRcdFx0XHRcdFx0bmV3RG9tID0gY2hpbGRWTm9kZS5fbGFzdERvbUNoaWxkO1xuXG5cdFx0XHRcdFx0XHQvLyBFYWdlcmx5IGNsZWFudXAgX2xhc3REb21DaGlsZC4gV2UgZG9uJ3QgbmVlZCB0byBwZXJzaXN0IHRoZSB2YWx1ZSBiZWNhdXNlXG5cdFx0XHRcdFx0XHQvLyBpdCBpcyBvbmx5IHVzZWQgYnkgYGRpZmZDaGlsZHJlbmAgdG8gZGV0ZXJtaW5lIHdoZXJlIHRvIHJlc3VtZSB0aGUgZGlmZiBhZnRlclxuXHRcdFx0XHRcdFx0Ly8gZGlmZmluZyBDb21wb25lbnRzIGFuZCBGcmFnbWVudHMuXG5cdFx0XHRcdFx0XHRjaGlsZFZOb2RlLl9sYXN0RG9tQ2hpbGQgPSBudWxsO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbiA9PSBvbGRWTm9kZSB8fFxuXHRcdFx0XHRcdFx0bmV3RG9tICE9IG9sZERvbSB8fFxuXHRcdFx0XHRcdFx0bmV3RG9tLnBhcmVudE5vZGUgPT0gbnVsbFxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0Ly8gTk9URTogZXhjZXNzRG9tQ2hpbGRyZW49PW9sZFZOb2RlIGFib3ZlOlxuXHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyBhIGNvbXByZXNzaW9uIG9mIGV4Y2Vzc0RvbUNoaWxkcmVuPT1udWxsICYmIG9sZFZOb2RlPT1udWxsIVxuXHRcdFx0XHRcdFx0Ly8gVGhlIHZhbHVlcyBvbmx5IGhhdmUgdGhlIHNhbWUgdHlwZSB3aGVuIGBudWxsYC5cblxuXHRcdFx0XHRcdFx0b3V0ZXI6IGlmIChvbGREb20gPT0gbnVsbCB8fCBvbGREb20ucGFyZW50Tm9kZSAhPT0gcGFyZW50RG9tKSB7XG5cdFx0XHRcdFx0XHRcdHBhcmVudERvbS5hcHBlbmRDaGlsZChuZXdEb20pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gYGo8b2xkQ2hpbGRyZW5MZW5ndGg7IGorPTJgIGlzIGFuIGFsdGVybmF0aXZlIHRvIGBqKys8b2xkQ2hpbGRyZW5MZW5ndGgvMmBcblx0XHRcdFx0XHRcdFx0Zm9yIChcblx0XHRcdFx0XHRcdFx0XHRzaWJEb20gPSBvbGREb20sIGogPSAwO1xuXHRcdFx0XHRcdFx0XHRcdChzaWJEb20gPSBzaWJEb20ubmV4dFNpYmxpbmcpICYmIGogPCBvbGRDaGlsZHJlbkxlbmd0aDtcblx0XHRcdFx0XHRcdFx0XHRqICs9IDJcblx0XHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHNpYkRvbSA9PSBuZXdEb20pIHtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrIG91dGVyO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRwYXJlbnREb20uaW5zZXJ0QmVmb3JlKG5ld0RvbSwgb2xkRG9tKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gQnJvd3NlcnMgd2lsbCBpbmZlciBhbiBvcHRpb24ncyBgdmFsdWVgIGZyb20gYHRleHRDb250ZW50YCB3aGVuXG5cdFx0XHRcdFx0XHQvLyBubyB2YWx1ZSBpcyBwcmVzZW50LiBUaGlzIGVzc2VudGlhbGx5IGJ5cGFzc2VzIG91ciBjb2RlIHRvIHNldCBpdFxuXHRcdFx0XHRcdFx0Ly8gbGF0ZXIgaW4gYGRpZmYoKWAuIEl0IHdvcmtzIGZpbmUgaW4gYWxsIGJyb3dzZXJzIGV4Y2VwdCBmb3IgSUUxMVxuXHRcdFx0XHRcdFx0Ly8gd2hlcmUgaXQgYnJlYWtzIHNldHRpbmcgYHNlbGVjdC52YWx1ZWAuIFRoZXJlIGl0IHdpbGwgYmUgYWx3YXlzIHNldFxuXHRcdFx0XHRcdFx0Ly8gdG8gYW4gZW1wdHkgc3RyaW5nLiBSZS1hcHBseWluZyBhbiBvcHRpb25zIHZhbHVlIHdpbGwgZml4IHRoYXQsIHNvXG5cdFx0XHRcdFx0XHQvLyB0aGVyZSBhcmUgcHJvYmFibHkgc29tZSBpbnRlcm5hbCBkYXRhIHN0cnVjdHVyZXMgdGhhdCBhcmVuJ3Rcblx0XHRcdFx0XHRcdC8vIHVwZGF0ZWQgcHJvcGVybHkuXG5cdFx0XHRcdFx0XHQvL1xuXHRcdFx0XHRcdFx0Ly8gVG8gZml4IGl0IHdlIG1ha2Ugc3VyZSB0byByZXNldCB0aGUgaW5mZXJyZWQgdmFsdWUsIHNvIHRoYXQgb3VyIG93blxuXHRcdFx0XHRcdFx0Ly8gdmFsdWUgY2hlY2sgaW4gYGRpZmYoKWAgd29uJ3QgYmUgc2tpcHBlZC5cblx0XHRcdFx0XHRcdGlmIChuZXdQYXJlbnRWTm9kZS50eXBlID09ICdvcHRpb24nKSB7XG5cdFx0XHRcdFx0XHRcdHBhcmVudERvbS52YWx1ZSA9ICcnO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG9sZERvbSA9IG5ld0RvbS5uZXh0U2libGluZztcblxuXHRcdFx0XHRcdGlmICh0eXBlb2YgbmV3UGFyZW50Vk5vZGUudHlwZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBpZiBjaGlsZFZOb2RlLl9sYXN0RG9tQ2hpbGQgZXhpc3RlZCwgdGhlblxuXHRcdFx0XHRcdFx0Ly8gbmV3RG9tID0gY2hpbGRWTm9kZS5fbGFzdERvbUNoaWxkIHBlciBsaW5lIDEwMS4gRWxzZSBpdCBpc1xuXHRcdFx0XHRcdFx0Ly8gdGhlIHNhbWUgYXMgY2hpbGRWTm9kZS5fZG9tLCBtZWFuaW5nIHRoaXMgY29tcG9uZW50IHJldHVybmVkXG5cdFx0XHRcdFx0XHQvLyBvbmx5IGEgc2luZ2xlIERPTSBub2RlXG5cdFx0XHRcdFx0XHRuZXdQYXJlbnRWTm9kZS5fbGFzdERvbUNoaWxkID0gbmV3RG9tO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpKys7XG5cdFx0XHRyZXR1cm4gY2hpbGRWTm9kZTtcblx0XHR9XG5cdCk7XG5cblx0bmV3UGFyZW50Vk5vZGUuX2RvbSA9IGZpcnN0Q2hpbGREb207XG5cblx0Ly8gUmVtb3ZlIGNoaWxkcmVuIHRoYXQgYXJlIG5vdCBwYXJ0IG9mIGFueSB2bm9kZS5cblx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuICE9IG51bGwgJiYgdHlwZW9mIG5ld1BhcmVudFZOb2RlLnR5cGUgIT09ICdmdW5jdGlvbicpIHtcblx0XHRmb3IgKGkgPSBleGNlc3NEb21DaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW5baV0gIT0gbnVsbCkgcmVtb3ZlTm9kZShleGNlc3NEb21DaGlsZHJlbltpXSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmVtb3ZlIHJlbWFpbmluZyBvbGRDaGlsZHJlbiBpZiB0aGVyZSBhcmUgYW55LlxuXHRmb3IgKGkgPSBvbGRDaGlsZHJlbkxlbmd0aDsgaS0tOyApIHtcblx0XHRpZiAob2xkQ2hpbGRyZW5baV0gIT0gbnVsbCkgdW5tb3VudChvbGRDaGlsZHJlbltpXSwgb2xkQ2hpbGRyZW5baV0pO1xuXHR9XG5cblx0Ly8gU2V0IHJlZnMgb25seSBhZnRlciB1bm1vdW50XG5cdGlmIChyZWZzKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IHJlZnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGFwcGx5UmVmKHJlZnNbaV0sIHJlZnNbKytpXSwgcmVmc1srK2ldKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBGbGF0dGVuIGFuZCBsb29wIHRocm91Z2ggdGhlIGNoaWxkcmVuIG9mIGEgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW5kZXgnKS5Db21wb25lbnRDaGlsZHJlbn0gY2hpbGRyZW4gVGhlIHVuZmxhdHRlbmVkXG4gKiBjaGlsZHJlbiBvZiBhIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHsodm5vZGU6IGltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZSkgPT4gaW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBbY2FsbGJhY2tdXG4gKiBBIGZ1bmN0aW9uIHRvIGludm9rZSBmb3IgZWFjaCBjaGlsZCBiZWZvcmUgaXQgaXMgYWRkZWQgdG8gdGhlIGZsYXR0ZW5lZCBsaXN0LlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGUgfCBzdHJpbmcgfCBudW1iZXI+fSBbZmxhdHRlbmVkXSBBbiBmbGF0IGFycmF5IG9mIGNoaWxkcmVuIHRvIG1vZGlmeVxuICogQHJldHVybnMge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZVtdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9DaGlsZEFycmF5KGNoaWxkcmVuLCBjYWxsYmFjaywgZmxhdHRlbmVkKSB7XG5cdGlmIChmbGF0dGVuZWQgPT0gbnVsbCkgZmxhdHRlbmVkID0gW107XG5cblx0aWYgKGNoaWxkcmVuID09IG51bGwgfHwgdHlwZW9mIGNoaWxkcmVuID09PSAnYm9vbGVhbicpIHtcblx0XHRpZiAoY2FsbGJhY2spIGZsYXR0ZW5lZC5wdXNoKGNhbGxiYWNrKG51bGwpKTtcblx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRvQ2hpbGRBcnJheShjaGlsZHJlbltpXSwgY2FsbGJhY2ssIGZsYXR0ZW5lZCk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKCFjYWxsYmFjaykge1xuXHRcdGZsYXR0ZW5lZC5wdXNoKGNoaWxkcmVuKTtcblx0fSBlbHNlIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBjaGlsZHJlbiA9PT0gJ251bWJlcicpIHtcblx0XHRmbGF0dGVuZWQucHVzaChjYWxsYmFjayhjcmVhdGVWTm9kZShudWxsLCBjaGlsZHJlbiwgbnVsbCwgbnVsbCkpKTtcblx0fSBlbHNlIGlmIChjaGlsZHJlbi5fZG9tICE9IG51bGwgfHwgY2hpbGRyZW4uX2NvbXBvbmVudCAhPSBudWxsKSB7XG5cdFx0ZmxhdHRlbmVkLnB1c2goXG5cdFx0XHRjYWxsYmFjayhjcmVhdGVWTm9kZShjaGlsZHJlbi50eXBlLCBjaGlsZHJlbi5wcm9wcywgY2hpbGRyZW4ua2V5LCBudWxsKSlcblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGZsYXR0ZW5lZC5wdXNoKGNhbGxiYWNrKGNoaWxkcmVuKSk7XG5cdH1cblxuXHRyZXR1cm4gZmxhdHRlbmVkO1xufVxuIiwiaW1wb3J0IHsgSVNfTk9OX0RJTUVOU0lPTkFMIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4uL29wdGlvbnMnO1xuXG4vKipcbiAqIERpZmYgdGhlIG9sZCBhbmQgbmV3IHByb3BlcnRpZXMgb2YgYSBWTm9kZSBhbmQgYXBwbHkgY2hhbmdlcyB0byB0aGUgRE9NIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IGRvbSBUaGUgRE9NIG5vZGUgdG8gYXBwbHlcbiAqIGNoYW5nZXMgdG9cbiAqIEBwYXJhbSB7b2JqZWN0fSBuZXdQcm9wcyBUaGUgbmV3IHByb3BzXG4gKiBAcGFyYW0ge29iamVjdH0gb2xkUHJvcHMgVGhlIG9sZCBwcm9wc1xuICogQHBhcmFtIHtib29sZWFufSBpc1N2ZyBXaGV0aGVyIG9yIG5vdCB0aGlzIG5vZGUgaXMgYW4gU1ZHIG5vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaHlkcmF0ZSBXaGV0aGVyIG9yIG5vdCB3ZSBhcmUgaW4gaHlkcmF0aW9uIG1vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZQcm9wcyhkb20sIG5ld1Byb3BzLCBvbGRQcm9wcywgaXNTdmcsIGh5ZHJhdGUpIHtcblx0bGV0IGk7XG5cblx0Zm9yIChpIGluIG9sZFByb3BzKSB7XG5cdFx0aWYgKCEoaSBpbiBuZXdQcm9wcykpIHtcblx0XHRcdHNldFByb3BlcnR5KGRvbSwgaSwgbnVsbCwgb2xkUHJvcHNbaV0sIGlzU3ZnKTtcblx0XHR9XG5cdH1cblxuXHRmb3IgKGkgaW4gbmV3UHJvcHMpIHtcblx0XHRpZiAoXG5cdFx0XHQoIWh5ZHJhdGUgfHwgdHlwZW9mIG5ld1Byb3BzW2ldID09ICdmdW5jdGlvbicpICYmXG5cdFx0XHRpICE9PSAndmFsdWUnICYmXG5cdFx0XHRpICE9PSAnY2hlY2tlZCcgJiZcblx0XHRcdG9sZFByb3BzW2ldICE9PSBuZXdQcm9wc1tpXVxuXHRcdCkge1xuXHRcdFx0c2V0UHJvcGVydHkoZG9tLCBpLCBuZXdQcm9wc1tpXSwgb2xkUHJvcHNbaV0sIGlzU3ZnKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gc2V0U3R5bGUoc3R5bGUsIGtleSwgdmFsdWUpIHtcblx0aWYgKGtleVswXSA9PT0gJy0nKSB7XG5cdFx0c3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSk7XG5cdH0gZWxzZSBpZiAoXG5cdFx0dHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJlxuXHRcdElTX05PTl9ESU1FTlNJT05BTC50ZXN0KGtleSkgPT09IGZhbHNlXG5cdCkge1xuXHRcdHN0eWxlW2tleV0gPSB2YWx1ZSArICdweCc7XG5cdH0gZWxzZSBpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdHN0eWxlW2tleV0gPSAnJztcblx0fSBlbHNlIHtcblx0XHRzdHlsZVtrZXldID0gdmFsdWU7XG5cdH1cbn1cblxuLyoqXG4gKiBTZXQgYSBwcm9wZXJ0eSB2YWx1ZSBvbiBhIERPTSBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBkb20gVGhlIERPTSBub2RlIHRvIG1vZGlmeVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHNldFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0IHRoZSBwcm9wZXJ0eSB0b1xuICogQHBhcmFtIHsqfSBvbGRWYWx1ZSBUaGUgb2xkIHZhbHVlIHRoZSBwcm9wZXJ0eSBoYWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBET00gbm9kZSBpcyBhbiBTVkcgbm9kZSBvciBub3RcbiAqL1xuZnVuY3Rpb24gc2V0UHJvcGVydHkoZG9tLCBuYW1lLCB2YWx1ZSwgb2xkVmFsdWUsIGlzU3ZnKSB7XG5cdGlmIChpc1N2Zykge1xuXHRcdGlmIChuYW1lID09PSAnY2xhc3NOYW1lJykge1xuXHRcdFx0bmFtZSA9ICdjbGFzcyc7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICdjbGFzcycpIHtcblx0XHRuYW1lID0gJ2NsYXNzTmFtZSc7XG5cdH1cblxuXHRpZiAobmFtZSA9PT0gJ2tleScgfHwgbmFtZSA9PT0gJ2NoaWxkcmVuJykge1xuXHR9IGVsc2UgaWYgKG5hbWUgPT09ICdzdHlsZScpIHtcblx0XHRjb25zdCBzID0gZG9tLnN0eWxlO1xuXG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHMuY3NzVGV4dCA9IHZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodHlwZW9mIG9sZFZhbHVlID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRzLmNzc1RleHQgPSAnJztcblx0XHRcdFx0b2xkVmFsdWUgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAob2xkVmFsdWUpIHtcblx0XHRcdFx0Zm9yIChsZXQgaSBpbiBvbGRWYWx1ZSkge1xuXHRcdFx0XHRcdGlmICghKHZhbHVlICYmIGkgaW4gdmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRzZXRTdHlsZShzLCBpLCAnJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRmb3IgKGxldCBpIGluIHZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKCFvbGRWYWx1ZSB8fCB2YWx1ZVtpXSAhPT0gb2xkVmFsdWVbaV0pIHtcblx0XHRcdFx0XHRcdHNldFN0eWxlKHMsIGksIHZhbHVlW2ldKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0Ly8gQmVuY2htYXJrIGZvciBjb21wYXJpc29uOiBodHRwczovL2VzYmVuY2guY29tL2JlbmNoLzU3NGM5NTRiZGI5NjViOWEwMDk2NWFjNlxuXHRlbHNlIGlmIChuYW1lWzBdID09PSAnbycgJiYgbmFtZVsxXSA9PT0gJ24nKSB7XG5cdFx0bGV0IHVzZUNhcHR1cmUgPSBuYW1lICE9PSAobmFtZSA9IG5hbWUucmVwbGFjZSgvQ2FwdHVyZSQvLCAnJykpO1xuXHRcdGxldCBuYW1lTG93ZXIgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0bmFtZSA9IChuYW1lTG93ZXIgaW4gZG9tID8gbmFtZUxvd2VyIDogbmFtZSkuc2xpY2UoMik7XG5cblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGlmICghb2xkVmFsdWUpIGRvbS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHksIHVzZUNhcHR1cmUpO1xuXHRcdFx0KGRvbS5fbGlzdGVuZXJzIHx8IChkb20uX2xpc3RlbmVycyA9IHt9KSlbbmFtZV0gPSB2YWx1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnRQcm94eSwgdXNlQ2FwdHVyZSk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKFxuXHRcdG5hbWUgIT09ICdsaXN0JyAmJlxuXHRcdG5hbWUgIT09ICd0YWdOYW1lJyAmJlxuXHRcdC8vIEhUTUxCdXR0b25FbGVtZW50LmZvcm0gYW5kIEhUTUxJbnB1dEVsZW1lbnQuZm9ybSBhcmUgcmVhZC1vbmx5IGJ1dCBjYW4gYmUgc2V0IHVzaW5nXG5cdFx0Ly8gc2V0QXR0cmlidXRlXG5cdFx0bmFtZSAhPT0gJ2Zvcm0nICYmXG5cdFx0bmFtZSAhPT0gJ3R5cGUnICYmXG5cdFx0IWlzU3ZnICYmXG5cdFx0bmFtZSBpbiBkb21cblx0KSB7XG5cdFx0ZG9tW25hbWVdID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG5cdH0gZWxzZSBpZiAoXG5cdFx0dHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nICYmXG5cdFx0bmFtZSAhPT0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJ1xuXHQpIHtcblx0XHRpZiAobmFtZSAhPT0gKG5hbWUgPSBuYW1lLnJlcGxhY2UoL154bGluazo/LywgJycpKSkge1xuXHRcdFx0aWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09IGZhbHNlKSB7XG5cdFx0XHRcdGRvbS5yZW1vdmVBdHRyaWJ1dGVOUyhcblx0XHRcdFx0XHQnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycsXG5cdFx0XHRcdFx0bmFtZS50b0xvd2VyQ2FzZSgpXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkb20uc2V0QXR0cmlidXRlTlMoXG5cdFx0XHRcdFx0J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuXHRcdFx0XHRcdG5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHR2YWx1ZVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gZmFsc2UpIHtcblx0XHRcdGRvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRvbS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIFByb3h5IGFuIGV2ZW50IHRvIGhvb2tlZCBldmVudCBoYW5kbGVyc1xuICogQHBhcmFtIHtFdmVudH0gZSBUaGUgZXZlbnQgb2JqZWN0IGZyb20gdGhlIGJyb3dzZXJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV2ZW50UHJveHkoZSkge1xuXHR0aGlzLl9saXN0ZW5lcnNbZS50eXBlXShvcHRpb25zLmV2ZW50ID8gb3B0aW9ucy5ldmVudChlKSA6IGUpO1xufVxuIiwiaW1wb3J0IHsgRU1QVFlfT0JKLCBFTVBUWV9BUlIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50JztcbmltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAnLi4vY3JlYXRlLWVsZW1lbnQnO1xuaW1wb3J0IHsgZGlmZkNoaWxkcmVuLCB0b0NoaWxkQXJyYXkgfSBmcm9tICcuL2NoaWxkcmVuJztcbmltcG9ydCB7IGRpZmZQcm9wcyB9IGZyb20gJy4vcHJvcHMnO1xuaW1wb3J0IHsgYXNzaWduLCByZW1vdmVOb2RlIH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcblxuLyoqXG4gKiBEaWZmIHR3byB2aXJ0dWFsIG5vZGVzIGFuZCBhcHBseSBwcm9wZXIgY2hhbmdlcyB0byB0aGUgRE9NXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBwYXJlbnREb20gVGhlIHBhcmVudCBvZiB0aGUgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBuZXdWTm9kZSBUaGUgbmV3IHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG9sZFZOb2RlIFRoZSBvbGQgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBUaGUgY3VycmVudCBjb250ZXh0IG9iamVjdFxuICogQHBhcmFtIHtib29sZWFufSBpc1N2ZyBXaGV0aGVyIG9yIG5vdCB0aGlzIGVsZW1lbnQgaXMgYW4gU1ZHIG5vZGVcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnQ+fSBleGNlc3NEb21DaGlsZHJlblxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50Pn0gY29tbWl0UXVldWUgTGlzdCBvZiBjb21wb25lbnRzXG4gKiB3aGljaCBoYXZlIGNhbGxiYWNrcyB0byBpbnZva2UgaW4gY29tbWl0Um9vdFxuICogQHBhcmFtIHtFbGVtZW50IHwgVGV4dH0gb2xkRG9tIFRoZSBjdXJyZW50IGF0dGFjaGVkIERPTVxuICogZWxlbWVudCBhbnkgbmV3IGRvbSBlbGVtZW50cyBzaG91bGQgYmUgcGxhY2VkIGFyb3VuZC4gTGlrZWx5IGBudWxsYCBvbiBmaXJzdFxuICogcmVuZGVyIChleGNlcHQgd2hlbiBoeWRyYXRpbmcpLiBDYW4gYmUgYSBzaWJsaW5nIERPTSBlbGVtZW50IHdoZW4gZGlmZmluZ1xuICogRnJhZ21lbnRzIHRoYXQgaGF2ZSBzaWJsaW5ncy4gSW4gbW9zdCBjYXNlcywgaXQgc3RhcnRzIG91dCBhcyBgb2xkQ2hpbGRyZW5bMF0uX2RvbWAuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0h5ZHJhdGluZ10gV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZihcblx0cGFyZW50RG9tLFxuXHRuZXdWTm9kZSxcblx0b2xkVk5vZGUsXG5cdGNvbnRleHQsXG5cdGlzU3ZnLFxuXHRleGNlc3NEb21DaGlsZHJlbixcblx0Y29tbWl0UXVldWUsXG5cdG9sZERvbSxcblx0aXNIeWRyYXRpbmdcbikge1xuXHRsZXQgdG1wLFxuXHRcdG5ld1R5cGUgPSBuZXdWTm9kZS50eXBlO1xuXG5cdC8vIFdoZW4gcGFzc2luZyB0aHJvdWdoIGNyZWF0ZUVsZW1lbnQgaXQgYXNzaWducyB0aGUgb2JqZWN0XG5cdC8vIGNvbnN0cnVjdG9yIGFzIHVuZGVmaW5lZC4gVGhpcyB0byBwcmV2ZW50IEpTT04taW5qZWN0aW9uLlxuXHRpZiAobmV3Vk5vZGUuY29uc3RydWN0b3IgIT09IHVuZGVmaW5lZCkgcmV0dXJuIG51bGw7XG5cblx0aWYgKCh0bXAgPSBvcHRpb25zLl9kaWZmKSkgdG1wKG5ld1ZOb2RlKTtcblxuXHR0cnkge1xuXHRcdG91dGVyOiBpZiAodHlwZW9mIG5ld1R5cGUgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGxldCBjLCBpc05ldywgb2xkUHJvcHMsIG9sZFN0YXRlLCBzbmFwc2hvdCwgY2xlYXJQcm9jZXNzaW5nRXhjZXB0aW9uO1xuXHRcdFx0bGV0IG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHM7XG5cblx0XHRcdC8vIE5lY2Vzc2FyeSBmb3IgY3JlYXRlQ29udGV4dCBhcGkuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB3aWxsIHBhc3Ncblx0XHRcdC8vIHRoZSBjb250ZXh0IHZhbHVlIGFzIGB0aGlzLmNvbnRleHRgIGp1c3QgZm9yIHRoaXMgY29tcG9uZW50LlxuXHRcdFx0dG1wID0gbmV3VHlwZS5jb250ZXh0VHlwZTtcblx0XHRcdGxldCBwcm92aWRlciA9IHRtcCAmJiBjb250ZXh0W3RtcC5faWRdO1xuXHRcdFx0bGV0IGNjdHggPSB0bXBcblx0XHRcdFx0PyBwcm92aWRlclxuXHRcdFx0XHRcdD8gcHJvdmlkZXIucHJvcHMudmFsdWVcblx0XHRcdFx0XHQ6IHRtcC5fZGVmYXVsdFZhbHVlXG5cdFx0XHRcdDogY29udGV4dDtcblxuXHRcdFx0Ly8gR2V0IGNvbXBvbmVudCBhbmQgc2V0IGl0IHRvIGBjYFxuXHRcdFx0aWYgKG9sZFZOb2RlLl9jb21wb25lbnQpIHtcblx0XHRcdFx0YyA9IG5ld1ZOb2RlLl9jb21wb25lbnQgPSBvbGRWTm9kZS5fY29tcG9uZW50O1xuXHRcdFx0XHRjbGVhclByb2Nlc3NpbmdFeGNlcHRpb24gPSBjLl9wcm9jZXNzaW5nRXhjZXB0aW9uID0gYy5fcGVuZGluZ0Vycm9yO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gSW5zdGFudGlhdGUgdGhlIG5ldyBjb21wb25lbnRcblx0XHRcdFx0aWYgKCdwcm90b3R5cGUnIGluIG5ld1R5cGUgJiYgbmV3VHlwZS5wcm90b3R5cGUucmVuZGVyKSB7XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NvbXBvbmVudCA9IGMgPSBuZXcgbmV3VHlwZShuZXdQcm9wcywgY2N0eCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbmV3LWNhcFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jb21wb25lbnQgPSBjID0gbmV3IENvbXBvbmVudChuZXdQcm9wcywgY2N0eCk7XG5cdFx0XHRcdFx0Yy5jb25zdHJ1Y3RvciA9IG5ld1R5cGU7XG5cdFx0XHRcdFx0Yy5yZW5kZXIgPSBkb1JlbmRlcjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocHJvdmlkZXIpIHByb3ZpZGVyLnN1YihjKTtcblxuXHRcdFx0XHRjLnByb3BzID0gbmV3UHJvcHM7XG5cdFx0XHRcdGlmICghYy5zdGF0ZSkgYy5zdGF0ZSA9IHt9O1xuXHRcdFx0XHRjLmNvbnRleHQgPSBjY3R4O1xuXHRcdFx0XHRjLl9jb250ZXh0ID0gY29udGV4dDtcblx0XHRcdFx0aXNOZXcgPSBjLl9kaXJ0eSA9IHRydWU7XG5cdFx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbnZva2UgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXG5cdFx0XHRpZiAoYy5fbmV4dFN0YXRlID09IG51bGwpIHtcblx0XHRcdFx0Yy5fbmV4dFN0YXRlID0gYy5zdGF0ZTtcblx0XHRcdH1cblx0XHRcdGlmIChuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPSBudWxsKSB7XG5cdFx0XHRcdGlmIChjLl9uZXh0U3RhdGUgPT0gYy5zdGF0ZSkge1xuXHRcdFx0XHRcdGMuX25leHRTdGF0ZSA9IGFzc2lnbih7fSwgYy5fbmV4dFN0YXRlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFzc2lnbihcblx0XHRcdFx0XHRjLl9uZXh0U3RhdGUsXG5cdFx0XHRcdFx0bmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV3UHJvcHMsIGMuX25leHRTdGF0ZSlcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0b2xkUHJvcHMgPSBjLnByb3BzO1xuXHRcdFx0b2xkU3RhdGUgPSBjLnN0YXRlO1xuXG5cdFx0XHQvLyBJbnZva2UgcHJlLXJlbmRlciBsaWZlY3ljbGUgbWV0aG9kc1xuXHRcdFx0aWYgKGlzTmV3KSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PSBudWxsICYmXG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsTW91bnQgIT0gbnVsbFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxNb3VudCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGMuY29tcG9uZW50RGlkTW91bnQgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGMuY29tcG9uZW50RGlkTW91bnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0bmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT0gbnVsbCAmJlxuXHRcdFx0XHRcdG5ld1Byb3BzICE9PSBvbGRQcm9wcyAmJlxuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAhPSBudWxsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcywgY2N0eCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0IWMuX2ZvcmNlICYmXG5cdFx0XHRcdFx0Yy5zaG91bGRDb21wb25lbnRVcGRhdGUgIT0gbnVsbCAmJlxuXHRcdFx0XHRcdGMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5ld1Byb3BzLCBjLl9uZXh0U3RhdGUsIGNjdHgpID09PSBmYWxzZVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjLnByb3BzID0gbmV3UHJvcHM7XG5cdFx0XHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblx0XHRcdFx0XHRjLl9kaXJ0eSA9IGZhbHNlO1xuXHRcdFx0XHRcdGMuX3Zub2RlID0gbmV3Vk5vZGU7XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2RvbSA9IG9sZFZOb2RlLl9kb207XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NoaWxkcmVuID0gb2xkVk5vZGUuX2NoaWxkcmVuO1xuXHRcdFx0XHRcdGlmIChjLl9yZW5kZXJDYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRjb21taXRRdWV1ZS5wdXNoKGMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRmb3IgKHRtcCA9IDA7IHRtcCA8IG5ld1ZOb2RlLl9jaGlsZHJlbi5sZW5ndGg7IHRtcCsrKSB7XG5cdFx0XHRcdFx0XHRpZiAobmV3Vk5vZGUuX2NoaWxkcmVuW3RtcF0pIHtcblx0XHRcdFx0XHRcdFx0bmV3Vk5vZGUuX2NoaWxkcmVuW3RtcF0uX3BhcmVudCA9IG5ld1ZOb2RlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhayBvdXRlcjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjLmNvbXBvbmVudFdpbGxVcGRhdGUgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFVwZGF0ZShuZXdQcm9wcywgYy5fbmV4dFN0YXRlLCBjY3R4KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjLmNvbXBvbmVudERpZFVwZGF0ZSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRcdFx0Yy5jb21wb25lbnREaWRVcGRhdGUob2xkUHJvcHMsIG9sZFN0YXRlLCBzbmFwc2hvdCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Yy5jb250ZXh0ID0gY2N0eDtcblx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdGMuc3RhdGUgPSBjLl9uZXh0U3RhdGU7XG5cblx0XHRcdGlmICgodG1wID0gb3B0aW9ucy5fcmVuZGVyKSkgdG1wKG5ld1ZOb2RlKTtcblxuXHRcdFx0Yy5fZGlydHkgPSBmYWxzZTtcblx0XHRcdGMuX3Zub2RlID0gbmV3Vk5vZGU7XG5cdFx0XHRjLl9wYXJlbnREb20gPSBwYXJlbnREb207XG5cblx0XHRcdHRtcCA9IGMucmVuZGVyKGMucHJvcHMsIGMuc3RhdGUsIGMuY29udGV4dCk7XG5cdFx0XHRsZXQgaXNUb3BMZXZlbEZyYWdtZW50ID1cblx0XHRcdFx0dG1wICE9IG51bGwgJiYgdG1wLnR5cGUgPT0gRnJhZ21lbnQgJiYgdG1wLmtleSA9PSBudWxsO1xuXHRcdFx0bmV3Vk5vZGUuX2NoaWxkcmVuID0gdG9DaGlsZEFycmF5KFxuXHRcdFx0XHRpc1RvcExldmVsRnJhZ21lbnQgPyB0bXAucHJvcHMuY2hpbGRyZW4gOiB0bXBcblx0XHRcdCk7XG5cblx0XHRcdGlmIChjLmdldENoaWxkQ29udGV4dCAhPSBudWxsKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBhc3NpZ24oYXNzaWduKHt9LCBjb250ZXh0KSwgYy5nZXRDaGlsZENvbnRleHQoKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghaXNOZXcgJiYgYy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAhPSBudWxsKSB7XG5cdFx0XHRcdHNuYXBzaG90ID0gYy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShvbGRQcm9wcywgb2xkU3RhdGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRkaWZmQ2hpbGRyZW4oXG5cdFx0XHRcdHBhcmVudERvbSxcblx0XHRcdFx0bmV3Vk5vZGUsXG5cdFx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRpc1N2Zyxcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0XHRvbGREb20sXG5cdFx0XHRcdGlzSHlkcmF0aW5nXG5cdFx0XHQpO1xuXG5cdFx0XHRjLmJhc2UgPSBuZXdWTm9kZS5fZG9tO1xuXG5cdFx0XHRpZiAoYy5fcmVuZGVyQ2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdFx0XHRjb21taXRRdWV1ZS5wdXNoKGMpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2xlYXJQcm9jZXNzaW5nRXhjZXB0aW9uKSB7XG5cdFx0XHRcdGMuX3BlbmRpbmdFcnJvciA9IGMuX3Byb2Nlc3NpbmdFeGNlcHRpb24gPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRjLl9mb3JjZSA9IG51bGw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5ld1ZOb2RlLl9kb20gPSBkaWZmRWxlbWVudE5vZGVzKFxuXHRcdFx0XHRvbGRWTm9kZS5fZG9tLFxuXHRcdFx0XHRuZXdWTm9kZSxcblx0XHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRcdGNvbnRleHQsXG5cdFx0XHRcdGlzU3ZnLFxuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRcdGlzSHlkcmF0aW5nXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmICgodG1wID0gb3B0aW9ucy5kaWZmZWQpKSB0bXAobmV3Vk5vZGUpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0b3B0aW9ucy5fY2F0Y2hFcnJvcihlLCBuZXdWTm9kZSwgb2xkVk5vZGUpO1xuXHR9XG5cblx0cmV0dXJuIG5ld1ZOb2RlLl9kb207XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50Pn0gY29tbWl0UXVldWUgTGlzdCBvZiBjb21wb25lbnRzXG4gKiB3aGljaCBoYXZlIGNhbGxiYWNrcyB0byBpbnZva2UgaW4gY29tbWl0Um9vdFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IHJvb3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbW1pdFJvb3QoY29tbWl0UXVldWUsIHJvb3QpIHtcblx0aWYgKG9wdGlvbnMuX2NvbW1pdCkgb3B0aW9ucy5fY29tbWl0KHJvb3QsIGNvbW1pdFF1ZXVlKTtcblxuXHRjb21taXRRdWV1ZS5zb21lKGMgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRjb21taXRRdWV1ZSA9IGMuX3JlbmRlckNhbGxiYWNrcztcblx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0Y29tbWl0UXVldWUuc29tZShjYiA9PiB7XG5cdFx0XHRcdGNiLmNhbGwoYyk7XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIGMuX3Zub2RlKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiAqIERpZmYgdHdvIHZpcnR1YWwgbm9kZXMgcmVwcmVzZW50aW5nIERPTSBlbGVtZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBkb20gVGhlIERPTSBlbGVtZW50IHJlcHJlc2VudGluZ1xuICogdGhlIHZpcnR1YWwgbm9kZXMgYmVpbmcgZGlmZmVkXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gbmV3Vk5vZGUgVGhlIG5ldyB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBvbGRWTm9kZSBUaGUgb2xkIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgVGhlIGN1cnJlbnQgY29udGV4dCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBET00gbm9kZSBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHsqfSBleGNlc3NEb21DaGlsZHJlblxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50Pn0gY29tbWl0UXVldWUgTGlzdCBvZiBjb21wb25lbnRzXG4gKiB3aGljaCBoYXZlIGNhbGxiYWNrcyB0byBpbnZva2UgaW4gY29tbWl0Um9vdFxuICogQHBhcmFtIHtib29sZWFufSBpc0h5ZHJhdGluZyBXaGV0aGVyIG9yIG5vdCB3ZSBhcmUgaW4gaHlkcmF0aW9uXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGRpZmZFbGVtZW50Tm9kZXMoXG5cdGRvbSxcblx0bmV3Vk5vZGUsXG5cdG9sZFZOb2RlLFxuXHRjb250ZXh0LFxuXHRpc1N2Zyxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRpc0h5ZHJhdGluZ1xuKSB7XG5cdGxldCBpO1xuXHRsZXQgb2xkUHJvcHMgPSBvbGRWTm9kZS5wcm9wcztcblx0bGV0IG5ld1Byb3BzID0gbmV3Vk5vZGUucHJvcHM7XG5cblx0Ly8gVHJhY2tzIGVudGVyaW5nIGFuZCBleGl0aW5nIFNWRyBuYW1lc3BhY2Ugd2hlbiBkZXNjZW5kaW5nIHRocm91Z2ggdGhlIHRyZWUuXG5cdGlzU3ZnID0gbmV3Vk5vZGUudHlwZSA9PT0gJ3N2ZycgfHwgaXNTdmc7XG5cblx0aWYgKGRvbSA9PSBudWxsICYmIGV4Y2Vzc0RvbUNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRmb3IgKGkgPSAwOyBpIDwgZXhjZXNzRG9tQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGNoaWxkID0gZXhjZXNzRG9tQ2hpbGRyZW5baV07XG5cblx0XHRcdGlmIChcblx0XHRcdFx0Y2hpbGQgIT0gbnVsbCAmJlxuXHRcdFx0XHQobmV3Vk5vZGUudHlwZSA9PT0gbnVsbFxuXHRcdFx0XHRcdD8gY2hpbGQubm9kZVR5cGUgPT09IDNcblx0XHRcdFx0XHQ6IGNoaWxkLmxvY2FsTmFtZSA9PT0gbmV3Vk5vZGUudHlwZSlcblx0XHRcdCkge1xuXHRcdFx0XHRkb20gPSBjaGlsZDtcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW5baV0gPSBudWxsO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoZG9tID09IG51bGwpIHtcblx0XHRpZiAobmV3Vk5vZGUudHlwZSA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld1Byb3BzKTtcblx0XHR9XG5cdFx0ZG9tID0gaXNTdmdcblx0XHRcdD8gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5ld1ZOb2RlLnR5cGUpXG5cdFx0XHQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmV3Vk5vZGUudHlwZSk7XG5cdFx0Ly8gd2UgY3JlYXRlZCBhIG5ldyBwYXJlbnQsIHNvIG5vbmUgb2YgdGhlIHByZXZpb3VzbHkgYXR0YWNoZWQgY2hpbGRyZW4gY2FuIGJlIHJldXNlZDpcblx0XHRleGNlc3NEb21DaGlsZHJlbiA9IG51bGw7XG5cdH1cblxuXHRpZiAobmV3Vk5vZGUudHlwZSA9PT0gbnVsbCkge1xuXHRcdGlmIChleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsKSB7XG5cdFx0XHRleGNlc3NEb21DaGlsZHJlbltleGNlc3NEb21DaGlsZHJlbi5pbmRleE9mKGRvbSldID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzICYmIGRvbS5kYXRhICE9IG5ld1Byb3BzKSB7XG5cdFx0XHRkb20uZGF0YSA9IG5ld1Byb3BzO1xuXHRcdH1cblx0fSBlbHNlIGlmIChuZXdWTm9kZSAhPT0gb2xkVk5vZGUpIHtcblx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4gPSBFTVBUWV9BUlIuc2xpY2UuY2FsbChkb20uY2hpbGROb2Rlcyk7XG5cdFx0fVxuXG5cdFx0b2xkUHJvcHMgPSBvbGRWTm9kZS5wcm9wcyB8fCBFTVBUWV9PQko7XG5cblx0XHRsZXQgb2xkSHRtbCA9IG9sZFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MO1xuXHRcdGxldCBuZXdIdG1sID0gbmV3UHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw7XG5cblx0XHQvLyBEdXJpbmcgaHlkcmF0aW9uLCBwcm9wcyBhcmUgbm90IGRpZmZlZCBhdCBhbGwgKGluY2x1ZGluZyBkYW5nZXJvdXNseVNldElubmVySFRNTClcblx0XHQvLyBAVE9ETyB3ZSBzaG91bGQgd2FybiBpbiBkZWJ1ZyBtb2RlIHdoZW4gcHJvcHMgZG9uJ3QgbWF0Y2ggaGVyZS5cblx0XHRpZiAoIWlzSHlkcmF0aW5nKSB7XG5cdFx0XHRpZiAob2xkUHJvcHMgPT09IEVNUFRZX09CSikge1xuXHRcdFx0XHRvbGRQcm9wcyA9IHt9O1xuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGRvbS5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0b2xkUHJvcHNbZG9tLmF0dHJpYnV0ZXNbaV0ubmFtZV0gPSBkb20uYXR0cmlidXRlc1tpXS52YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAobmV3SHRtbCB8fCBvbGRIdG1sKSB7XG5cdFx0XHRcdC8vIEF2b2lkIHJlLWFwcGx5aW5nIHRoZSBzYW1lICdfX2h0bWwnIGlmIGl0IGRpZCBub3QgY2hhbmdlZCBiZXR3ZWVuIHJlLXJlbmRlclxuXHRcdFx0XHRpZiAoIW5ld0h0bWwgfHwgIW9sZEh0bWwgfHwgbmV3SHRtbC5fX2h0bWwgIT0gb2xkSHRtbC5fX2h0bWwpIHtcblx0XHRcdFx0XHRkb20uaW5uZXJIVE1MID0gKG5ld0h0bWwgJiYgbmV3SHRtbC5fX2h0bWwpIHx8ICcnO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZGlmZlByb3BzKGRvbSwgbmV3UHJvcHMsIG9sZFByb3BzLCBpc1N2ZywgaXNIeWRyYXRpbmcpO1xuXG5cdFx0bmV3Vk5vZGUuX2NoaWxkcmVuID0gbmV3Vk5vZGUucHJvcHMuY2hpbGRyZW47XG5cblx0XHQvLyBJZiB0aGUgbmV3IHZub2RlIGRpZG4ndCBoYXZlIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLCBkaWZmIGl0cyBjaGlsZHJlblxuXHRcdGlmICghbmV3SHRtbCkge1xuXHRcdFx0ZGlmZkNoaWxkcmVuKFxuXHRcdFx0XHRkb20sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Y29udGV4dCxcblx0XHRcdFx0bmV3Vk5vZGUudHlwZSA9PT0gJ2ZvcmVpZ25PYmplY3QnID8gZmFsc2UgOiBpc1N2Zyxcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0XHRFTVBUWV9PQkosXG5cdFx0XHRcdGlzSHlkcmF0aW5nXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIChhcyBhYm92ZSwgZG9uJ3QgZGlmZiBwcm9wcyBkdXJpbmcgaHlkcmF0aW9uKVxuXHRcdGlmICghaXNIeWRyYXRpbmcpIHtcblx0XHRcdGlmIChcblx0XHRcdFx0J3ZhbHVlJyBpbiBuZXdQcm9wcyAmJlxuXHRcdFx0XHRuZXdQcm9wcy52YWx1ZSAhPT0gdW5kZWZpbmVkICYmXG5cdFx0XHRcdG5ld1Byb3BzLnZhbHVlICE9PSBkb20udmFsdWVcblx0XHRcdCkge1xuXHRcdFx0XHRkb20udmFsdWUgPSBuZXdQcm9wcy52YWx1ZSA9PSBudWxsID8gJycgOiBuZXdQcm9wcy52YWx1ZTtcblx0XHRcdH1cblx0XHRcdGlmIChcblx0XHRcdFx0J2NoZWNrZWQnIGluIG5ld1Byb3BzICYmXG5cdFx0XHRcdG5ld1Byb3BzLmNoZWNrZWQgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRuZXdQcm9wcy5jaGVja2VkICE9PSBkb20uY2hlY2tlZFxuXHRcdFx0KSB7XG5cdFx0XHRcdGRvbS5jaGVja2VkID0gbmV3UHJvcHMuY2hlY2tlZDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZG9tO1xufVxuXG4vKipcbiAqIEludm9rZSBvciB1cGRhdGUgYSByZWYsIGRlcGVuZGluZyBvbiB3aGV0aGVyIGl0IGlzIGEgZnVuY3Rpb24gb3Igb2JqZWN0IHJlZi5cbiAqIEBwYXJhbSB7b2JqZWN0fGZ1bmN0aW9ufSByZWZcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IHZub2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBseVJlZihyZWYsIHZhbHVlLCB2bm9kZSkge1xuXHR0cnkge1xuXHRcdGlmICh0eXBlb2YgcmVmID09ICdmdW5jdGlvbicpIHJlZih2YWx1ZSk7XG5cdFx0ZWxzZSByZWYuY3VycmVudCA9IHZhbHVlO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0b3B0aW9ucy5fY2F0Y2hFcnJvcihlLCB2bm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBVbm1vdW50IGEgdmlydHVhbCBub2RlIGZyb20gdGhlIHRyZWUgYW5kIGFwcGx5IERPTSBjaGFuZ2VzXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGUgVGhlIHZpcnR1YWwgbm9kZSB0byB1bm1vdW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gcGFyZW50Vk5vZGUgVGhlIHBhcmVudCBvZiB0aGUgVk5vZGUgdGhhdFxuICogaW5pdGlhdGVkIHRoZSB1bm1vdW50XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwUmVtb3ZlXSBGbGFnIHRoYXQgaW5kaWNhdGVzIHRoYXQgYSBwYXJlbnQgbm9kZSBvZiB0aGVcbiAqIGN1cnJlbnQgZWxlbWVudCBpcyBhbHJlYWR5IGRldGFjaGVkIGZyb20gdGhlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVubW91bnQodm5vZGUsIHBhcmVudFZOb2RlLCBza2lwUmVtb3ZlKSB7XG5cdGxldCByO1xuXHRpZiAob3B0aW9ucy51bm1vdW50KSBvcHRpb25zLnVubW91bnQodm5vZGUpO1xuXG5cdGlmICgociA9IHZub2RlLnJlZikpIHtcblx0XHRpZiAoIXIuY3VycmVudCB8fCByLmN1cnJlbnQgPT09IHZub2RlLl9kb20pIGFwcGx5UmVmKHIsIG51bGwsIHBhcmVudFZOb2RlKTtcblx0fVxuXG5cdGxldCBkb207XG5cdGlmICghc2tpcFJlbW92ZSAmJiB0eXBlb2Ygdm5vZGUudHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHNraXBSZW1vdmUgPSAoZG9tID0gdm5vZGUuX2RvbSkgIT0gbnVsbDtcblx0fVxuXG5cdHZub2RlLl9kb20gPSB2bm9kZS5fbGFzdERvbUNoaWxkID0gbnVsbDtcblxuXHRpZiAoKHIgPSB2bm9kZS5fY29tcG9uZW50KSAhPSBudWxsKSB7XG5cdFx0aWYgKHIuY29tcG9uZW50V2lsbFVubW91bnQpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHIuY29tcG9uZW50V2lsbFVubW91bnQoKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0b3B0aW9ucy5fY2F0Y2hFcnJvcihlLCBwYXJlbnRWTm9kZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ci5iYXNlID0gci5fcGFyZW50RG9tID0gbnVsbDtcblx0fVxuXG5cdGlmICgociA9IHZub2RlLl9jaGlsZHJlbikpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHIubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChyW2ldKSB1bm1vdW50KHJbaV0sIHBhcmVudFZOb2RlLCBza2lwUmVtb3ZlKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoZG9tICE9IG51bGwpIHJlbW92ZU5vZGUoZG9tKTtcbn1cblxuLyoqIFRoZSBgLnJlbmRlcigpYCBtZXRob2QgZm9yIGEgUEZDIGJhY2tpbmcgaW5zdGFuY2UuICovXG5mdW5jdGlvbiBkb1JlbmRlcihwcm9wcywgc3RhdGUsIGNvbnRleHQpIHtcblx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpO1xufVxuIiwiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IEVNUFRZX0FSUiB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGNyZWF0ZVZOb2RlIH0gZnJvbSAnLi9jcmVhdGUtZWxlbWVudCc7XG5cbi8qKlxuICogQ2xvbmVzIHRoZSBnaXZlbiBWTm9kZSwgb3B0aW9uYWxseSBhZGRpbmcgYXR0cmlidXRlcy9wcm9wcyBhbmQgcmVwbGFjaW5nIGl0cyBjaGlsZHJlbi5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlIFRoZSB2aXJ0dWFsIERPTSBlbGVtZW50IHRvIGNsb25lXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgQXR0cmlidXRlcy9wcm9wcyB0byBhZGQgd2hlbiBjbG9uaW5nXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi9pbmRleCcpLkNvbXBvbmVudENoaWxkcmVuPn0gcmVzdCBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgd2lsbCBiZSB1c2VkIGFzIHJlcGxhY2VtZW50IGNoaWxkcmVuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVFbGVtZW50KHZub2RlLCBwcm9wcykge1xuXHRwcm9wcyA9IGFzc2lnbihhc3NpZ24oe30sIHZub2RlLnByb3BzKSwgcHJvcHMpO1xuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpIHByb3BzLmNoaWxkcmVuID0gRU1QVFlfQVJSLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcblx0cmV0dXJuIGNyZWF0ZVZOb2RlKFxuXHRcdHZub2RlLnR5cGUsXG5cdFx0cHJvcHMsXG5cdFx0cHJvcHMua2V5IHx8IHZub2RlLmtleSxcblx0XHRwcm9wcy5yZWYgfHwgdm5vZGUucmVmXG5cdCk7XG59XG4iLCJpbXBvcnQgeyBlbnF1ZXVlUmVuZGVyIH0gZnJvbSAnLi4vY29tcG9uZW50JztcblxuLyoqXG4gKiBGaW5kIHRoZSBjbG9zZXN0IGVycm9yIGJvdW5kYXJ5IHRvIGEgdGhyb3duIGVycm9yIGFuZCBjYWxsIGl0XG4gKiBAcGFyYW0ge29iamVjdH0gZXJyb3IgVGhlIHRocm93biB2YWx1ZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IHZub2RlIFRoZSB2bm9kZSB0aGF0IHRocmV3XG4gKiB0aGUgZXJyb3IgdGhhdCB3YXMgY2F1Z2h0IChleGNlcHQgZm9yIHVubW91bnRpbmcgd2hlbiB0aGlzIHBhcmFtZXRlclxuICogaXMgdGhlIGhpZ2hlc3QgcGFyZW50IHRoYXQgd2FzIGJlaW5nIHVubW91bnRlZClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9jYXRjaEVycm9yKGVycm9yLCB2bm9kZSkge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnR9ICovXG5cdGxldCBjb21wb25lbnQsIGhhc0NhdWdodDtcblxuXHRmb3IgKDsgKHZub2RlID0gdm5vZGUuX3BhcmVudCk7ICkge1xuXHRcdGlmICgoY29tcG9uZW50ID0gdm5vZGUuX2NvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5fcHJvY2Vzc2luZ0V4Y2VwdGlvbikge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdGNvbXBvbmVudC5jb25zdHJ1Y3RvciAmJlxuXHRcdFx0XHRcdGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgIT0gbnVsbFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRoYXNDYXVnaHQgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbXBvbmVudC5zZXRTdGF0ZShcblx0XHRcdFx0XHRcdGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkQ2F0Y2ggIT0gbnVsbCkge1xuXHRcdFx0XHRcdGhhc0NhdWdodCA9IHRydWU7XG5cdFx0XHRcdFx0Y29tcG9uZW50LmNvbXBvbmVudERpZENhdGNoKGVycm9yKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChoYXNDYXVnaHQpXG5cdFx0XHRcdFx0cmV0dXJuIGVucXVldWVSZW5kZXIoKGNvbXBvbmVudC5fcGVuZGluZ0Vycm9yID0gY29tcG9uZW50KSk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGVycm9yID0gZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHR0aHJvdyBlcnJvcjtcbn1cbiIsImltcG9ydCB7XG5cdGNyZWF0ZUVsZW1lbnQsXG5cdHJlbmRlciBhcyBwcmVhY3RSZW5kZXIsXG5cdGNsb25lRWxlbWVudCBhcyBwcmVhY3RDbG9uZUVsZW1lbnQsXG5cdGNyZWF0ZVJlZixcblx0Q29tcG9uZW50LFxuXHRjcmVhdGVDb250ZXh0LFxuXHRGcmFnbWVudFxufSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHtcblx0dXNlU3RhdGUsXG5cdHVzZVJlZHVjZXIsXG5cdHVzZUVmZmVjdCxcblx0dXNlTGF5b3V0RWZmZWN0LFxuXHR1c2VSZWYsXG5cdHVzZUltcGVyYXRpdmVIYW5kbGUsXG5cdHVzZU1lbW8sXG5cdHVzZUNhbGxiYWNrLFxuXHR1c2VDb250ZXh0LFxuXHR1c2VEZWJ1Z1ZhbHVlXG59IGZyb20gJ3ByZWFjdC9ob29rcyc7XG5pbXBvcnQgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAnLi9QdXJlQ29tcG9uZW50JztcbmltcG9ydCB7IG1lbW8gfSBmcm9tICcuL21lbW8nO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiB9IGZyb20gJy4vZm9yd2FyZFJlZic7XG5pbXBvcnQgeyBDaGlsZHJlbiB9IGZyb20gJy4vQ2hpbGRyZW4nO1xuaW1wb3J0IHsgU3VzcGVuc2UsIGxhenkgfSBmcm9tICcuL3N1c3BlbnNlJztcbmltcG9ydCB7IFN1c3BlbnNlTGlzdCB9IGZyb20gJy4vc3VzcGVuc2UtbGlzdCc7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICcuL3BvcnRhbHMnO1xuaW1wb3J0IHsgaHlkcmF0ZSwgcmVuZGVyLCBSRUFDVF9FTEVNRU5UX1RZUEUgfSBmcm9tICcuL3JlbmRlcic7XG5cbmNvbnN0IHZlcnNpb24gPSAnMTYuOC4wJzsgLy8gdHJpY2sgbGlicmFyaWVzIHRvIHRoaW5rIHdlIGFyZSByZWFjdFxuXG4vKipcbiAqIExlZ2FjeSB2ZXJzaW9uIG9mIGNyZWF0ZUVsZW1lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlW1widHlwZVwiXX0gdHlwZSBUaGUgbm9kZSBuYW1lIG9yIENvbXBvbmVudCBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBjcmVhdGVGYWN0b3J5KHR5cGUpIHtcblx0cmV0dXJuIGNyZWF0ZUVsZW1lbnQuYmluZChudWxsLCB0eXBlKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFzc2VkIGVsZW1lbnQgaXMgYSB2YWxpZCAocClyZWFjdCBub2RlLlxuICogQHBhcmFtIHsqfSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkge1xuXHRyZXR1cm4gISFlbGVtZW50ICYmIGVsZW1lbnQuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbn1cblxuLyoqXG4gKiBXcmFwIGBjbG9uZUVsZW1lbnRgIHRvIGFib3J0IGlmIHRoZSBwYXNzZWQgZWxlbWVudCBpcyBub3QgYSB2YWxpZCBlbGVtZW50IGFuZCBhcHBseVxuICogYWxsIHZub2RlIG5vcm1hbGl6YXRpb25zLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gZWxlbWVudCBUaGUgdm5vZGUgdG8gY2xvbmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBQcm9wcyB0byBhZGQgd2hlbiBjbG9uaW5nXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudENoaWxkcmVuPn0gcmVzdCBPcHRpb25hbCBjb21wb25lbnQgY2hpbGRyZW5cbiAqL1xuZnVuY3Rpb24gY2xvbmVFbGVtZW50KGVsZW1lbnQpIHtcblx0aWYgKCFpc1ZhbGlkRWxlbWVudChlbGVtZW50KSkgcmV0dXJuIGVsZW1lbnQ7XG5cdHJldHVybiBwcmVhY3RDbG9uZUVsZW1lbnQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBjb21wb25lbnQgdHJlZSBmcm9tIHRoZSBET00sIGluY2x1ZGluZyBzdGF0ZSBhbmQgZXZlbnQgaGFuZGxlcnMuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IGNvbnRhaW5lclxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHVubW91bnRDb21wb25lbnRBdE5vZGUoY29udGFpbmVyKSB7XG5cdGlmIChjb250YWluZXIuX2NoaWxkcmVuKSB7XG5cdFx0cHJlYWN0UmVuZGVyKG51bGwsIGNvbnRhaW5lcik7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEdldCB0aGUgbWF0Y2hpbmcgRE9NIG5vZGUgZm9yIGEgY29tcG9uZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gY29tcG9uZW50XG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuUHJlYWN0RWxlbWVudCB8IG51bGx9XG4gKi9cbmZ1bmN0aW9uIGZpbmRET01Ob2RlKGNvbXBvbmVudCkge1xuXHRyZXR1cm4gKFxuXHRcdChjb21wb25lbnQgJiZcblx0XHRcdChjb21wb25lbnQuYmFzZSB8fCAoY29tcG9uZW50Lm5vZGVUeXBlID09PSAxICYmIGNvbXBvbmVudCkpKSB8fFxuXHRcdG51bGxcblx0KTtcbn1cblxuLyoqXG4gKiBEZXByZWNhdGVkIHdheSB0byBjb250cm9sIGJhdGNoZWQgcmVuZGVyaW5nIGluc2lkZSB0aGUgcmVjb25jaWxlciwgYnV0IHdlXG4gKiBhbHJlYWR5IHNjaGVkdWxlIGluIGJhdGNoZXMgaW5zaWRlIG91ciByZW5kZXJpbmcgY29kZVxuICogQHRlbXBsYXRlIEFyZ1xuICogQHBhcmFtIHsoYXJnOiBBcmcpID0+IHZvaWR9IGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgdHJpZ2dlcnMgdGhlIHVwZGF0ZWRcbiAqIEBwYXJhbSB7QXJnfSBbYXJnXSBPcHRpb25hbCBhcmd1bWVudCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbmNvbnN0IHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzID0gKGNhbGxiYWNrLCBhcmcpID0+IGNhbGxiYWNrKGFyZyk7XG5cbmV4cG9ydCAqIGZyb20gJ3ByZWFjdC9ob29rcyc7XG5leHBvcnQge1xuXHR2ZXJzaW9uLFxuXHRDaGlsZHJlbixcblx0cmVuZGVyLFxuXHRoeWRyYXRlLFxuXHR1bm1vdW50Q29tcG9uZW50QXROb2RlLFxuXHRjcmVhdGVQb3J0YWwsXG5cdGNyZWF0ZUVsZW1lbnQsXG5cdGNyZWF0ZUNvbnRleHQsXG5cdGNyZWF0ZUZhY3RvcnksXG5cdGNsb25lRWxlbWVudCxcblx0Y3JlYXRlUmVmLFxuXHRGcmFnbWVudCxcblx0aXNWYWxpZEVsZW1lbnQsXG5cdGZpbmRET01Ob2RlLFxuXHRDb21wb25lbnQsXG5cdFB1cmVDb21wb25lbnQsXG5cdG1lbW8sXG5cdGZvcndhcmRSZWYsXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2Vcblx0dW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMsXG5cdFN1c3BlbnNlLFxuXHRTdXNwZW5zZUxpc3QsXG5cdGxhenlcbn07XG5cbi8vIFJlYWN0IGNvcGllcyB0aGUgbmFtZWQgZXhwb3J0cyB0byB0aGUgZGVmYXVsdCBvbmUuXG5leHBvcnQgZGVmYXVsdCB7XG5cdHVzZVN0YXRlLFxuXHR1c2VSZWR1Y2VyLFxuXHR1c2VFZmZlY3QsXG5cdHVzZUxheW91dEVmZmVjdCxcblx0dXNlUmVmLFxuXHR1c2VJbXBlcmF0aXZlSGFuZGxlLFxuXHR1c2VNZW1vLFxuXHR1c2VDYWxsYmFjayxcblx0dXNlQ29udGV4dCxcblx0dXNlRGVidWdWYWx1ZSxcblx0dmVyc2lvbixcblx0Q2hpbGRyZW4sXG5cdHJlbmRlcixcblx0aHlkcmF0ZTogcmVuZGVyLFxuXHR1bm1vdW50Q29tcG9uZW50QXROb2RlLFxuXHRjcmVhdGVQb3J0YWwsXG5cdGNyZWF0ZUVsZW1lbnQsXG5cdGNyZWF0ZUNvbnRleHQsXG5cdGNyZWF0ZUZhY3RvcnksXG5cdGNsb25lRWxlbWVudCxcblx0Y3JlYXRlUmVmLFxuXHRGcmFnbWVudCxcblx0aXNWYWxpZEVsZW1lbnQsXG5cdGZpbmRET01Ob2RlLFxuXHRDb21wb25lbnQsXG5cdFB1cmVDb21wb25lbnQsXG5cdG1lbW8sXG5cdGZvcndhcmRSZWYsXG5cdHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzLFxuXHRTdXNwZW5zZSxcblx0U3VzcGVuc2VMaXN0LFxuXHRsYXp5XG59O1xuIiwidmFyIHI9e2RhdGE6XCJcIn0sZT1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZT9lLnF1ZXJ5U2VsZWN0b3IoXCIjX2dvb2JlclwiKTpzZWxmLl9nb29iZXI7cmV0dXJuIHR8fCgodD0oZXx8ZG9jdW1lbnQuaGVhZCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpKSkuaW5uZXJIVE1MPVwiIFwiLHQuaWQ9XCJfZ29vYmVyXCIpLHQuZmlyc3RDaGlsZH1jYXRjaChyKXt9cmV0dXJuIHJ9LHQ9ZnVuY3Rpb24ocil7dmFyIHQ9ZShyKSxhPXQuZGF0YTtyZXR1cm4gdC5kYXRhPVwiXCIsYX0sYT0vKD86KFthLXowLTktJUBdKykgKjo/ICooW157O10rPyk7fChbXjt9e10qPykgK3spfCh9KS9naSxuPS9cXC9cXCouKj9cXCpcXC98XFxzezIsfXxcXG4vZ20sYz1mdW5jdGlvbihyLGUsdCl7dmFyIGE9XCJcIixuPVwiXCIsaT1cIlwiO2lmKC9eQFtrfGZdLy50ZXN0KHQpKXJldHVybiB0K0pTT04uc3RyaW5naWZ5KHIpLnJlcGxhY2UoL1wiLFwiL2csXCI7XCIpLnJlcGxhY2UoL1wifCxcIi9nLFwiXCIpLnJlcGxhY2UoLzp7L2csXCJ7XCIpO2Zvcih2YXIgbyBpbiByKXt2YXIgdT1yW29dO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB1KXt2YXIgcz1lK1wiIFwiK287LyYvZy50ZXN0KG8pJiYocz1vLnJlcGxhY2UoLyYvZyxlKSksXCJAXCI9PW9bMF0mJihzPWUpLG4rPWModSxzLHM9PWU/bzp0fHxcIlwiKX1lbHNlL15AaS8udGVzdChvKT9pPW8rXCIgXCIrdStcIjtcIjphKz1vLnJlcGxhY2UoL1tBLVpdL2csXCItJCZcIikudG9Mb3dlckNhc2UoKStcIjpcIit1K1wiO1wifWlmKGEuY2hhckNvZGVBdCgwKSl7dmFyIGY9ZStcIntcIithK1wifVwiO3JldHVybiB0P24rdCtcIntcIitmK1wifVwiOmkrZitufXJldHVybiBpK259LGk9e2M6MH0sbz1mdW5jdGlvbihyLGUsdCxvKXt2YXIgdT1KU09OLnN0cmluZ2lmeShyKSxzPWlbdV18fChpW3VdPXQ/XCJcIjpcIi5nb1wiK3Uuc3BsaXQoXCJcIikucmVkdWNlKGZ1bmN0aW9uKHIsZSl7cmV0dXJuIHIrZS5jaGFyQ29kZUF0KDApfDh9LDQpKTtyZXR1cm4gZnVuY3Rpb24ocixlLHQpe2UuZGF0YS5pbmRleE9mKHIpPDAmJihlLmRhdGE9dD9yK2UuZGF0YTplLmRhdGErcil9KGlbc118fChpW3NdPWMoclswXT9mdW5jdGlvbihyKXtmb3IodmFyIGUsdD1be31dO2U9YS5leGVjKHIucmVwbGFjZShuLFwiXCIpKTspZVs0XSYmdC5zaGlmdCgpLGVbM10/dC51bnNoaWZ0KHRbMF1bZVszXV09e30pOmVbNF18fCh0WzBdW2VbMV1dPWVbMl0pO3JldHVybiB0WzBdfShyKTpyLHMpKSxlLG8pLHMuc2xpY2UoMSl9LHU9ZnVuY3Rpb24ocixlLHQpe3JldHVybiByLnJlZHVjZShmdW5jdGlvbihyLGEsbil7dmFyIGM9ZVtuXTtpZihjJiZjLmNhbGwpe3ZhciBpPWModCksbz1pJiZpLnByb3BzJiZpLnByb3BzLmNsYXNzTmFtZXx8L15nby8udGVzdChpKSYmaTtjPW8/XCIuXCIrbzppJiZpLnByb3BzP1wiXCI6aX1yZXR1cm4gcithKyhjfHxcIlwiKX0sXCJcIil9O2Z1bmN0aW9uIHMocil7dmFyIHQ9dGhpc3x8e30sYT1yLmNhbGw/cih0LnApOnI7cmV0dXJuIG8oYS5tYXA/dShhLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHQucCk6YSxlKHQudGFyZ2V0KSx0LmcsdC5vKX12YXIgZixsLHAsZz1zLmJpbmQoe2c6MX0pLGQ9ZnVuY3Rpb24ocixlLHQpe2Y9cixsPWUscD10fTtmdW5jdGlvbiB2KHIpe3ZhciBlPXRoaXN8fHt9O3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cztmdW5jdGlvbiBhKGEsbil7dmFyIGM9ZS5wPU9iamVjdC5hc3NpZ24ocD97dGhlbWU6cCgpfTp7fSxhKSxpPWMuY2xhc3NOYW1lO3JldHVybiBlLm89L1xccypnb1swLTldKy9nLnRlc3QoaSksYy5jbGFzc05hbWU9cy5hcHBseShlLHQpKyhpP1wiIFwiK2k6XCJcIiksYy5yZWY9bixmKHIsYyl9cmV0dXJuIGw/bChhKTphfX1leHBvcnR7diBhcyBzdHlsZWQsZCBhcyBzZXR1cCx0IGFzIGV4dHJhY3RDc3MscyBhcyBjc3MsZyBhcyBnbG9ifTtcbiIsImZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZShzdHJpbmdzLCByYXcpIHtcbiAgaWYgKCFyYXcpIHtcbiAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApO1xuICB9XG5cbiAgc3RyaW5ncy5yYXcgPSByYXc7XG4gIHJldHVybiBzdHJpbmdzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF90YWdnZWRUZW1wbGF0ZUxpdGVyYWxMb29zZTsiLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgc2hhbGxvd0RpZmZlcnMgfSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIENvbXBvbmVudCBjbGFzcyB3aXRoIGEgcHJlZGVmaW5lZCBgc2hvdWxkQ29tcG9uZW50VXBkYXRlYCBpbXBsZW1lbnRhdGlvblxuICovXG5leHBvcnQgY2xhc3MgUHVyZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpO1xuXHRcdC8vIFNvbWUgdGhpcmQtcGFydHkgbGlicmFyaWVzIGNoZWNrIGlmIHRoaXMgcHJvcGVydHkgaXMgcHJlc2VudFxuXHRcdHRoaXMuaXNQdXJlUmVhY3RDb21wb25lbnQgPSB0cnVlO1xuXHR9XG5cblx0c2hvdWxkQ29tcG9uZW50VXBkYXRlKHByb3BzLCBzdGF0ZSkge1xuXHRcdHJldHVybiAoXG5cdFx0XHRzaGFsbG93RGlmZmVycyh0aGlzLnByb3BzLCBwcm9wcykgfHwgc2hhbGxvd0RpZmZlcnModGhpcy5zdGF0ZSwgc3RhdGUpXG5cdFx0KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgb3B0aW9ucyB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuXG5sZXQgb2xkVk5vZGVIb29rID0gb3B0aW9ucy52bm9kZTtcbm9wdGlvbnMudm5vZGUgPSB2bm9kZSA9PiB7XG5cdGlmICh2bm9kZS50eXBlICYmIHZub2RlLnR5cGUuX2ZvcndhcmRlZCAmJiB2bm9kZS5yZWYpIHtcblx0XHR2bm9kZS5wcm9wcy5yZWYgPSB2bm9kZS5yZWY7XG5cdFx0dm5vZGUucmVmID0gbnVsbDtcblx0fVxuXG5cdGlmIChvbGRWTm9kZUhvb2spIG9sZFZOb2RlSG9vayh2bm9kZSk7XG59O1xuXG4vKipcbiAqIFBhc3MgcmVmIGRvd24gdG8gYSBjaGlsZC4gVGhpcyBpcyBtYWlubHkgdXNlZCBpbiBsaWJyYXJpZXMgd2l0aCBIT0NzIHRoYXRcbiAqIHdyYXAgY29tcG9uZW50cy4gVXNpbmcgYGZvcndhcmRSZWZgIHRoZXJlIGlzIGFuIGVhc3kgd2F5IHRvIGdldCBhIHJlZmVyZW5jZVxuICogb2YgdGhlIHdyYXBwZWQgY29tcG9uZW50IGluc3RlYWQgb2Ygb25lIG9mIHRoZSB3cmFwcGVyIGl0c2VsZi5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2luZGV4JykuRm9yd2FyZEZufSBmblxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkZ1bmN0aW9uYWxDb21wb25lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3J3YXJkUmVmKGZuKSB7XG5cdGZ1bmN0aW9uIEZvcndhcmRlZChwcm9wcykge1xuXHRcdGxldCBjbG9uZSA9IGFzc2lnbih7fSwgcHJvcHMpO1xuXHRcdGRlbGV0ZSBjbG9uZS5yZWY7XG5cdFx0cmV0dXJuIGZuKGNsb25lLCBwcm9wcy5yZWYpO1xuXHR9XG5cdEZvcndhcmRlZC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHRydWU7XG5cdEZvcndhcmRlZC5fZm9yd2FyZGVkID0gdHJ1ZTtcblx0Rm9yd2FyZGVkLmRpc3BsYXlOYW1lID0gJ0ZvcndhcmRSZWYoJyArIChmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lKSArICcpJztcblx0cmV0dXJuIEZvcndhcmRlZDtcbn1cbiIsImltcG9ydCB7IHRvQ2hpbGRBcnJheSB9IGZyb20gJ3ByZWFjdCc7XG5cbmNvbnN0IG1hcEZuID0gKGNoaWxkcmVuLCBmbikgPT4ge1xuXHRpZiAoIWNoaWxkcmVuKSByZXR1cm4gbnVsbDtcblx0cmV0dXJuIHRvQ2hpbGRBcnJheShjaGlsZHJlbikubWFwKGZuKTtcbn07XG5cbi8vIFRoaXMgQVBJIGlzIGNvbXBsZXRlbHkgdW5uZWNlc3NhcnkgZm9yIFByZWFjdCwgc28gaXQncyBiYXNpY2FsbHkgcGFzc3Rocm91Z2guXG5leHBvcnQgY29uc3QgQ2hpbGRyZW4gPSB7XG5cdG1hcDogbWFwRm4sXG5cdGZvckVhY2g6IG1hcEZuLFxuXHRjb3VudChjaGlsZHJlbikge1xuXHRcdHJldHVybiBjaGlsZHJlbiA/IHRvQ2hpbGRBcnJheShjaGlsZHJlbikubGVuZ3RoIDogMDtcblx0fSxcblx0b25seShjaGlsZHJlbikge1xuXHRcdGNoaWxkcmVuID0gdG9DaGlsZEFycmF5KGNoaWxkcmVuKTtcblx0XHRpZiAoY2hpbGRyZW4ubGVuZ3RoICE9PSAxKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0NoaWxkcmVuLm9ubHkoKSBleHBlY3RzIG9ubHkgb25lIGNoaWxkLicpO1xuXHRcdH1cblx0XHRyZXR1cm4gY2hpbGRyZW5bMF07XG5cdH0sXG5cdHRvQXJyYXk6IHRvQ2hpbGRBcnJheVxufTtcbiIsImltcG9ydCB7IENvbXBvbmVudCwgY3JlYXRlRWxlbWVudCwgb3B0aW9ucyB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuXG5jb25zdCBvbGRDYXRjaEVycm9yID0gb3B0aW9ucy5fY2F0Y2hFcnJvcjtcbm9wdGlvbnMuX2NhdGNoRXJyb3IgPSBmdW5jdGlvbihlcnJvciwgbmV3Vk5vZGUsIG9sZFZOb2RlKSB7XG5cdGlmIChlcnJvci50aGVuKSB7XG5cdFx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9ICovXG5cdFx0bGV0IGNvbXBvbmVudDtcblx0XHRsZXQgdm5vZGUgPSBuZXdWTm9kZTtcblxuXHRcdGZvciAoOyAodm5vZGUgPSB2bm9kZS5fcGFyZW50KTsgKSB7XG5cdFx0XHRpZiAoKGNvbXBvbmVudCA9IHZub2RlLl9jb21wb25lbnQpICYmIGNvbXBvbmVudC5fY2hpbGREaWRTdXNwZW5kKSB7XG5cdFx0XHRcdC8vIERvbid0IGNhbGwgb2xkQ2F0Y2hFcnJvciBpZiB3ZSBmb3VuZCBhIFN1c3BlbnNlXG5cdFx0XHRcdHJldHVybiBjb21wb25lbnQuX2NoaWxkRGlkU3VzcGVuZChlcnJvciwgbmV3Vk5vZGUuX2NvbXBvbmVudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdG9sZENhdGNoRXJyb3IoZXJyb3IsIG5ld1ZOb2RlLCBvbGRWTm9kZSk7XG59O1xuXG5mdW5jdGlvbiBkZXRhY2hlZENsb25lKHZub2RlKSB7XG5cdGlmICh2bm9kZSkge1xuXHRcdHZub2RlID0gYXNzaWduKHt9LCB2bm9kZSk7XG5cdFx0dm5vZGUuX2NvbXBvbmVudCA9IG51bGw7XG5cdFx0dm5vZGUuX2NoaWxkcmVuID0gdm5vZGUuX2NoaWxkcmVuICYmIHZub2RlLl9jaGlsZHJlbi5tYXAoZGV0YWNoZWRDbG9uZSk7XG5cdH1cblx0cmV0dXJuIHZub2RlO1xufVxuXG4vLyBoYXZpbmcgY3VzdG9tIGluaGVyaXRhbmNlIGluc3RlYWQgb2YgYSBjbGFzcyBoZXJlIHNhdmVzIGEgbG90IG9mIGJ5dGVzXG5leHBvcnQgZnVuY3Rpb24gU3VzcGVuc2UocHJvcHMpIHtcblx0Ly8gd2UgZG8gbm90IGNhbGwgc3VwZXIgaGVyZSB0byBnb2xmIHNvbWUgYnl0ZXMuLi5cblx0dGhpcy5fc3VzcGVuc2lvbnMgPSAwO1xuXHR0aGlzLl9kZXRhY2hPbk5leHRSZW5kZXIgPSBudWxsO1xufVxuXG4vLyBUaGluZ3Mgd2UgZG8gaGVyZSB0byBzYXZlIHNvbWUgYnl0ZXMgYnV0IGFyZSBub3QgcHJvcGVyIEpTIGluaGVyaXRhbmNlOlxuLy8gLSBjYWxsIGBuZXcgQ29tcG9uZW50KClgIGFzIHRoZSBwcm90b3R5cGVcbi8vIC0gZG8gbm90IHNldCBgU3VzcGVuc2UucHJvdG90eXBlLmNvbnN0cnVjdG9yYCB0byBgU3VzcGVuc2VgXG5TdXNwZW5zZS5wcm90b3R5cGUgPSBuZXcgQ29tcG9uZW50KCk7XG5cbi8qKlxuICogQHBhcmFtIHtQcm9taXNlfSBwcm9taXNlIFRoZSB0aHJvd24gcHJvbWlzZVxuICogQHBhcmFtIHtDb21wb25lbnQ8YW55LCBhbnk+fSBzdXNwZW5kaW5nQ29tcG9uZW50IFRoZSBzdXNwZW5kaW5nIGNvbXBvbmVudFxuICovXG5TdXNwZW5zZS5wcm90b3R5cGUuX2NoaWxkRGlkU3VzcGVuZCA9IGZ1bmN0aW9uKHByb21pc2UsIHN1c3BlbmRpbmdDb21wb25lbnQpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5TdXNwZW5zZUNvbXBvbmVudH0gKi9cblx0Y29uc3QgYyA9IHRoaXM7XG5cblx0Y29uc3QgcmVzb2x2ZSA9IHN1c3BlbmRlZChjLl92bm9kZSk7XG5cblx0bGV0IHJlc29sdmVkID0gZmFsc2U7XG5cdGNvbnN0IG9uUmVzb2x2ZWQgPSAoKSA9PiB7XG5cdFx0aWYgKHJlc29sdmVkKSByZXR1cm47XG5cblx0XHRyZXNvbHZlZCA9IHRydWU7XG5cblx0XHRpZiAocmVzb2x2ZSkge1xuXHRcdFx0cmVzb2x2ZShvblN1c3BlbnNpb25Db21wbGV0ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9uU3VzcGVuc2lvbkNvbXBsZXRlKCk7XG5cdFx0fVxuXHR9O1xuXG5cdHN1c3BlbmRpbmdDb21wb25lbnQuX3N1c3BlbmRlZENvbXBvbmVudFdpbGxVbm1vdW50ID1cblx0XHRzdXNwZW5kaW5nQ29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50O1xuXHRzdXNwZW5kaW5nQ29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50ID0gKCkgPT4ge1xuXHRcdG9uUmVzb2x2ZWQoKTtcblxuXHRcdGlmIChzdXNwZW5kaW5nQ29tcG9uZW50Ll9zdXNwZW5kZWRDb21wb25lbnRXaWxsVW5tb3VudCkge1xuXHRcdFx0c3VzcGVuZGluZ0NvbXBvbmVudC5fc3VzcGVuZGVkQ29tcG9uZW50V2lsbFVubW91bnQoKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3Qgb25TdXNwZW5zaW9uQ29tcGxldGUgPSAoKSA9PiB7XG5cdFx0aWYgKCEtLWMuX3N1c3BlbnNpb25zKSB7XG5cdFx0XHRjLl92bm9kZS5fY2hpbGRyZW5bMF0gPSBjLnN0YXRlLl9zdXNwZW5kZWQ7XG5cdFx0XHRjLnNldFN0YXRlKHsgX3N1c3BlbmRlZDogKGMuX2RldGFjaE9uTmV4dFJlbmRlciA9IG51bGwpIH0pO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoIWMuX3N1c3BlbnNpb25zKyspIHtcblx0XHRjLnNldFN0YXRlKHsgX3N1c3BlbmRlZDogKGMuX2RldGFjaE9uTmV4dFJlbmRlciA9IGMuX3Zub2RlLl9jaGlsZHJlblswXSkgfSk7XG5cdH1cblx0cHJvbWlzZS50aGVuKG9uUmVzb2x2ZWQsIG9uUmVzb2x2ZWQpO1xufTtcblxuU3VzcGVuc2UucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKHByb3BzLCBzdGF0ZSkge1xuXHRpZiAodGhpcy5fZGV0YWNoT25OZXh0UmVuZGVyKSB7XG5cdFx0dGhpcy5fdm5vZGUuX2NoaWxkcmVuWzBdID0gZGV0YWNoZWRDbG9uZSh0aGlzLl9kZXRhY2hPbk5leHRSZW5kZXIpO1xuXHRcdHRoaXMuX2RldGFjaE9uTmV4dFJlbmRlciA9IG51bGw7XG5cdH1cblxuXHRyZXR1cm4gW1xuXHRcdGNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCBudWxsLCBzdGF0ZS5fc3VzcGVuZGVkID8gbnVsbCA6IHByb3BzLmNoaWxkcmVuKSxcblx0XHRzdGF0ZS5fc3VzcGVuZGVkICYmIHByb3BzLmZhbGxiYWNrXG5cdF07XG59O1xuXG4vKipcbiAqIENoZWNrcyBhbmQgY2FsbHMgdGhlIHBhcmVudCBjb21wb25lbnQncyBfc3VzcGVuZGVkIG1ldGhvZCwgcGFzc2luZyBpbiB0aGVcbiAqIHN1c3BlbmRlZCB2bm9kZS4gVGhpcyBpcyBhIHdheSBmb3IgYSBwYXJlbnQgKGUuZy4gU3VzcGVuc2VMaXN0KSB0byBnZXQgbm90aWZpZWRcbiAqIHRoYXQgb25lIG9mIGl0cyBjaGlsZHJlbi9kZXNjZW5kYW50cyBzdXNwZW5kZWQuXG4gKlxuICogVGhlIHBhcmVudCBNQVkgcmV0dXJuIGEgY2FsbGJhY2suIFRoZSBjYWxsYmFjayB3aWxsIGdldCBjYWxsZWQgd2hlbiB0aGVcbiAqIHN1c3BlbnNpb24gcmVzb2x2ZXMsIG5vdGlmeWluZyB0aGUgcGFyZW50IG9mIHRoZSBmYWN0LlxuICogTW9yZW92ZXIsIHRoZSBjYWxsYmFjayBnZXRzIGZ1bmN0aW9uIGB1bnN1c3BlbmRgIGFzIGEgcGFyYW1ldGVyLiBUaGUgcmVzb2x2ZWRcbiAqIGNoaWxkIGRlc2NlbmRhbnQgd2lsbCBub3QgYWN0dWFsbHkgZ2V0IHVuc3VzcGVuZGVkIHVudGlsIGB1bnN1c3BlbmRgIGdldHMgY2FsbGVkLlxuICogVGhpcyBpcyBhIHdheSBmb3IgdGhlIHBhcmVudCB0byBkZWxheSB1bnN1c3BlbmRpbmcuXG4gKlxuICogSWYgdGhlIHBhcmVudCBkb2VzIG5vdCByZXR1cm4gYSBjYWxsYmFjayB0aGVuIHRoZSByZXNvbHZlZCB2bm9kZVxuICogZ2V0cyB1bnN1c3BlbmRlZCBpbW1lZGlhdGVseSB3aGVuIGl0IHJlc29sdmVzLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9zcmMvaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqIEByZXR1cm5zIHsoKHVuc3VzcGVuZDogKCkgPT4gdm9pZCkgPT4gdm9pZCk/fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VzcGVuZGVkKHZub2RlKSB7XG5cdGxldCBjb21wb25lbnQgPSB2bm9kZS5fcGFyZW50Ll9jb21wb25lbnQ7XG5cdHJldHVybiBjb21wb25lbnQgJiYgY29tcG9uZW50Ll9zdXNwZW5kZWQgJiYgY29tcG9uZW50Ll9zdXNwZW5kZWQodm5vZGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGF6eShsb2FkZXIpIHtcblx0bGV0IHByb207XG5cdGxldCBjb21wb25lbnQ7XG5cdGxldCBlcnJvcjtcblxuXHRmdW5jdGlvbiBMYXp5KHByb3BzKSB7XG5cdFx0aWYgKCFwcm9tKSB7XG5cdFx0XHRwcm9tID0gbG9hZGVyKCk7XG5cdFx0XHRwcm9tLnRoZW4oXG5cdFx0XHRcdGV4cG9ydHMgPT4ge1xuXHRcdFx0XHRcdGNvbXBvbmVudCA9IGV4cG9ydHMuZGVmYXVsdCB8fCBleHBvcnRzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRlID0+IHtcblx0XHRcdFx0XHRlcnJvciA9IGU7XG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRpZiAoIWNvbXBvbmVudCkge1xuXHRcdFx0dGhyb3cgcHJvbTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY3JlYXRlRWxlbWVudChjb21wb25lbnQsIHByb3BzKTtcblx0fVxuXG5cdExhenkuZGlzcGxheU5hbWUgPSAnTGF6eSc7XG5cdExhenkuX2ZvcndhcmRlZCA9IHRydWU7XG5cdHJldHVybiBMYXp5O1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCB0b0NoaWxkQXJyYXkgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgc3VzcGVuZGVkIH0gZnJvbSAnLi9zdXNwZW5zZS5qcyc7XG5cbi8vIEluZGV4ZXMgdG8gbGlua2VkIGxpc3Qgbm9kZXMgKG5vZGVzIGFyZSBzdG9yZWQgYXMgYXJyYXlzIHRvIHNhdmUgYnl0ZXMpLlxuY29uc3QgU1VTUEVOREVEX0NPVU5UID0gMDtcbmNvbnN0IFJFU09MVkVEX0NPVU5UID0gMTtcbmNvbnN0IE5FWFRfTk9ERSA9IDI7XG5cbi8vIEhhdmluZyBjdXN0b20gaW5oZXJpdGFuY2UgaW5zdGVhZCBvZiBhIGNsYXNzIGhlcmUgc2F2ZXMgYSBsb3Qgb2YgYnl0ZXMuXG5leHBvcnQgZnVuY3Rpb24gU3VzcGVuc2VMaXN0KCkge1xuXHR0aGlzLl9uZXh0ID0gbnVsbDtcblx0dGhpcy5fbWFwID0gbnVsbDtcbn1cblxuLy8gTWFyayBvbmUgb2YgY2hpbGQncyBlYXJsaWVyIHN1c3BlbnNpb25zIGFzIHJlc29sdmVkLlxuLy8gU29tZSBwZW5kaW5nIGNhbGxiYWNrcyBtYXkgYmVjb21lIGNhbGxhYmxlIGR1ZSB0byB0aGlzXG4vLyAoZS5nLiB0aGUgbGFzdCBzdXNwZW5kZWQgZGVzY2VuZGFudCBnZXRzIHJlc29sdmVkIHdoZW5cbi8vIHJldmVhbE9yZGVyID09PSAndG9nZXRoZXInKS4gUHJvY2VzcyB0aG9zZSBjYWxsYmFja3MgYXMgd2VsbC5cbmNvbnN0IHJlc29sdmUgPSAobGlzdCwgY2hpbGQsIG5vZGUpID0+IHtcblx0aWYgKCsrbm9kZVtSRVNPTFZFRF9DT1VOVF0gPT09IG5vZGVbU1VTUEVOREVEX0NPVU5UXSkge1xuXHRcdC8vIFRoZSBudW1iZXIgYSBjaGlsZCAob3IgYW55IG9mIGl0cyBkZXNjZW5kYW50cykgaGFzIGJlZW4gc3VzcGVuZGVkXG5cdFx0Ly8gbWF0Y2hlcyB0aGUgbnVtYmVyIG9mIHRpbWVzIGl0J3MgYmVlbiByZXNvbHZlZC4gVGhlcmVmb3JlIHdlXG5cdFx0Ly8gbWFyayB0aGUgY2hpbGQgYXMgY29tcGxldGVseSByZXNvbHZlZCBieSBkZWxldGluZyBpdCBmcm9tIC5fbWFwLlxuXHRcdC8vIFRoaXMgaXMgdXNlZCB0byBmaWd1cmUgb3V0IHdoZW4gKmFsbCogY2hpbGRyZW4gaGF2ZSBiZWVuIGNvbXBsZXRlbHlcblx0XHQvLyByZXNvbHZlZCB3aGVuIHJldmVhbE9yZGVyIGlzICd0b2dldGhlcicuXG5cdFx0bGlzdC5fbWFwLmRlbGV0ZShjaGlsZCk7XG5cdH1cblxuXHQvLyBJZiByZXZlYWxPcmRlciBpcyBmYWxzeSB0aGVuIHdlIGNhbiBkbyBhbiBlYXJseSBleGl0LCBhcyB0aGVcblx0Ly8gY2FsbGJhY2tzIHdvbid0IGdldCBxdWV1ZWQgaW4gdGhlIG5vZGUgYW55d2F5LlxuXHQvLyBJZiByZXZlYWxPcmRlciBpcyAndG9nZXRoZXInIHRoZW4gYWxzbyBkbyBhbiBlYXJseSBleGl0XG5cdC8vIGlmIGFsbCBzdXNwZW5kZWQgZGVzY2VuZGFudHMgaGF2ZSBub3QgeWV0IGJlZW4gcmVzb2x2ZWQuXG5cdGlmIChcblx0XHQhbGlzdC5wcm9wcy5yZXZlYWxPcmRlciB8fFxuXHRcdChsaXN0LnByb3BzLnJldmVhbE9yZGVyWzBdID09PSAndCcgJiYgbGlzdC5fbWFwLnNpemUpXG5cdCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFdhbGsgdGhlIGN1cnJlbnRseSBzdXNwZW5kZWQgY2hpbGRyZW4gaW4gb3JkZXIsIGNhbGxpbmcgdGhlaXJcblx0Ly8gc3RvcmVkIGNhbGxiYWNrcyBvbiB0aGUgd2F5LiBTdG9wIGlmIHdlIGVuY291bnRlciBhIGNoaWxkIHRoYXRcblx0Ly8gaGFzIG5vdCBiZWVuIGNvbXBsZXRlbHkgcmVzb2x2ZWQgeWV0LlxuXHRub2RlID0gbGlzdC5fbmV4dDtcblx0d2hpbGUgKG5vZGUpIHtcblx0XHR3aGlsZSAobm9kZS5sZW5ndGggPiAzKSB7XG5cdFx0XHRub2RlLnBvcCgpKCk7XG5cdFx0fVxuXHRcdGlmIChub2RlW1JFU09MVkVEX0NPVU5UXSA8IG5vZGVbU1VTUEVOREVEX0NPVU5UXSkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdGxpc3QuX25leHQgPSBub2RlID0gbm9kZVtORVhUX05PREVdO1xuXHR9XG59O1xuXG4vLyBUaGluZ3Mgd2UgZG8gaGVyZSB0byBzYXZlIHNvbWUgYnl0ZXMgYnV0IGFyZSBub3QgcHJvcGVyIEpTIGluaGVyaXRhbmNlOlxuLy8gLSBjYWxsIGBuZXcgQ29tcG9uZW50KClgIGFzIHRoZSBwcm90b3R5cGVcbi8vIC0gZG8gbm90IHNldCBgU3VzcGVuc2UucHJvdG90eXBlLmNvbnN0cnVjdG9yYCB0byBgU3VzcGVuc2VgXG5TdXNwZW5zZUxpc3QucHJvdG90eXBlID0gbmV3IENvbXBvbmVudCgpO1xuXG5TdXNwZW5zZUxpc3QucHJvdG90eXBlLl9zdXNwZW5kZWQgPSBmdW5jdGlvbihjaGlsZCkge1xuXHRjb25zdCBsaXN0ID0gdGhpcztcblx0Y29uc3QgZGVsZWdhdGVkID0gc3VzcGVuZGVkKGxpc3QuX3Zub2RlKTtcblxuXHRsZXQgbm9kZSA9IGxpc3QuX21hcC5nZXQoY2hpbGQpO1xuXHRub2RlW1NVU1BFTkRFRF9DT1VOVF0rKztcblxuXHRyZXR1cm4gdW5zdXNwZW5kID0+IHtcblx0XHRjb25zdCB3cmFwcGVkVW5zdXNwZW5kID0gKCkgPT4ge1xuXHRcdFx0aWYgKCFsaXN0LnByb3BzLnJldmVhbE9yZGVyKSB7XG5cdFx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0aGUgdW5kZWZpbmVkIChmYWxzeSkgcmV2ZWFsT3JkZXIsIGFzIHRoZXJlXG5cdFx0XHRcdC8vIGlzIG5vIG5lZWQgdG8gY29vcmRpbmF0ZSBhIHNwZWNpZmljIG9yZGVyIG9yIHVuc3VzcGVuZHMuXG5cdFx0XHRcdHVuc3VzcGVuZCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bm9kZS5wdXNoKHVuc3VzcGVuZCk7XG5cdFx0XHRcdHJlc29sdmUobGlzdCwgY2hpbGQsIG5vZGUpO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0aWYgKGRlbGVnYXRlZCkge1xuXHRcdFx0ZGVsZWdhdGVkKHdyYXBwZWRVbnN1c3BlbmQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3cmFwcGVkVW5zdXNwZW5kKCk7XG5cdFx0fVxuXHR9O1xufTtcblxuU3VzcGVuc2VMaXN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihwcm9wcykge1xuXHR0aGlzLl9uZXh0ID0gbnVsbDtcblx0dGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuXG5cdGNvbnN0IGNoaWxkcmVuID0gdG9DaGlsZEFycmF5KHByb3BzLmNoaWxkcmVuKTtcblx0aWYgKHByb3BzLnJldmVhbE9yZGVyICYmIHByb3BzLnJldmVhbE9yZGVyWzBdID09PSAnYicpIHtcblx0XHQvLyBJZiBvcmRlciA9PT0gJ2JhY2t3YXJkcycgKG9yLCB3ZWxsLCBhbnl0aGluZyBzdGFydGluZyB3aXRoIGEgJ2InKVxuXHRcdC8vIHRoZW4gZmxpcCB0aGUgY2hpbGQgbGlzdCBhcm91bmQgc28gdGhhdCB0aGUgbGFzdCBjaGlsZCB3aWxsIGJlXG5cdFx0Ly8gdGhlIGZpcnN0IGluIHRoZSBsaW5rZWQgbGlzdC5cblx0XHRjaGlsZHJlbi5yZXZlcnNlKCk7XG5cdH1cblx0Ly8gQnVpbGQgdGhlIGxpbmtlZCBsaXN0LiBJdGVyYXRlIHRocm91Z2ggdGhlIGNoaWxkcmVuIGluIHJldmVyc2Ugb3JkZXJcblx0Ly8gc28gdGhhdCBgX25leHRgIHBvaW50cyB0byB0aGUgZmlyc3QgbGlua2VkIGxpc3Qgbm9kZSB0byBiZSByZXNvbHZlZC5cblx0Zm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aDsgaS0tOyApIHtcblx0XHQvLyBDcmVhdGUgYSBuZXcgbGlua2VkIGxpc3Qgbm9kZSBhcyBhbiBhcnJheSBvZiBmb3JtOlxuXHRcdC8vIFx0W3N1c3BlbmRlZF9jb3VudCwgcmVzb2x2ZWRfY291bnQsIG5leHRfbm9kZV1cblx0XHQvLyB3aGVyZSBzdXNwZW5kZWRfY291bnQgYW5kIHJlc29sdmVkX2NvdW50IGFyZSBudW1lcmljIGNvdW50ZXJzIGZvclxuXHRcdC8vIGtlZXBpbmcgdHJhY2sgaG93IG1hbnkgdGltZXMgYSBub2RlIGhhcyBiZWVuIHN1c3BlbmRlZCBhbmQgcmVzb2x2ZWQuXG5cdFx0Ly9cblx0XHQvLyBOb3RlIHRoYXQgc3VzcGVuZGVkX2NvdW50IHN0YXJ0cyBmcm9tIDEgaW5zdGVhZCBvZiAwLCBzbyB3ZSBjYW4gYmxvY2tcblx0XHQvLyBwcm9jZXNzaW5nIGNhbGxiYWNrcyB1bnRpbCBjb21wb25lbnREaWRNb3VudCBoYXMgYmVlbiBjYWxsZWQuIEluIGEgc2Vuc2Vcblx0XHQvLyBub2RlIGlzIHN1c3BlbmRlZCBhdCBsZWFzdCB1bnRpbCBjb21wb25lbnREaWRNb3VudCBnZXRzIGNhbGxlZCFcblx0XHQvL1xuXHRcdC8vIFBlbmRpbmcgY2FsbGJhY2tzIGFyZSBhZGRlZCB0byB0aGUgZW5kIG9mIHRoZSBub2RlOlxuXHRcdC8vIFx0W3N1c3BlbmRlZF9jb3VudCwgcmVzb2x2ZWRfY291bnQsIG5leHRfbm9kZSwgY2FsbGJhY2tfMCwgY2FsbGJhY2tfMSwgLi4uXVxuXHRcdHRoaXMuX21hcC5zZXQoY2hpbGRyZW5baV0sICh0aGlzLl9uZXh0ID0gWzEsIDAsIHRoaXMuX25leHRdKSk7XG5cdH1cblx0cmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufTtcblxuU3VzcGVuc2VMaXN0LnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBTdXNwZW5zZUxpc3QucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24oKSB7XG5cdC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgY2hpbGRyZW4gYWZ0ZXIgbW91bnRpbmcgZm9yIHR3byByZWFzb25zOlxuXHQvLyAxLiBBcyBlYWNoIG5vZGVbU1VTUEVOREVEX0NPVU5UXSBzdGFydHMgZnJvbSAxLCB0aGlzIGl0ZXJhdGlvbiBpbmNyZWFzZXNcblx0Ly8gICAgZWFjaCBub2RlW1JFTEVBU0VEX0NPVU5UXSBieSAxLCB0aGVyZWZvcmUgYmFsYW5jaW5nIHRoZSBjb3VudGVycy5cblx0Ly8gICAgVGhlIG5vZGVzIGNhbiBub3cgYmUgY29tcGxldGVseSBjb25zdW1lZCBmcm9tIHRoZSBsaW5rZWQgbGlzdC5cblx0Ly8gMi4gSGFuZGxlIG5vZGVzIHRoYXQgbWlnaHQgaGF2ZSBnb3R0ZW4gcmVzb2x2ZWQgYmV0d2VlbiByZW5kZXIgYW5kXG5cdC8vICAgIGNvbXBvbmVudERpZE1vdW50LlxuXHRjb25zdCBsaXN0ID0gdGhpcztcblx0bGlzdC5fbWFwLmZvckVhY2goKG5vZGUsIGNoaWxkKSA9PiB7XG5cdFx0cmVzb2x2ZShsaXN0LCBjaGlsZCwgbm9kZSk7XG5cdH0pO1xufTtcbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIGh5ZHJhdGUsIHJlbmRlciwgX3VubW91bnQgfSBmcm9tICdwcmVhY3QnO1xuXG5jbGFzcyBDb250ZXh0UHJvdmlkZXIge1xuXHRnZXRDaGlsZENvbnRleHQoKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJvcHMuY29udGV4dDtcblx0fVxuXHRyZW5kZXIocHJvcHMpIHtcblx0XHRyZXR1cm4gcHJvcHMuY2hpbGRyZW47XG5cdH1cbn1cblxuLyoqXG4gKiBQb3J0YWwgY29tcG9uZW50XG4gKiBAcGFyYW0ge29iamVjdCB8IG51bGwgfCB1bmRlZmluZWR9IHByb3BzXG4gKi9cbmZ1bmN0aW9uIFBvcnRhbChwcm9wcykge1xuXHRsZXQgX3RoaXMgPSB0aGlzO1xuXHRsZXQgY29udGFpbmVyID0gcHJvcHMuY29udGFpbmVyO1xuXHRsZXQgd3JhcCA9IGNyZWF0ZUVsZW1lbnQoXG5cdFx0Q29udGV4dFByb3ZpZGVyLFxuXHRcdHsgY29udGV4dDogX3RoaXMuY29udGV4dCB9LFxuXHRcdHByb3BzLnZub2RlXG5cdCk7XG5cblx0Ly8gV2hlbiB3ZSBjaGFuZ2UgY29udGFpbmVyIHdlIHNob3VsZCBjbGVhciBvdXIgb2xkIGNvbnRhaW5lciBhbmRcblx0Ly8gaW5kaWNhdGUgYSBuZXcgbW91bnQuXG5cdGlmIChfdGhpcy5fY29udGFpbmVyICYmIF90aGlzLl9jb250YWluZXIgIT09IGNvbnRhaW5lcikge1xuXHRcdGlmIChfdGhpcy5fdGVtcC5wYXJlbnROb2RlKSBfdGhpcy5fY29udGFpbmVyLnJlbW92ZUNoaWxkKF90aGlzLl90ZW1wKTtcblx0XHRfdW5tb3VudChfdGhpcy5fd3JhcCk7XG5cdFx0X3RoaXMuX2hhc01vdW50ZWQgPSBmYWxzZTtcblx0fVxuXG5cdC8vIFdoZW4gcHJvcHMudm5vZGUgaXMgdW5kZWZpbmVkL2ZhbHNlL251bGwgd2UgYXJlIGRlYWxpbmcgd2l0aCBzb21lIGtpbmQgb2Zcblx0Ly8gY29uZGl0aW9uYWwgdm5vZGUuIFRoaXMgc2hvdWxkIG5vdCB0cmlnZ2VyIGEgcmVuZGVyLlxuXHRpZiAocHJvcHMudm5vZGUpIHtcblx0XHRpZiAoIV90aGlzLl9oYXNNb3VudGVkKSB7XG5cdFx0XHQvLyBDcmVhdGUgYSBwbGFjZWhvbGRlciB0aGF0IHdlIGNhbiB1c2UgdG8gaW5zZXJ0IGludG8uXG5cdFx0XHRfdGhpcy5fdGVtcCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcblx0XHRcdC8vIEh5ZHJhdGUgZXhpc3Rpbmcgbm9kZXMgdG8ga2VlcCB0aGUgZG9tIGludGFjdCwgd2hlbiByZW5kZXJpbmdcblx0XHRcdC8vIHdyYXAgaW50byB0aGUgY29udGFpbmVyLlxuXHRcdFx0aHlkcmF0ZSgnJywgY29udGFpbmVyKTtcblx0XHRcdC8vIEFwcGVuZCB0byB0aGUgY29udGFpbmVyICh0aGlzIG1hdGNoZXMgUmVhY3QncyBiZWhhdmlvcilcblx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChfdGhpcy5fdGVtcCk7XG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50IHdlIGhhdmUgbW91bnRlZCBhbmQgc2hvdWxkIHNldCBvdXIgY29udGFpbmVyLlxuXHRcdFx0X3RoaXMuX2hhc01vdW50ZWQgPSB0cnVlO1xuXHRcdFx0X3RoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcblx0XHRcdC8vIFJlbmRlciBvdXIgd3JhcHBpbmcgZWxlbWVudCBpbnRvIHRlbXAuXG5cdFx0XHRyZW5kZXIod3JhcCwgY29udGFpbmVyLCBfdGhpcy5fdGVtcCk7XG5cdFx0XHRfdGhpcy5fY2hpbGRyZW4gPSB0aGlzLl90ZW1wLl9jaGlsZHJlbjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gV2hlbiB3ZSBoYXZlIG1vdW50ZWQgYW5kIHRoZSB2bm9kZSBpcyBwcmVzZW50IGl0IG1lYW5zIHRoZVxuXHRcdFx0Ly8gcHJvcHMgaGF2ZSBjaGFuZ2VkIG9yIGEgcGFyZW50IGlzIHRyaWdnZXJpbmcgYSByZXJlbmRlci5cblx0XHRcdC8vIFRoaXMgaW1wbGllcyB3ZSBvbmx5IG5lZWQgdG8gY2FsbCByZW5kZXIuIEJ1dCB3ZSBuZWVkIHRvIGtlZXBcblx0XHRcdC8vIHRoZSBvbGQgdHJlZSBhcm91bmQsIG90aGVyd2lzZSB3aWxsIHRyZWF0IHRoZSB2bm9kZXMgYXMgbmV3IGFuZFxuXHRcdFx0Ly8gd2lsbCB3cm9uZ2x5IGNhbGwgYGNvbXBvbmVudERpZE1vdW50YCBvbiB0aGVtXG5cdFx0XHRjb250YWluZXIuX2NoaWxkcmVuID0gX3RoaXMuX2NoaWxkcmVuO1xuXHRcdFx0cmVuZGVyKHdyYXAsIGNvbnRhaW5lcik7XG5cdFx0XHRfdGhpcy5fY2hpbGRyZW4gPSBjb250YWluZXIuX2NoaWxkcmVuO1xuXHRcdH1cblx0fVxuXHQvLyBXaGVuIHdlIGNvbWUgZnJvbSBhIGNvbmRpdGlvbmFsIHJlbmRlciwgb24gYSBtb3VudGVkXG5cdC8vIHBvcnRhbCB3ZSBzaG91bGQgY2xlYXIgdGhlIERPTS5cblx0ZWxzZSBpZiAoX3RoaXMuX2hhc01vdW50ZWQpIHtcblx0XHRpZiAoX3RoaXMuX3RlbXAucGFyZW50Tm9kZSkgX3RoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZChfdGhpcy5fdGVtcCk7XG5cdFx0X3VubW91bnQoX3RoaXMuX3dyYXApO1xuXHR9XG5cdC8vIFNldCB0aGUgd3JhcHBpbmcgZWxlbWVudCBmb3IgZnV0dXJlIHVubW91bnRpbmcuXG5cdF90aGlzLl93cmFwID0gd3JhcDtcblxuXHRfdGhpcy5jb21wb25lbnRXaWxsVW5tb3VudCA9ICgpID0+IHtcblx0XHRpZiAoX3RoaXMuX3RlbXAucGFyZW50Tm9kZSkgX3RoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZChfdGhpcy5fdGVtcCk7XG5cdFx0X3VubW91bnQoX3RoaXMuX3dyYXApO1xuXHR9O1xuXG5cdHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGBQb3J0YWxgIHRvIGNvbnRpbnVlIHJlbmRlcmluZyB0aGUgdm5vZGUgdHJlZSBhdCBhIGRpZmZlcmVudCBET00gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGUgVGhlIHZub2RlIHRvIHJlbmRlclxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBjb250YWluZXIgVGhlIERPTSBub2RlIHRvIGNvbnRpbnVlIHJlbmRlcmluZyBpbiB0by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBvcnRhbCh2bm9kZSwgY29udGFpbmVyKSB7XG5cdHJldHVybiBjcmVhdGVFbGVtZW50KFBvcnRhbCwgeyB2bm9kZSwgY29udGFpbmVyIH0pO1xufVxuIiwiLyoqXG4gKiBOb3JtYWxpemUgZXZlbnQgaGFuZGxlcnMgbGlrZSByZWFjdCBkb2VzLiBNb3N0IGZhbW91c2x5IGl0IHVzZXMgYG9uQ2hhbmdlYCBmb3IgYW55IGlucHV0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdm5vZGUgdG8gbm9ybWFsaXplIGV2ZW50cyBvblxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlFdmVudE5vcm1hbGl6YXRpb24oeyB0eXBlLCBwcm9wcyB9KSB7XG5cdGlmICghcHJvcHMgfHwgdHlwZW9mIHR5cGUgIT0gJ3N0cmluZycpIHJldHVybjtcblx0bGV0IG5ld1Byb3BzID0ge307XG5cblx0Zm9yIChsZXQgaSBpbiBwcm9wcykge1xuXHRcdGlmICgvXm9uKEFuaXxUcmF8VG91KS8udGVzdChpKSkge1xuXHRcdFx0cHJvcHNbaS50b0xvd2VyQ2FzZSgpXSA9IHByb3BzW2ldO1xuXHRcdFx0ZGVsZXRlIHByb3BzW2ldO1xuXHRcdH1cblx0XHRuZXdQcm9wc1tpLnRvTG93ZXJDYXNlKCldID0gaTtcblx0fVxuXHRpZiAobmV3UHJvcHMub25kb3VibGVjbGljaykge1xuXHRcdHByb3BzLm9uZGJsY2xpY2sgPSBwcm9wc1tuZXdQcm9wcy5vbmRvdWJsZWNsaWNrXTtcblx0XHRkZWxldGUgcHJvcHNbbmV3UHJvcHMub25kb3VibGVjbGlja107XG5cdH1cblx0aWYgKG5ld1Byb3BzLm9uYmVmb3JlaW5wdXQpIHtcblx0XHRwcm9wcy5vbmJlZm9yZWlucHV0ID0gcHJvcHNbbmV3UHJvcHMub25iZWZvcmVpbnB1dF07XG5cdFx0ZGVsZXRlIHByb3BzW25ld1Byb3BzLm9uYmVmb3JlaW5wdXRdO1xuXHR9XG5cdC8vIGZvciAqdGV4dHVhbCBpbnB1dHMqIChpbmNsIHRleHRhcmVhKSwgbm9ybWFsaXplIGBvbkNoYW5nZWAgLT4gYG9uSW5wdXRgOlxuXHRpZiAoXG5cdFx0bmV3UHJvcHMub25jaGFuZ2UgJiZcblx0XHQodHlwZSA9PT0gJ3RleHRhcmVhJyB8fFxuXHRcdFx0KHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyAmJiAhL15maWx8Y2hlfHJhL2kudGVzdChwcm9wcy50eXBlKSkpXG5cdCkge1xuXHRcdGxldCBub3JtYWxpemVkID0gbmV3UHJvcHMub25pbnB1dCB8fCAnb25pbnB1dCc7XG5cdFx0aWYgKCFwcm9wc1tub3JtYWxpemVkXSkge1xuXHRcdFx0cHJvcHNbbm9ybWFsaXplZF0gPSBwcm9wc1tuZXdQcm9wcy5vbmNoYW5nZV07XG5cdFx0XHRkZWxldGUgcHJvcHNbbmV3UHJvcHMub25jaGFuZ2VdO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBzaGFsbG93RGlmZmVycywgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBNZW1vaXplIGEgY29tcG9uZW50LCBzbyB0aGF0IGl0IG9ubHkgdXBkYXRlcyB3aGVuIHRoZSBwcm9wcyBhY3R1YWxseSBoYXZlXG4gKiBjaGFuZ2VkLiBUaGlzIHdhcyBwcmV2aW91c2x5IGtub3duIGFzIGBSZWFjdC5wdXJlYC5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuRnVuY3Rpb25hbENvbXBvbmVudH0gYyBmdW5jdGlvbmFsIGNvbXBvbmVudFxuICogQHBhcmFtIHsocHJldjogb2JqZWN0LCBuZXh0OiBvYmplY3QpID0+IGJvb2xlYW59IFtjb21wYXJlcl0gQ3VzdG9tIGVxdWFsaXR5IGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuRnVuY3Rpb25hbENvbXBvbmVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lbW8oYywgY29tcGFyZXIpIHtcblx0ZnVuY3Rpb24gc2hvdWxkVXBkYXRlKG5leHRQcm9wcykge1xuXHRcdGxldCByZWYgPSB0aGlzLnByb3BzLnJlZjtcblx0XHRsZXQgdXBkYXRlUmVmID0gcmVmID09IG5leHRQcm9wcy5yZWY7XG5cdFx0aWYgKCF1cGRhdGVSZWYgJiYgcmVmKSB7XG5cdFx0XHRyZWYuY2FsbCA/IHJlZihudWxsKSA6IChyZWYuY3VycmVudCA9IG51bGwpO1xuXHRcdH1cblxuXHRcdGlmICghY29tcGFyZXIpIHtcblx0XHRcdHJldHVybiBzaGFsbG93RGlmZmVycyh0aGlzLnByb3BzLCBuZXh0UHJvcHMpO1xuXHRcdH1cblxuXHRcdHJldHVybiAhY29tcGFyZXIodGhpcy5wcm9wcywgbmV4dFByb3BzKSB8fCAhdXBkYXRlUmVmO1xuXHR9XG5cblx0ZnVuY3Rpb24gTWVtb2VkKHByb3BzKSB7XG5cdFx0dGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBzaG91bGRVcGRhdGU7XG5cdFx0cmV0dXJuIGNyZWF0ZUVsZW1lbnQoYywgYXNzaWduKHt9LCBwcm9wcykpO1xuXHR9XG5cdE1lbW9lZC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHRydWU7XG5cdE1lbW9lZC5kaXNwbGF5TmFtZSA9ICdNZW1vKCcgKyAoYy5kaXNwbGF5TmFtZSB8fCBjLm5hbWUpICsgJyknO1xuXHRNZW1vZWQuX2ZvcndhcmRlZCA9IHRydWU7XG5cdHJldHVybiBNZW1vZWQ7XG59XG4iLCIhZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoXCJwcmVhY3RcIikpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXCJwcmVhY3RcIl0sdCk7ZWxzZXt2YXIgbj10KFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP3JlcXVpcmUoXCJwcmVhY3RcIik6ZS5wcmVhY3QpO2Zvcih2YXIgbyBpbiBuKShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzOmUpW29dPW5bb119fSh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtmdW5jdGlvbiB0KG8pe2lmKG5bb10pcmV0dXJuIG5bb10uZXhwb3J0czt2YXIgcj1uW29dPXtleHBvcnRzOnt9LGlkOm8sbG9hZGVkOiExfTtyZXR1cm4gZVtvXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyx0KSxyLmxvYWRlZD0hMCxyLmV4cG9ydHN9dmFyIG49e307cmV0dXJuIHQubT1lLHQuYz1uLHQucD1cIlwiLHQoMCl9KFtmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiKyhcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cInVuZGVmaW5lZFwiOmEodCkpKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfWZ1bmN0aW9uIHUoZSx0LG4pe3ZhciB1PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHUoKXtvKHRoaXMsdSk7dmFyIHQ9UmVmbGVjdC5jb25zdHJ1Y3QoSFRNTEVsZW1lbnQsW10sdSk7cmV0dXJuIHQuX3Zkb21Db21wb25lbnQ9ZSx0fXJldHVybiByKHUsdCkscyh1LFt7a2V5OlwiY29ubmVjdGVkQ2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbigpe2kuYXBwbHkodGhpcyl9fSx7a2V5OlwiYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXtpLmFwcGx5KHRoaXMpfX0se2tleTpcImRldGFjaGVkQ2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbigpe2YuYXBwbHkodGhpcyl9fV0sW3trZXk6XCJvYnNlcnZlZEF0dHJpYnV0ZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbn19XSksdX0oSFRNTEVsZW1lbnQpO3JldHVybiB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHR8fGUuZGlzcGxheU5hbWV8fGUubmFtZSx1KX1mdW5jdGlvbiBpKCl7dGhpcy5fcm9vdD0oMCxsLnJlbmRlcikoYyh0aGlzLHRoaXMuX3Zkb21Db21wb25lbnQpLHRoaXMsdGhpcy5fcm9vdCl9ZnVuY3Rpb24gZigpeygwLGwucmVuZGVyKSgoMCxsLmgpKHApLHRoaXMsdGhpcy5fcm9vdCl9ZnVuY3Rpb24gYyhlLHQpe2lmKDM9PT1lLm5vZGVUeXBlKXJldHVybiBlLm5vZGVWYWx1ZTtpZigxIT09ZS5ub2RlVHlwZSlyZXR1cm4gbnVsbDt2YXIgbj1bXSxvPXt9LHI9MCx1PWUuYXR0cmlidXRlcyxpPWUuY2hpbGROb2Rlcztmb3Iocj11Lmxlbmd0aDtyLS07KW9bdVtyXS5uYW1lXT11W3JdLnZhbHVlO2ZvcihyPWkubGVuZ3RoO3ItLTspbltyXT1jKGlbcl0pO3JldHVybigwLGwuaCkodHx8ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG8sbil9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGE9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07dFtcImRlZmF1bHRcIl09dTt2YXIgbD1uKDEpLHA9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0scz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIG89dFtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBvJiYoby53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsby5rZXksbyl9fXJldHVybiBmdW5jdGlvbih0LG4sbyl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksbyYmZSh0LG8pLHR9fSgpfSxmdW5jdGlvbih0LG4pe3QuZXhwb3J0cz1lfV0pfSk7IiwiXG5jb25zdCBjb2xvcnMgPSB7XG4gICREMTA6IFwiIzE2MkQzRFwiLCAvLyBNYWluIGlucHV0IHRleHQsIHRpdGxlc1xuICAkRDIwOiBcIiMzMjUzNkFcIiwgLy8gVGl0bGVzLCB0ZXh0c1xuICAkRDMwOiBcIiM1NzcwODNcIiwgLy8gVGV4dHNcbiAgJEQ0MDogXCIjN0E5MkE1XCIsIC8vIERpdmlkZXJzLCB0ZXh0cywgUGxhY2Vob2xkZXJcbiAgJEQ1MDogXCIjQjZDMUNEXCIsIC8vIERpdmlkZXJzLCB0ZXh0c1xuICAkRDU1OiBcIiNDQkQzRENcIiwgLy8gRGlzYWJsZWQgYnV0dG9uIC0gbmV3IHZlcnNpb24gLSBuYW1pbmcgbm90IGZpbmFsXG4gICRENjA6IFwiI0RGRTVFQlwiLCAvLyBEaXZpZGVyc1xuICAkRDcwOiBcIiNGMEY0RjdcIiwgLy8gUGFnZSBiYWNrZ3JvdW5kLCBkaXZpZGVyc1xuICAkRDgwOiBcIiNGRkZGRkZcIiwgLy8gQ29udGVudCBib3ggYmFja2dyb3VuZFxuXG4gICRCMDA6IFwiIzJCODFDQlwiLCAvLyBCdXR0b25zXG4gICRCMDU6IFwiIzMwOERERFwiLCAvLyBDVEFcbiAgJEIxMDogXCIjMzg5OUVDXCIsIC8vIE1haW4gYWN0aW9uIGNvbG9yLCBhY3RpdmUsIGJ1dHRvbnNcbiAgJEIyMDogXCIjNEVCN0Y1XCIsIC8vIEhvdmVyIGZvciBlbGVtZW50cyB3aXRoIEIxMCwgYnV0dG9uc1xuICAkQjI1OiBcIiNBMUQ3RkJcIixcbiAgJEIyNzogXCIjQjNFMEZCXCIsXG4gICRCMzA6IFwiI0MxRTRGRVwiLCAvLyBOb3RpZmljYXRpb25zXG4gICRCNDA6IFwiI0RBRUZGRVwiLCAvLyBEaXZpZGVycywgdGFibGUgc2VsZWN0ZWQsIHRhYmxlIGhlYWRlcnNcbiAgJEI1MDogXCIjRUFGN0ZGXCIsIC8vIERpdmlkZXJzXG4gICRCNjA6IFwiI0Y0RkFGRVwiLCAvLyBUYWJsZSBob3ZlclxufTtcblxuY29uc3Qgc2lkZWJhciA9IHtcbiAgY29sb3JzOiB7XG4gICAgJGJnOiBcIiMyMzI2M2VcIixcbiAgICAkZGl2aWRlcjogXCIjNDM0NTY3XCIsXG4gICAgJGJnSG92ZXI6IFwiIzJlMzI0OVwiLFxuICAgICRiZ0FjdGl2ZTogXCIjMzkzZjU5XCIsXG4gIH0sXG59XG5jb25zdCB0aGVtZSA9IHtcbiAgY29sb3JzLFxuICBzaWRlYmFyLFxufTtcblxuXG5leHBvcnQgZGVmYXVsdCB0aGVtZTtcbiIsImltcG9ydCB7XG4gaCwgY3JlYXRlQ29udGV4dCwgQ29tcG9uZW50Q2hpbGRyZW4sIEZ1bmN0aW9uQ29tcG9uZW50LFxufSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB1c2VDb250ZXh0IH0gZnJvbSBcInByZWFjdC9jb21wYXRcIjtcbmltcG9ydCB7IHN0eWxlZCwgc2V0dXAgfSBmcm9tIFwiQG5rc2FyYWYvZ29vYmVyXCI7XG5pbXBvcnQgdGhlbWUgZnJvbSBcIi4vdXRpbHMvZ2xvYmFsU3R5bGVzXCI7XG5cbmNvbnN0IFRoZW1lQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQodGhlbWUpO1xuY29uc3QgdXNlVGhlbWUgPSAoKSA9PiB1c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XG5zZXR1cChoLCBmb3J3YXJkUmVmLCB1c2VUaGVtZSk7XG5cblxuY29uc3QgQXBwOiBGdW5jdGlvbkNvbXBvbmVudCA9ICh7IGNoaWxkcmVuIH0pID0+IDxTdHlsZWRCYXNlPntjaGlsZHJlbn08L1N0eWxlZEJhc2U+O1xuXG5cbmNvbnN0IFN0eWxlZEJhc2UgPSBzdHlsZWQ8eyBjaGlsZHJlbjogQ29tcG9uZW50Q2hpbGRyZW4gfT4oXCJkaXZcIilgXG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuYDtcblxuZXhwb3J0IGRlZmF1bHQgQXBwO1xuIiwiaW1wb3J0IHsgUHJvcFJlZiB9IGZyb20gXCJwcmVhY3QvaG9va3Mvc3JjXCI7XG5cbmludGVyZmFjZSBDdXN0b21FdmVudCB7XG4gICAgcmVmOiBQcm9wUmVmPGFueT4sXG4gICAgZXZlbnROYW1lOiBzdHJpbmcsXG59XG5cbmNvbnN0IHVzZUN1c3RvbUV2ZW50ID0gKHsgcmVmLCBldmVudE5hbWUgfTogQ3VzdG9tRXZlbnQpID0+IHtcbiAgICBjb25zdCBjdXN0b21FdmVudCA9IChkZXRhaWwpID0+IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtcbiAgICAgICAgZGV0YWlsLFxuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgY29uc3QgZGlzcGF0Y2hFdmVudCA9IChldkRhdGEpID0+IHtcbiAgICAgICAgaWYgKHJlZi5jdXJyZW50KSByZWYuY3VycmVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KGV2RGF0YSkpO1xuICAgIH1cbiAgICByZXR1cm4gZGlzcGF0Y2hFdmVudFxufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VDdXN0b21FdmVudDtcbiIsImZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBtb2R1bGUuZXhwb3J0cyA9IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZXh0ZW5kczsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmxldCByZW5kZXJFcnIgPSAnUmVuZGVyZXIgRXJyb3InXG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zID0ge1xuICBpbml0OiAnaW5pdCcsXG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29sdW1uID0ge1xuICBDZWxsOiAoeyBjZWxsOiB7IHZhbHVlID0gJycgfSB9KSA9PiB2YWx1ZSxcbiAgd2lkdGg6IDE1MCxcbiAgbWluV2lkdGg6IDAsXG4gIG1heFdpZHRoOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRPcmRlckJ5Rm4oYXJyLCBmdW5jcywgZGlycykge1xuICByZXR1cm4gWy4uLmFycl0uc29ydCgocm93QSwgcm93QikgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnVuY3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHNvcnRGbiA9IGZ1bmNzW2ldXG4gICAgICBjb25zdCBkZXNjID0gZGlyc1tpXSA9PT0gZmFsc2UgfHwgZGlyc1tpXSA9PT0gJ2Rlc2MnXG4gICAgICBjb25zdCBzb3J0SW50ID0gc29ydEZuKHJvd0EsIHJvd0IpXG4gICAgICBpZiAoc29ydEludCAhPT0gMCkge1xuICAgICAgICByZXR1cm4gZGVzYyA/IC1zb3J0SW50IDogc29ydEludFxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGlyc1swXSA/IHJvd0EuaW5kZXggLSByb3dCLmluZGV4IDogcm93Qi5pbmRleCAtIHJvd0EuaW5kZXhcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRHcm91cEJ5Rm4ocm93cywgY29sdW1uSWQpIHtcbiAgcmV0dXJuIHJvd3MucmVkdWNlKChwcmV2LCByb3csIGkpID0+IHtcbiAgICAvLyBUT0RPOiBNaWdodCB3YW50IHRvIGltcGxlbWVudCBhIGtleSBzZXJpYWxpemVyIGhlcmUgc29cbiAgICAvLyBpcnJlZ3VsYXIgY29sdW1uIHZhbHVlcyBjYW4gc3RpbGwgYmUgZ3JvdXBlZCBpZiBuZWVkZWQ/XG4gICAgY29uc3QgcmVzS2V5ID0gYCR7cm93LnZhbHVlc1tjb2x1bW5JZF19YFxuICAgIHByZXZbcmVzS2V5XSA9IEFycmF5LmlzQXJyYXkocHJldltyZXNLZXldKSA/IHByZXZbcmVzS2V5XSA6IFtdXG4gICAgcHJldltyZXNLZXldLnB1c2gocm93KVxuICAgIHJldHVybiBwcmV2XG4gIH0sIHt9KVxufVxuXG5mdW5jdGlvbiBtZXJnZVByb3BzKC4uLnByb3BMaXN0KSB7XG4gIHJldHVybiBwcm9wTGlzdC5yZWR1Y2UoKHByb3BzLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgeyBzdHlsZSwgY2xhc3NOYW1lLCAuLi5yZXN0IH0gPSBuZXh0XG5cbiAgICBwcm9wcyA9IHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgLi4ucmVzdCxcbiAgICB9XG5cbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIHByb3BzLnN0eWxlID0gcHJvcHMuc3R5bGVcbiAgICAgICAgPyB7IC4uLihwcm9wcy5zdHlsZSB8fCB7fSksIC4uLihzdHlsZSB8fCB7fSkgfVxuICAgICAgICA6IHN0eWxlXG4gICAgfVxuXG4gICAgaWYgKGNsYXNzTmFtZSkge1xuICAgICAgcHJvcHMuY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lXG4gICAgICAgID8gcHJvcHMuY2xhc3NOYW1lICsgJyAnICsgY2xhc3NOYW1lXG4gICAgICAgIDogY2xhc3NOYW1lXG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmNsYXNzTmFtZSA9PT0gJycpIHtcbiAgICAgIGRlbGV0ZSBwcm9wcy5jbGFzc05hbWVcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcHNcbiAgfSwge30pXG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByb3BHZXR0ZXIocHJldlByb3BzLCB1c2VyUHJvcHMsIG1ldGEpIHtcbiAgLy8gSGFuZGxlIGEgbGFtYmRhLCBwYXNzIGl0IHRoZSBwcmV2aW91cyBwcm9wc1xuICBpZiAodHlwZW9mIHVzZXJQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBoYW5kbGVQcm9wR2V0dGVyKHt9LCB1c2VyUHJvcHMocHJldlByb3BzLCBtZXRhKSlcbiAgfVxuXG4gIC8vIEhhbmRsZSBhbiBhcnJheSwgbWVyZ2UgZWFjaCBpdGVtIGFzIHNlcGFyYXRlIHByb3BzXG4gIGlmIChBcnJheS5pc0FycmF5KHVzZXJQcm9wcykpIHtcbiAgICByZXR1cm4gbWVyZ2VQcm9wcyhwcmV2UHJvcHMsIC4uLnVzZXJQcm9wcylcbiAgfVxuXG4gIC8vIEhhbmRsZSBhbiBvYmplY3QgYnkgZGVmYXVsdCwgbWVyZ2UgdGhlIHR3byBvYmplY3RzXG4gIHJldHVybiBtZXJnZVByb3BzKHByZXZQcm9wcywgdXNlclByb3BzKVxufVxuXG5leHBvcnQgY29uc3QgbWFrZVByb3BHZXR0ZXIgPSAoaG9va3MsIG1ldGEgPSB7fSkgPT4ge1xuICByZXR1cm4gKHVzZXJQcm9wcyA9IHt9KSA9PlxuICAgIFsuLi5ob29rcywgdXNlclByb3BzXS5yZWR1Y2UoXG4gICAgICAocHJldiwgbmV4dCkgPT5cbiAgICAgICAgaGFuZGxlUHJvcEdldHRlcihwcmV2LCBuZXh0LCB7XG4gICAgICAgICAgLi4ubWV0YSxcbiAgICAgICAgICB1c2VyUHJvcHMsXG4gICAgICAgIH0pLFxuICAgICAge31cbiAgICApXG59XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VIb29rcyA9IChob29rcywgaW5pdGlhbCwgbWV0YSA9IHt9KSA9PlxuICBob29rcy5yZWR1Y2UoKHByZXYsIG5leHQpID0+IHtcbiAgICBjb25zdCBuZXh0VmFsdWUgPSBuZXh0KHByZXYsIG1ldGEpXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLmluZm8obmV4dClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdSZWFjdCBUYWJsZTogQSByZWR1Y2VyIGhvb2sg4pid77iPIGp1c3QgcmV0dXJuZWQgdW5kZWZpbmVkISBUaGlzIGlzIG5vdCBhbGxvd2VkLidcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV4dFZhbHVlXG4gIH0sIGluaXRpYWwpXG5cbmV4cG9ydCBjb25zdCBsb29wSG9va3MgPSAoaG9va3MsIG1ldGEgPSB7fSkgPT5cbiAgaG9va3MuZm9yRWFjaChob29rID0+IHtcbiAgICBjb25zdCBuZXh0VmFsdWUgPSBob29rKG1ldGEpXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLmluZm8oaG9vaywgbmV4dFZhbHVlKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlYWN0IFRhYmxlOiBBIGxvb3AtdHlwZSBob29rIOKYne+4jyBqdXN0IHJldHVybmVkIGEgdmFsdWUhIFRoaXMgaXMgbm90IGFsbG93ZWQuJ1xuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlUGx1Z2luT3JkZXIocGx1Z2lucywgYmVmb3JlcywgcGx1Z2luTmFtZSwgYWZ0ZXJzKSB7XG4gIGNvbnN0IHBsdWdpbkluZGV4ID0gcGx1Z2lucy5maW5kSW5kZXgoXG4gICAgcGx1Z2luID0+IHBsdWdpbi5wbHVnaW5OYW1lID09PSBwbHVnaW5OYW1lXG4gIClcblxuICBpZiAocGx1Z2luSW5kZXggPT09IC0xKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHBsdWdpbiBcIiR7cGx1Z2luTmFtZX1cIiB3YXMgbm90IGZvdW5kIGluIHRoZSBwbHVnaW4gbGlzdCFcblRoaXMgdXN1YWxseSBtZWFucyB5b3UgbmVlZCB0byBuZWVkIHRvIG5hbWUgeW91ciBwbHVnaW4gaG9vayBieSBzZXR0aW5nIHRoZSAncGx1Z2luTmFtZScgcHJvcGVydHkgb2YgdGhlIGhvb2sgZnVuY3Rpb24sIGVnOlxuXG4gICR7cGx1Z2luTmFtZX0ucGx1Z2luTmFtZSA9ICcke3BsdWdpbk5hbWV9J1xuYClcbiAgICB9XG4gIH1cblxuICBiZWZvcmVzLmZvckVhY2goYmVmb3JlID0+IHtcbiAgICBjb25zdCBiZWZvcmVJbmRleCA9IHBsdWdpbnMuZmluZEluZGV4KFxuICAgICAgcGx1Z2luID0+IHBsdWdpbi5wbHVnaW5OYW1lID09PSBiZWZvcmVcbiAgICApXG4gICAgaWYgKGJlZm9yZUluZGV4ID4gLTEgJiYgYmVmb3JlSW5kZXggPiBwbHVnaW5JbmRleCkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBSZWFjdCBUYWJsZTogVGhlICR7cGx1Z2luTmFtZX0gcGx1Z2luIGhvb2sgbXVzdCBiZSBwbGFjZWQgYWZ0ZXIgdGhlICR7YmVmb3JlfSBwbHVnaW4gaG9vayFgXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgYWZ0ZXJzLmZvckVhY2goYWZ0ZXIgPT4ge1xuICAgIGNvbnN0IGFmdGVySW5kZXggPSBwbHVnaW5zLmZpbmRJbmRleChwbHVnaW4gPT4gcGx1Z2luLnBsdWdpbk5hbWUgPT09IGFmdGVyKVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoYWZ0ZXJJbmRleCA+IC0xICYmIGFmdGVySW5kZXggPCBwbHVnaW5JbmRleCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFJlYWN0IFRhYmxlOiBUaGUgJHtwbHVnaW5OYW1lfSBwbHVnaW4gaG9vayBtdXN0IGJlIHBsYWNlZCBiZWZvcmUgdGhlICR7YWZ0ZXJ9IHBsdWdpbiBob29rIWBcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZ1bmN0aW9uYWxVcGRhdGUodXBkYXRlciwgb2xkKSB7XG4gIHJldHVybiB0eXBlb2YgdXBkYXRlciA9PT0gJ2Z1bmN0aW9uJyA/IHVwZGF0ZXIob2xkKSA6IHVwZGF0ZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUdldExhdGVzdChvYmopIHtcbiAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKClcbiAgcmVmLmN1cnJlbnQgPSBvYmpcblxuICByZXR1cm4gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gcmVmLmN1cnJlbnQsIFtdKVxufVxuXG4vLyBTU1IgaGFzIGlzc3VlcyB3aXRoIHVzZUxheW91dEVmZmVjdCBzdGlsbCwgc28gdXNlIHVzZUVmZmVjdCBkdXJpbmcgU1NSXG5leHBvcnQgY29uc3Qgc2FmZVVzZUxheW91dEVmZmVjdCA9XG4gIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBSZWFjdC51c2VMYXlvdXRFZmZlY3QgOiBSZWFjdC51c2VFZmZlY3RcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoZm4sIGRlcHMpIHtcbiAgY29uc3QgbW91bnRlZFJlZiA9IFJlYWN0LnVzZVJlZihmYWxzZSlcblxuICBzYWZlVXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAobW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICBmbigpXG4gICAgfVxuICAgIG1vdW50ZWRSZWYuY3VycmVudCA9IHRydWVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgfSwgZGVwcylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUFzeW5jRGVib3VuY2UoZGVmYXVsdEZuLCBkZWZhdWx0V2FpdCA9IDApIHtcbiAgY29uc3QgZGVib3VuY2VSZWYgPSBSZWFjdC51c2VSZWYoe30pXG4gIGRlYm91bmNlUmVmLmN1cnJlbnQuZGVmYXVsdEZuID0gZGVmYXVsdEZuXG4gIGRlYm91bmNlUmVmLmN1cnJlbnQuZGVmYXVsdFdhaXQgPSBkZWZhdWx0V2FpdFxuXG4gIGNvbnN0IGRlYm91bmNlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKFxuICAgICAgZm4gPSBkZWJvdW5jZVJlZi5jdXJyZW50LmRlZmF1bHRGbixcbiAgICAgIHdhaXQgPSBkZWJvdW5jZVJlZi5jdXJyZW50LmRlZmF1bHRXYWl0XG4gICAgKSA9PiB7XG4gICAgICBpZiAoIWRlYm91bmNlUmVmLmN1cnJlbnQucHJvbWlzZSkge1xuICAgICAgICBkZWJvdW5jZVJlZi5jdXJyZW50LnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgZGVib3VuY2VSZWYuY3VycmVudC5yZXNvbHZlID0gcmVzb2x2ZVxuICAgICAgICAgIGRlYm91bmNlUmVmLmN1cnJlbnQucmVqZWN0ID0gcmVqZWN0XG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChkZWJvdW5jZVJlZi5jdXJyZW50LnRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlUmVmLmN1cnJlbnQudGltZW91dClcbiAgICAgIH1cblxuICAgICAgZGVib3VuY2VSZWYuY3VycmVudC50aW1lb3V0ID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgIGRlbGV0ZSBkZWJvdW5jZVJlZi5jdXJyZW50LnRpbWVvdXRcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkZWJvdW5jZVJlZi5jdXJyZW50LnJlc29sdmUoYXdhaXQgZm4oKSlcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgZGVib3VuY2VSZWYuY3VycmVudC5yZWplY3QoZXJyKVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGRlbGV0ZSBkZWJvdW5jZVJlZi5jdXJyZW50LnByb21pc2VcbiAgICAgICAgfVxuICAgICAgfSwgd2FpdClcblxuICAgICAgcmV0dXJuIGRlYm91bmNlUmVmLmN1cnJlbnQucHJvbWlzZVxuICAgIH0sXG4gICAgW11cbiAgKVxuXG4gIHJldHVybiBkZWJvdW5jZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoaG9va3MsIGhvb2tOYW1lKSB7XG4gIGNvbnN0IGdldHRlciA9IHVzZUdldExhdGVzdChob29rc1tob29rTmFtZV0pXG4gIGhvb2tzW2hvb2tOYW1lXSA9IHVuZGVmaW5lZFxuICByZXR1cm4gZ2V0dGVyXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUmVuZGVyZXIoaW5zdGFuY2UsIGNvbHVtbiwgbWV0YSA9IHt9KSB7XG4gIHJldHVybiAodHlwZSwgdXNlclByb3BzID0ge30pID0+IHtcbiAgICBjb25zdCBDb21wID0gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnID8gY29sdW1uW3R5cGVdIDogdHlwZVxuXG4gICAgaWYgKHR5cGVvZiBDb21wID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlbmRlckVycilcbiAgICB9XG5cbiAgICByZXR1cm4gZmxleFJlbmRlcihDb21wLCB7IC4uLmluc3RhbmNlLCBjb2x1bW4sIC4uLm1ldGEsIC4uLnVzZXJQcm9wcyB9KVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmbGV4UmVuZGVyKENvbXAsIHByb3BzKSB7XG4gIHJldHVybiBpc1JlYWN0Q29tcG9uZW50KENvbXApID8gPENvbXAgey4uLnByb3BzfSAvPiA6IENvbXBcbn1cblxuZnVuY3Rpb24gaXNDbGFzc0NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgY29tcG9uZW50ID09PSAnZnVuY3Rpb24nICYmXG4gICAgISEoKCkgPT4ge1xuICAgICAgbGV0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGNvbXBvbmVudClcbiAgICAgIHJldHVybiBwcm90by5wcm90b3R5cGUgJiYgcHJvdG8ucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnRcbiAgICB9KSgpXG4gIClcbn1cblxuZnVuY3Rpb24gaXNGdW5jdGlvbkNvbXBvbmVudChjb21wb25lbnQpIHtcbiAgcmV0dXJuIHR5cGVvZiBjb21wb25lbnQgPT09ICdmdW5jdGlvbidcbn1cblxuZnVuY3Rpb24gaXNFeG90aWNDb21wb25lbnQoY29tcG9uZW50KSB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIGNvbXBvbmVudCA9PT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2YgY29tcG9uZW50LiQkdHlwZW9mID09PSAnc3ltYm9sJyAmJlxuICAgIFsncmVhY3QubWVtbycsICdyZWFjdC5mb3J3YXJkX3JlZiddLmluY2x1ZGVzKGNvbXBvbmVudC4kJHR5cGVvZi5kZXNjcmlwdGlvbilcbiAgKVxufVxuXG5mdW5jdGlvbiBpc1JlYWN0Q29tcG9uZW50KGNvbXBvbmVudCkge1xuICByZXR1cm4gKFxuICAgIGlzQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSB8fFxuICAgIGlzRnVuY3Rpb25Db21wb25lbnQoY29tcG9uZW50KSB8fFxuICAgIGlzRXhvdGljQ29tcG9uZW50KGNvbXBvbmVudClcbiAgKVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgZGVmYXVsdENvbHVtbiB9IGZyb20gJy4vcHVibGljVXRpbHMnXG5cbmV4cG9ydCAqIGZyb20gJy4vcHVibGljVXRpbHMnXG5cbi8vIEZpbmQgdGhlIGRlcHRoIG9mIHRoZSBjb2x1bW5zXG5leHBvcnQgZnVuY3Rpb24gZmluZE1heERlcHRoKGNvbHVtbnMsIGRlcHRoID0gMCkge1xuICByZXR1cm4gY29sdW1ucy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICBpZiAoY3Vyci5jb2x1bW5zKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgocHJldiwgZmluZE1heERlcHRoKGN1cnIuY29sdW1ucywgZGVwdGggKyAxKSlcbiAgICB9XG4gICAgcmV0dXJuIGRlcHRoXG4gIH0sIDApXG59XG5cbmZ1bmN0aW9uIGRlY29yYXRlQ29sdW1uKGNvbHVtbiwgdXNlckRlZmF1bHRDb2x1bW4sIHBhcmVudCwgZGVwdGgsIGluZGV4KSB7XG4gIC8vIEFwcGx5IHRoZSB1c2VyRGVmYXVsdENvbHVtblxuICBjb2x1bW4gPSB7IC4uLmRlZmF1bHRDb2x1bW4sIC4uLnVzZXJEZWZhdWx0Q29sdW1uLCAuLi5jb2x1bW4gfVxuXG4gIC8vIEZpcnN0IGNoZWNrIGZvciBzdHJpbmcgYWNjZXNzb3JcbiAgbGV0IHsgaWQsIGFjY2Vzc29yLCBIZWFkZXIgfSA9IGNvbHVtblxuXG4gIGlmICh0eXBlb2YgYWNjZXNzb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgaWQgPSBpZCB8fCBhY2Nlc3NvclxuICAgIGNvbnN0IGFjY2Vzc29yUGF0aCA9IGFjY2Vzc29yLnNwbGl0KCcuJylcbiAgICBhY2Nlc3NvciA9IHJvdyA9PiBnZXRCeShyb3csIGFjY2Vzc29yUGF0aClcbiAgfVxuXG4gIGlmICghaWQgJiYgdHlwZW9mIEhlYWRlciA9PT0gJ3N0cmluZycgJiYgSGVhZGVyKSB7XG4gICAgaWQgPSBIZWFkZXJcbiAgfVxuXG4gIGlmICghaWQgJiYgY29sdW1uLmNvbHVtbnMpIHtcbiAgICBjb25zb2xlLmVycm9yKGNvbHVtbilcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgY29sdW1uIElEIChvciB1bmlxdWUgXCJIZWFkZXJcIiB2YWx1ZSkgaXMgcmVxdWlyZWQhJylcbiAgfVxuXG4gIGlmICghaWQpIHtcbiAgICBjb25zb2xlLmVycm9yKGNvbHVtbilcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgY29sdW1uIElEIChvciBzdHJpbmcgYWNjZXNzb3IpIGlzIHJlcXVpcmVkIScpXG4gIH1cblxuICBjb2x1bW4gPSB7XG4gICAgLy8gTWFrZSBzdXJlIHRoZXJlIGlzIGEgZmFsbGJhY2sgaGVhZGVyLCBqdXN0IGluIGNhc2VcbiAgICBIZWFkZXI6ICgpID0+IDw+Jm5ic3A7PC8+LFxuICAgIEZvb3RlcjogKCkgPT4gPD4mbmJzcDs8Lz4sXG4gICAgLi4uY29sdW1uLFxuICAgIC8vIE1hdGVyaWFsaXplIGFuZCBvdmVycmlkZSB0aGlzIHN0dWZmXG4gICAgaWQsXG4gICAgYWNjZXNzb3IsXG4gICAgcGFyZW50LFxuICAgIGRlcHRoLFxuICAgIGluZGV4LFxuICB9XG5cbiAgcmV0dXJuIGNvbHVtblxufVxuXG4vLyBCdWlsZCB0aGUgdmlzaWJsZSBjb2x1bW5zLCBoZWFkZXJzIGFuZCBmbGF0IGNvbHVtbiBsaXN0XG5leHBvcnQgZnVuY3Rpb24gZGVjb3JhdGVDb2x1bW5UcmVlKGNvbHVtbnMsIGRlZmF1bHRDb2x1bW4sIHBhcmVudCwgZGVwdGggPSAwKSB7XG4gIHJldHVybiBjb2x1bW5zLm1hcCgoY29sdW1uLCBjb2x1bW5JbmRleCkgPT4ge1xuICAgIGNvbHVtbiA9IGRlY29yYXRlQ29sdW1uKGNvbHVtbiwgZGVmYXVsdENvbHVtbiwgcGFyZW50LCBkZXB0aCwgY29sdW1uSW5kZXgpXG4gICAgaWYgKGNvbHVtbi5jb2x1bW5zKSB7XG4gICAgICBjb2x1bW4uY29sdW1ucyA9IGRlY29yYXRlQ29sdW1uVHJlZShcbiAgICAgICAgY29sdW1uLmNvbHVtbnMsXG4gICAgICAgIGRlZmF1bHRDb2x1bW4sXG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgZGVwdGggKyAxXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBjb2x1bW5cbiAgfSlcbn1cblxuLy8gQnVpbGQgdGhlIGhlYWRlciBncm91cHMgZnJvbSB0aGUgYm90dG9tIHVwXG5leHBvcnQgZnVuY3Rpb24gbWFrZUhlYWRlckdyb3VwcyhmbGF0Q29sdW1ucywgZGVmYXVsdENvbHVtbikge1xuICBjb25zdCBoZWFkZXJHcm91cHMgPSBbXVxuXG4gIC8vIEJ1aWxkIGVhY2ggaGVhZGVyIGdyb3VwIGZyb20gdGhlIGJvdHRvbSB1cFxuICBjb25zdCBidWlsZEdyb3VwID0gKGNvbHVtbnMsIGRlcHRoKSA9PiB7XG4gICAgY29uc3QgaGVhZGVyR3JvdXAgPSB7XG4gICAgICBoZWFkZXJzOiBbXSxcbiAgICB9XG5cbiAgICBjb25zdCBwYXJlbnRDb2x1bW5zID0gW11cblxuICAgIC8vIERvIGFueSBvZiB0aGVzZSBjb2x1bW5zIGhhdmUgcGFyZW50cz9cbiAgICBjb25zdCBoYXNQYXJlbnRzID0gY29sdW1ucy5zb21lKGNvbCA9PiBjb2wucGFyZW50KVxuXG4gICAgY29sdW1ucy5mb3JFYWNoKGNvbHVtbiA9PiB7XG4gICAgICAvLyBBcmUgd2UgdGhlIGZpcnN0IGNvbHVtbiBpbiB0aGlzIGdyb3VwP1xuICAgICAgY29uc3QgaXNGaXJzdCA9ICFwYXJlbnRDb2x1bW5zLmxlbmd0aFxuXG4gICAgICAvLyBXaGF0IGlzIHRoZSBsYXRlc3QgKGxhc3QpIHBhcmVudCBjb2x1bW4/XG4gICAgICBsZXQgbGF0ZXN0UGFyZW50Q29sdW1uID0gWy4uLnBhcmVudENvbHVtbnNdLnJldmVyc2UoKVswXVxuXG4gICAgICAvLyBJZiB0aGUgY29sdW1uIGhhcyBhIHBhcmVudCwgYWRkIGl0IGlmIG5lY2Vzc2FyeVxuICAgICAgaWYgKGNvbHVtbi5wYXJlbnQpIHtcbiAgICAgICAgY29uc3Qgc2ltaWxhclBhcmVudENvbHVtbnMgPSBwYXJlbnRDb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICBkID0+IGQub3JpZ2luYWxJZCA9PT0gY29sdW1uLnBhcmVudC5pZFxuICAgICAgICApXG4gICAgICAgIGlmIChpc0ZpcnN0IHx8IGxhdGVzdFBhcmVudENvbHVtbi5vcmlnaW5hbElkICE9PSBjb2x1bW4ucGFyZW50LmlkKSB7XG4gICAgICAgICAgcGFyZW50Q29sdW1ucy5wdXNoKHtcbiAgICAgICAgICAgIC4uLmNvbHVtbi5wYXJlbnQsXG4gICAgICAgICAgICBvcmlnaW5hbElkOiBjb2x1bW4ucGFyZW50LmlkLFxuICAgICAgICAgICAgaWQ6IFtjb2x1bW4ucGFyZW50LmlkLCBzaW1pbGFyUGFyZW50Q29sdW1ucy5sZW5ndGhdLmpvaW4oJ18nKSxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGhhc1BhcmVudHMpIHtcbiAgICAgICAgLy8gSWYgb3RoZXIgY29sdW1ucyBoYXZlIHBhcmVudHMsIHdlJ2xsIG5lZWQgdG8gYWRkIGEgcGxhY2UgaG9sZGVyIGlmIG5lY2Vzc2FyeVxuICAgICAgICBjb25zdCBvcmlnaW5hbElkID0gW2NvbHVtbi5pZCwgJ3BsYWNlaG9sZGVyJ10uam9pbignXycpXG4gICAgICAgIGNvbnN0IHNpbWlsYXJQYXJlbnRDb2x1bW5zID0gcGFyZW50Q29sdW1ucy5maWx0ZXIoXG4gICAgICAgICAgZCA9PiBkLm9yaWdpbmFsSWQgPT09IG9yaWdpbmFsSWRcbiAgICAgICAgKVxuICAgICAgICBjb25zdCBwbGFjZWhvbGRlckNvbHVtbiA9IGRlY29yYXRlQ29sdW1uKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG9yaWdpbmFsSWQsXG4gICAgICAgICAgICBpZDogW2NvbHVtbi5pZCwgJ3BsYWNlaG9sZGVyJywgc2ltaWxhclBhcmVudENvbHVtbnMubGVuZ3RoXS5qb2luKFxuICAgICAgICAgICAgICAnXydcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBwbGFjZWhvbGRlck9mOiBjb2x1bW4sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZWZhdWx0Q29sdW1uXG4gICAgICAgIClcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGlzRmlyc3QgfHxcbiAgICAgICAgICBsYXRlc3RQYXJlbnRDb2x1bW4ub3JpZ2luYWxJZCAhPT0gcGxhY2Vob2xkZXJDb2x1bW4ub3JpZ2luYWxJZFxuICAgICAgICApIHtcbiAgICAgICAgICBwYXJlbnRDb2x1bW5zLnB1c2gocGxhY2Vob2xkZXJDb2x1bW4pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRXN0YWJsaXNoIHRoZSBuZXcgaGVhZGVyc1tdIHJlbGF0aW9uc2hpcCBvbiB0aGUgcGFyZW50XG4gICAgICBpZiAoY29sdW1uLnBhcmVudCB8fCBoYXNQYXJlbnRzKSB7XG4gICAgICAgIGxhdGVzdFBhcmVudENvbHVtbiA9IFsuLi5wYXJlbnRDb2x1bW5zXS5yZXZlcnNlKClbMF1cbiAgICAgICAgbGF0ZXN0UGFyZW50Q29sdW1uLmhlYWRlcnMgPSBsYXRlc3RQYXJlbnRDb2x1bW4uaGVhZGVycyB8fCBbXVxuICAgICAgICBpZiAoIWxhdGVzdFBhcmVudENvbHVtbi5oZWFkZXJzLmluY2x1ZGVzKGNvbHVtbikpIHtcbiAgICAgICAgICBsYXRlc3RQYXJlbnRDb2x1bW4uaGVhZGVycy5wdXNoKGNvbHVtbilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb2x1bW4udG90YWxIZWFkZXJDb3VudCA9IGNvbHVtbi5oZWFkZXJzXG4gICAgICAgID8gY29sdW1uLmhlYWRlcnMucmVkdWNlKFxuICAgICAgICAgICAgKHN1bSwgaGVhZGVyKSA9PiBzdW0gKyBoZWFkZXIudG90YWxIZWFkZXJDb3VudCxcbiAgICAgICAgICAgIDBcbiAgICAgICAgICApXG4gICAgICAgIDogMSAvLyBMZWFmIG5vZGUgY29sdW1ucyB0YWtlIHVwIGF0IGxlYXN0IG9uZSBjb3VudFxuICAgICAgaGVhZGVyR3JvdXAuaGVhZGVycy5wdXNoKGNvbHVtbilcbiAgICB9KVxuXG4gICAgaGVhZGVyR3JvdXBzLnB1c2goaGVhZGVyR3JvdXApXG5cbiAgICBpZiAocGFyZW50Q29sdW1ucy5sZW5ndGgpIHtcbiAgICAgIGJ1aWxkR3JvdXAocGFyZW50Q29sdW1ucywgZGVwdGggKyAxKVxuICAgIH1cbiAgfVxuXG4gIGJ1aWxkR3JvdXAoZmxhdENvbHVtbnMsIDApXG5cbiAgcmV0dXJuIGhlYWRlckdyb3Vwcy5yZXZlcnNlKClcbn1cblxuY29uc3QgcGF0aE9iakNhY2hlID0gbmV3IE1hcCgpXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCeShvYmosIHBhdGgsIGRlZikge1xuICBpZiAoIXBhdGgpIHtcbiAgICByZXR1cm4gb2JqXG4gIH1cbiAgY29uc3QgY2FjaGVLZXkgPSB0eXBlb2YgcGF0aCA9PT0gJ2Z1bmN0aW9uJyA/IHBhdGggOiBKU09OLnN0cmluZ2lmeShwYXRoKVxuXG4gIGNvbnN0IHBhdGhPYmogPVxuICAgIHBhdGhPYmpDYWNoZS5nZXQoY2FjaGVLZXkpIHx8XG4gICAgKCgpID0+IHtcbiAgICAgIGNvbnN0IHBhdGhPYmogPSBtYWtlUGF0aEFycmF5KHBhdGgpXG4gICAgICBwYXRoT2JqQ2FjaGUuc2V0KGNhY2hlS2V5LCBwYXRoT2JqKVxuICAgICAgcmV0dXJuIHBhdGhPYmpcbiAgICB9KSgpXG5cbiAgbGV0IHZhbFxuXG4gIHRyeSB7XG4gICAgdmFsID0gcGF0aE9iai5yZWR1Y2UoKGN1cnNvciwgcGF0aFBhcnQpID0+IGN1cnNvcltwYXRoUGFydF0sIG9iailcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIGNvbnRpbnVlIHJlZ2FyZGxlc3Mgb2YgZXJyb3JcbiAgfVxuICByZXR1cm4gdHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcgPyB2YWwgOiBkZWZcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpcnN0RGVmaW5lZCguLi5hcmdzKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0eXBlb2YgYXJnc1tpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBhcmdzW2ldXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50RGltZW5zaW9ucyhlbGVtZW50KSB7XG4gIGNvbnN0IHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudClcbiAgY29uc3QgbWFyZ2lucyA9IHtcbiAgICBsZWZ0OiBwYXJzZUludChzdHlsZS5tYXJnaW5MZWZ0KSxcbiAgICByaWdodDogcGFyc2VJbnQoc3R5bGUubWFyZ2luUmlnaHQpLFxuICB9XG4gIGNvbnN0IHBhZGRpbmcgPSB7XG4gICAgbGVmdDogcGFyc2VJbnQoc3R5bGUucGFkZGluZ0xlZnQpLFxuICAgIHJpZ2h0OiBwYXJzZUludChzdHlsZS5wYWRkaW5nUmlnaHQpLFxuICB9XG4gIHJldHVybiB7XG4gICAgbGVmdDogTWF0aC5jZWlsKHJlY3QubGVmdCksXG4gICAgd2lkdGg6IE1hdGguY2VpbChyZWN0LndpZHRoKSxcbiAgICBvdXRlcldpZHRoOiBNYXRoLmNlaWwoXG4gICAgICByZWN0LndpZHRoICsgbWFyZ2lucy5sZWZ0ICsgbWFyZ2lucy5yaWdodCArIHBhZGRpbmcubGVmdCArIHBhZGRpbmcucmlnaHRcbiAgICApLFxuICAgIG1hcmdpbkxlZnQ6IG1hcmdpbnMubGVmdCxcbiAgICBtYXJnaW5SaWdodDogbWFyZ2lucy5yaWdodCxcbiAgICBwYWRkaW5nTGVmdDogcGFkZGluZy5sZWZ0LFxuICAgIHBhZGRpbmdSaWdodDogcGFkZGluZy5yaWdodCxcbiAgICBzY3JvbGxXaWR0aDogZWxlbWVudC5zY3JvbGxXaWR0aCxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihhKSB7XG4gIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBhXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5CeShjb2x1bW5zLCBjaGlsZEtleSkge1xuICBjb25zdCBmbGF0Q29sdW1ucyA9IFtdXG5cbiAgY29uc3QgcmVjdXJzZSA9IGNvbHVtbnMgPT4ge1xuICAgIGNvbHVtbnMuZm9yRWFjaChkID0+IHtcbiAgICAgIGlmICghZFtjaGlsZEtleV0pIHtcbiAgICAgICAgZmxhdENvbHVtbnMucHVzaChkKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVjdXJzZShkW2NoaWxkS2V5XSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgcmVjdXJzZShjb2x1bW5zKVxuXG4gIHJldHVybiBmbGF0Q29sdW1uc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kUm93cyhcbiAgcm93cyxcbiAgeyBtYW51YWxFeHBhbmRlZEtleSwgZXhwYW5kZWQsIGV4cGFuZFN1YlJvd3MgPSB0cnVlIH1cbikge1xuICBjb25zdCBleHBhbmRlZFJvd3MgPSBbXVxuXG4gIGNvbnN0IGhhbmRsZVJvdyA9IHJvdyA9PiB7XG4gICAgcm93LmlzRXhwYW5kZWQgPVxuICAgICAgKHJvdy5vcmlnaW5hbCAmJiByb3cub3JpZ2luYWxbbWFudWFsRXhwYW5kZWRLZXldKSB8fCBleHBhbmRlZFtyb3cuaWRdXG5cbiAgICByb3cuY2FuRXhwYW5kID0gcm93LnN1YlJvd3MgJiYgISFyb3cuc3ViUm93cy5sZW5ndGhcblxuICAgIGV4cGFuZGVkUm93cy5wdXNoKHJvdylcblxuICAgIGlmIChleHBhbmRTdWJSb3dzICYmIHJvdy5zdWJSb3dzICYmIHJvdy5zdWJSb3dzLmxlbmd0aCAmJiByb3cuaXNFeHBhbmRlZCkge1xuICAgICAgcm93LnN1YlJvd3MuZm9yRWFjaChoYW5kbGVSb3cpXG4gICAgfVxuICB9XG5cbiAgcm93cy5mb3JFYWNoKGhhbmRsZVJvdylcblxuICByZXR1cm4gZXhwYW5kZWRSb3dzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWx0ZXJNZXRob2QoZmlsdGVyLCB1c2VyRmlsdGVyVHlwZXMsIGZpbHRlclR5cGVzKSB7XG4gIHJldHVybiAoXG4gICAgaXNGdW5jdGlvbihmaWx0ZXIpIHx8XG4gICAgdXNlckZpbHRlclR5cGVzW2ZpbHRlcl0gfHxcbiAgICBmaWx0ZXJUeXBlc1tmaWx0ZXJdIHx8XG4gICAgZmlsdGVyVHlwZXMudGV4dFxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRBdXRvUmVtb3ZlRmlsdGVyKGF1dG9SZW1vdmUsIHZhbHVlKSB7XG4gIHJldHVybiBhdXRvUmVtb3ZlID8gYXV0b1JlbW92ZSh2YWx1ZSkgOiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnXG59XG5cbi8vXG5cbmNvbnN0IHJlT3BlbkJyYWNrZXQgPSAvXFxbL2dcbmNvbnN0IHJlQ2xvc2VCcmFja2V0ID0gL1xcXS9nXG5cbmZ1bmN0aW9uIG1ha2VQYXRoQXJyYXkob2JqKSB7XG4gIHJldHVybiAoXG4gICAgZmxhdHRlbkRlZXAob2JqKVxuICAgICAgLy8gcmVtb3ZlIGFsbCBwZXJpb2RzIGluIHBhcnRzXG4gICAgICAubWFwKGQgPT4gU3RyaW5nKGQpLnJlcGxhY2UoJy4nLCAnXycpKVxuICAgICAgLy8gam9pbiBwYXJ0cyB1c2luZyBwZXJpb2RcbiAgICAgIC5qb2luKCcuJylcbiAgICAgIC8vIHJlcGxhY2UgYnJhY2tldHMgd2l0aCBwZXJpb2RzXG4gICAgICAucmVwbGFjZShyZU9wZW5CcmFja2V0LCAnLicpXG4gICAgICAucmVwbGFjZShyZUNsb3NlQnJhY2tldCwgJycpXG4gICAgICAvLyBzcGxpdCBpdCBiYWNrIG91dCBvbiBwZXJpb2RzXG4gICAgICAuc3BsaXQoJy4nKVxuICApXG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW5EZWVwKGFyciwgbmV3QXJyID0gW10pIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBuZXdBcnIucHVzaChhcnIpXG4gIH0gZWxzZSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGZsYXR0ZW5EZWVwKGFycltpXSwgbmV3QXJyKVxuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3QXJyXG59XG4iLCJjb25zdCBkZWZhdWx0Q2VsbHMgPSBjZWxsID0+IGNlbGwuZmlsdGVyKGQgPT4gZC5jb2x1bW4uaXNWaXNpYmxlKVxuXG5jb25zdCBkZWZhdWx0R2V0SGVhZGVyUHJvcHMgPSAocHJvcHMsIHsgY29sdW1uIH0pID0+ICh7XG4gIGtleTogYGhlYWRlcl8ke2NvbHVtbi5pZH1gLFxuICBjb2xTcGFuOiBjb2x1bW4udG90YWxWaXNpYmxlSGVhZGVyQ291bnQsXG4gIC4uLnByb3BzLFxufSlcblxuY29uc3QgZGVmYXVsdEdldEZvb3RlclByb3BzID0gKHByb3BzLCB7IGNvbHVtbiB9KSA9PiAoe1xuICBrZXk6IGBmb290ZXJfJHtjb2x1bW4uaWR9YCxcbiAgY29sU3BhbjogY29sdW1uLnRvdGFsVmlzaWJsZUhlYWRlckNvdW50LFxuICAuLi5wcm9wcyxcbn0pXG5cbmNvbnN0IGRlZmF1bHRHZXRIZWFkZXJHcm91cFByb3BzID0gKHByb3BzLCB7IGluZGV4IH0pID0+ICh7XG4gIGtleTogYGhlYWRlckdyb3VwXyR7aW5kZXh9YCxcbiAgLi4ucHJvcHMsXG59KVxuXG5jb25zdCBkZWZhdWx0R2V0Rm9vdGVyR3JvdXBQcm9wcyA9IChwcm9wcywgeyBpbmRleCB9KSA9PiAoe1xuICBrZXk6IGBmb290ZXJHcm91cF8ke2luZGV4fWAsXG4gIC4uLnByb3BzLFxufSlcblxuY29uc3QgZGVmYXVsdEdldFJvd1Byb3BzID0gKHByb3BzLCB7IHJvdyB9KSA9PiAoe1xuICBrZXk6IGByb3dfJHtyb3cuaWR9YCxcbiAgLi4ucHJvcHMsXG59KVxuXG5jb25zdCBkZWZhdWx0R2V0Q2VsbFByb3BzID0gKHByb3BzLCB7IGNlbGwgfSkgPT4gKHtcbiAgLi4ucHJvcHMsXG4gIGtleTogYGNlbGxfJHtjZWxsLnJvdy5pZH1fJHtjZWxsLmNvbHVtbi5pZH1gLFxufSlcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFrZURlZmF1bHRQbHVnaW5Ib29rcygpIHtcbiAgcmV0dXJuIHtcbiAgICB1c2VPcHRpb25zOiBbXSxcbiAgICBzdGF0ZVJlZHVjZXJzOiBbXSxcbiAgICB1c2VDb250cm9sbGVkU3RhdGU6IFtdLFxuICAgIGNvbHVtbnM6IFtdLFxuICAgIGNvbHVtbnNEZXBzOiBbXSxcbiAgICBmbGF0Q29sdW1uczogW10sXG4gICAgZmxhdENvbHVtbnNEZXBzOiBbXSxcbiAgICBoZWFkZXJHcm91cHM6IFtdLFxuICAgIGhlYWRlckdyb3Vwc0RlcHM6IFtdLFxuICAgIHVzZUluc3RhbmNlQmVmb3JlRGltZW5zaW9uczogW10sXG4gICAgdXNlSW5zdGFuY2U6IFtdLFxuICAgIHVzZVJvd3M6IFtdLFxuICAgIGNlbGxzOiBbZGVmYXVsdENlbGxzXSxcbiAgICBwcmVwYXJlUm93OiBbXSxcbiAgICBnZXRUYWJsZVByb3BzOiBbXSxcbiAgICBnZXRUYWJsZUJvZHlQcm9wczogW10sXG4gICAgZ2V0SGVhZGVyR3JvdXBQcm9wczogW2RlZmF1bHRHZXRIZWFkZXJHcm91cFByb3BzXSxcbiAgICBnZXRGb290ZXJHcm91cFByb3BzOiBbZGVmYXVsdEdldEZvb3Rlckdyb3VwUHJvcHNdLFxuICAgIGdldEhlYWRlclByb3BzOiBbZGVmYXVsdEdldEhlYWRlclByb3BzXSxcbiAgICBnZXRGb290ZXJQcm9wczogW2RlZmF1bHRHZXRGb290ZXJQcm9wc10sXG4gICAgZ2V0Um93UHJvcHM6IFtkZWZhdWx0R2V0Um93UHJvcHNdLFxuICAgIGdldENlbGxQcm9wczogW2RlZmF1bHRHZXRDZWxsUHJvcHNdLFxuICAgIHVzZUZpbmFsSW5zdGFuY2U6IFtdLFxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIGZ1bmN0aW9uYWxVcGRhdGUsXG4gIHVzZUdldExhdGVzdCxcbiAgdXNlQ29uc3VtZUhvb2tHZXR0ZXIsXG4gIG1ha2VQcm9wR2V0dGVyLFxufSBmcm9tICcuLi91dGlscydcblxuYWN0aW9ucy5yZXNldEhpZGRlbkNvbHVtbnMgPSAncmVzZXRIaWRkZW5Db2x1bW5zJ1xuYWN0aW9ucy50b2dnbGVIaWRlQ29sdW1uID0gJ3RvZ2dsZUhpZGVDb2x1bW4nXG5hY3Rpb25zLnNldEhpZGRlbkNvbHVtbnMgPSAnc2V0SGlkZGVuQ29sdW1ucydcbmFjdGlvbnMudG9nZ2xlSGlkZUFsbENvbHVtbnMgPSAndG9nZ2xlSGlkZUFsbENvbHVtbnMnXG5cbmV4cG9ydCBjb25zdCB1c2VDb2x1bW5WaXNpYmlsaXR5ID0gaG9va3MgPT4ge1xuICBob29rcy5nZXRUb2dnbGVIaWRkZW5Qcm9wcyA9IFtkZWZhdWx0R2V0VG9nZ2xlSGlkZGVuUHJvcHNdXG4gIGhvb2tzLmdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHMgPSBbZGVmYXVsdEdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHNdXG5cbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLnVzZUluc3RhbmNlQmVmb3JlRGltZW5zaW9ucy5wdXNoKHVzZUluc3RhbmNlQmVmb3JlRGltZW5zaW9ucylcbiAgaG9va3MuaGVhZGVyR3JvdXBzRGVwcy5wdXNoKChkZXBzLCB7IGluc3RhbmNlIH0pID0+IFtcbiAgICAuLi5kZXBzLFxuICAgIGluc3RhbmNlLnN0YXRlLmhpZGRlbkNvbHVtbnMsXG4gIF0pXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG59XG5cbnVzZUNvbHVtblZpc2liaWxpdHkucGx1Z2luTmFtZSA9ICd1c2VDb2x1bW5WaXNpYmlsaXR5J1xuXG5jb25zdCBkZWZhdWx0R2V0VG9nZ2xlSGlkZGVuUHJvcHMgPSAocHJvcHMsIHsgY29sdW1uIH0pID0+IFtcbiAgcHJvcHMsXG4gIHtcbiAgICBvbkNoYW5nZTogZSA9PiB7XG4gICAgICBjb2x1bW4udG9nZ2xlSGlkZGVuKCFlLnRhcmdldC5jaGVja2VkKVxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIH0sXG4gICAgY2hlY2tlZDogY29sdW1uLmlzVmlzaWJsZSxcbiAgICB0aXRsZTogJ1RvZ2dsZSBDb2x1bW4gVmlzaWJsZScsXG4gIH0sXG5dXG5cbmNvbnN0IGRlZmF1bHRHZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzID0gKHByb3BzLCB7IGluc3RhbmNlIH0pID0+IFtcbiAgcHJvcHMsXG4gIHtcbiAgICBvbkNoYW5nZTogZSA9PiB7XG4gICAgICBpbnN0YW5jZS50b2dnbGVIaWRlQWxsQ29sdW1ucyghZS50YXJnZXQuY2hlY2tlZClcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICB9LFxuICAgIGNoZWNrZWQ6ICFpbnN0YW5jZS5hbGxDb2x1bW5zSGlkZGVuICYmICFpbnN0YW5jZS5zdGF0ZS5oaWRkZW5Db2x1bW5zLmxlbmd0aCxcbiAgICB0aXRsZTogJ1RvZ2dsZSBBbGwgQ29sdW1ucyBIaWRkZW4nLFxuICAgIGluZGV0ZXJtaW5hdGU6XG4gICAgICAhaW5zdGFuY2UuYWxsQ29sdW1uc0hpZGRlbiAmJiBpbnN0YW5jZS5zdGF0ZS5oaWRkZW5Db2x1bW5zLmxlbmd0aCxcbiAgfSxcbl1cblxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBwcmV2aW91c1N0YXRlLCBpbnN0YW5jZSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuaW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICBoaWRkZW5Db2x1bW5zOiBbXSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldEhpZGRlbkNvbHVtbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBoaWRkZW5Db2x1bW5zOiBpbnN0YW5jZS5pbml0aWFsU3RhdGUuaGlkZGVuQ29sdW1ucyB8fCBbXSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMudG9nZ2xlSGlkZUNvbHVtbikge1xuICAgIGNvbnN0IHNob3VsZCA9XG4gICAgICB0eXBlb2YgYWN0aW9uLnZhbHVlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IGFjdGlvbi52YWx1ZVxuICAgICAgICA6ICFzdGF0ZS5oaWRkZW5Db2x1bW5zLmluY2x1ZGVzKGFjdGlvbi5jb2x1bW5JZClcblxuICAgIGNvbnN0IGhpZGRlbkNvbHVtbnMgPSBzaG91bGRcbiAgICAgID8gWy4uLnN0YXRlLmhpZGRlbkNvbHVtbnMsIGFjdGlvbi5jb2x1bW5JZF1cbiAgICAgIDogc3RhdGUuaGlkZGVuQ29sdW1ucy5maWx0ZXIoZCA9PiBkICE9PSBhY3Rpb24uY29sdW1uSWQpXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBoaWRkZW5Db2x1bW5zLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5zZXRIaWRkZW5Db2x1bW5zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgaGlkZGVuQ29sdW1uczogZnVuY3Rpb25hbFVwZGF0ZShhY3Rpb24udmFsdWUsIHN0YXRlLmhpZGRlbkNvbHVtbnMpLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy50b2dnbGVIaWRlQWxsQ29sdW1ucykge1xuICAgIGNvbnN0IHNob3VsZEFsbCA9XG4gICAgICB0eXBlb2YgYWN0aW9uLnZhbHVlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICA/IGFjdGlvbi52YWx1ZVxuICAgICAgICA6ICFzdGF0ZS5oaWRkZW5Db2x1bW5zLmxlbmd0aFxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgaGlkZGVuQ29sdW1uczogc2hvdWxkQWxsID8gaW5zdGFuY2UuZmxhdENvbHVtbnMubWFwKGQgPT4gZC5pZCkgOiBbXSxcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBoZWFkZXJzLFxuICAgIHN0YXRlOiB7IGhpZGRlbkNvbHVtbnMgfSxcbiAgfSA9IGluc3RhbmNlXG5cbiAgY29uc3QgaXNNb3VudGVkUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKVxuXG4gIGlmICghaXNNb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUNvbHVtbiA9IChjb2x1bW4sIHBhcmVudFZpc2libGUpID0+IHtcbiAgICBjb2x1bW4uaXNWaXNpYmxlID0gcGFyZW50VmlzaWJsZSAmJiAhaGlkZGVuQ29sdW1ucy5pbmNsdWRlcyhjb2x1bW4uaWQpXG5cbiAgICBsZXQgdG90YWxWaXNpYmxlSGVhZGVyQ291bnQgPSAwXG5cbiAgICBpZiAoY29sdW1uLmhlYWRlcnMgJiYgY29sdW1uLmhlYWRlcnMubGVuZ3RoKSB7XG4gICAgICBjb2x1bW4uaGVhZGVycy5mb3JFYWNoKFxuICAgICAgICBzdWJDb2x1bW4gPT5cbiAgICAgICAgICAodG90YWxWaXNpYmxlSGVhZGVyQ291bnQgKz0gaGFuZGxlQ29sdW1uKHN1YkNvbHVtbiwgY29sdW1uLmlzVmlzaWJsZSkpXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRvdGFsVmlzaWJsZUhlYWRlckNvdW50ID0gY29sdW1uLmlzVmlzaWJsZSA/IDEgOiAwXG4gICAgfVxuXG4gICAgY29sdW1uLnRvdGFsVmlzaWJsZUhlYWRlckNvdW50ID0gdG90YWxWaXNpYmxlSGVhZGVyQ291bnRcblxuICAgIHJldHVybiB0b3RhbFZpc2libGVIZWFkZXJDb3VudFxuICB9XG5cbiAgbGV0IHRvdGFsVmlzaWJsZUhlYWRlckNvdW50ID0gMFxuXG4gIGhlYWRlcnMuZm9yRWFjaChcbiAgICBzdWJIZWFkZXIgPT4gKHRvdGFsVmlzaWJsZUhlYWRlckNvdW50ICs9IGhhbmRsZUNvbHVtbihzdWJIZWFkZXIsIHRydWUpKVxuICApXG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBmbGF0SGVhZGVycyxcbiAgICBkaXNwYXRjaCxcbiAgICBmbGF0Q29sdW1ucyxcbiAgICBzdGF0ZTogeyBoaWRkZW5Db2x1bW5zIH0sXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGNvbnN0IGdldEluc3RhbmNlID0gdXNlR2V0TGF0ZXN0KGluc3RhbmNlKVxuXG4gIGNvbnN0IGFsbENvbHVtbnNIaWRkZW4gPSBmbGF0Q29sdW1ucy5sZW5ndGggPT09IGhpZGRlbkNvbHVtbnMubGVuZ3RoXG5cbiAgY29uc3QgdG9nZ2xlSGlkZUNvbHVtbiA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChjb2x1bW5JZCwgdmFsdWUpID0+XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMudG9nZ2xlSGlkZUNvbHVtbiwgY29sdW1uSWQsIHZhbHVlIH0pLFxuICAgIFtkaXNwYXRjaF1cbiAgKVxuXG4gIGNvbnN0IHNldEhpZGRlbkNvbHVtbnMgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICB2YWx1ZSA9PiBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMuc2V0SGlkZGVuQ29sdW1ucywgdmFsdWUgfSksXG4gICAgW2Rpc3BhdGNoXVxuICApXG5cbiAgY29uc3QgdG9nZ2xlSGlkZUFsbENvbHVtbnMgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICB2YWx1ZSA9PiBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMudG9nZ2xlSGlkZUFsbENvbHVtbnMsIHZhbHVlIH0pLFxuICAgIFtkaXNwYXRjaF1cbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzJ1xuICApXG5cbiAgY29uc3QgZ2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKFxuICAgIGdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHNIb29rcygpLFxuICAgIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCkgfVxuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFRvZ2dsZUhpZGRlblByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRUb2dnbGVIaWRkZW5Qcm9wcydcbiAgKVxuXG4gIGZsYXRIZWFkZXJzLmZvckVhY2goY29sdW1uID0+IHtcbiAgICBjb2x1bW4udG9nZ2xlSGlkZGVuID0gdmFsdWUgPT4ge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBhY3Rpb25zLnRvZ2dsZUhpZGVDb2x1bW4sXG4gICAgICAgIGNvbHVtbklkOiBjb2x1bW4uaWQsXG4gICAgICAgIHZhbHVlLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb2x1bW4uZ2V0VG9nZ2xlSGlkZGVuUHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRUb2dnbGVIaWRkZW5Qcm9wc0hvb2tzKCksIHtcbiAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgY29sdW1uLFxuICAgIH0pXG4gIH0pXG5cbiAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgIGFsbENvbHVtbnNIaWRkZW4sXG4gICAgdG9nZ2xlSGlkZUNvbHVtbixcbiAgICBzZXRIaWRkZW5Db2x1bW5zLFxuICAgIHRvZ2dsZUhpZGVBbGxDb2x1bW5zLFxuICAgIGdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHMsXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbi8vXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICByZWR1Y2VIb29rcyxcbiAgbG9vcEhvb2tzLFxuICBtYWtlUHJvcEdldHRlcixcbiAgbWFrZVJlbmRlcmVyLFxuICBkZWNvcmF0ZUNvbHVtblRyZWUsXG4gIG1ha2VIZWFkZXJHcm91cHMsXG4gIGZsYXR0ZW5CeSxcbiAgdXNlR2V0TGF0ZXN0LFxuICB1c2VDb25zdW1lSG9va0dldHRlcixcbn0gZnJvbSAnLi4vdXRpbHMnXG5cbmltcG9ydCBtYWtlRGVmYXVsdFBsdWdpbkhvb2tzIGZyb20gJy4uL21ha2VEZWZhdWx0UGx1Z2luSG9va3MnXG5cbmltcG9ydCB7IHVzZUNvbHVtblZpc2liaWxpdHkgfSBmcm9tICcuL3VzZUNvbHVtblZpc2liaWxpdHknXG5cbmNvbnN0IGRlZmF1bHRJbml0aWFsU3RhdGUgPSB7fVxuY29uc3QgZGVmYXVsdENvbHVtbkluc3RhbmNlID0ge31cbmNvbnN0IGRlZmF1bHRSZWR1Y2VyID0gKHN0YXRlLCBhY3Rpb24sIHByZXZTdGF0ZSkgPT4gc3RhdGVcbmNvbnN0IGRlZmF1bHRHZXRTdWJSb3dzID0gKHJvdywgaW5kZXgpID0+IHJvdy5zdWJSb3dzIHx8IFtdXG5jb25zdCBkZWZhdWx0R2V0Um93SWQgPSAocm93LCBpbmRleCwgcGFyZW50KSA9PlxuICBgJHtwYXJlbnQgPyBbcGFyZW50LmlkLCBpbmRleF0uam9pbignLicpIDogaW5kZXh9YFxuY29uc3QgZGVmYXVsdFVzZUNvbnRyb2xsZWRTdGF0ZSA9IGQgPT4gZFxuXG5mdW5jdGlvbiBhcHBseURlZmF1bHRzKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBpbml0aWFsU3RhdGUgPSBkZWZhdWx0SW5pdGlhbFN0YXRlLFxuICAgIGRlZmF1bHRDb2x1bW4gPSBkZWZhdWx0Q29sdW1uSW5zdGFuY2UsXG4gICAgZ2V0U3ViUm93cyA9IGRlZmF1bHRHZXRTdWJSb3dzLFxuICAgIGdldFJvd0lkID0gZGVmYXVsdEdldFJvd0lkLFxuICAgIHN0YXRlUmVkdWNlciA9IGRlZmF1bHRSZWR1Y2VyLFxuICAgIHVzZUNvbnRyb2xsZWRTdGF0ZSA9IGRlZmF1bHRVc2VDb250cm9sbGVkU3RhdGUsXG4gICAgLi4ucmVzdFxuICB9ID0gcHJvcHNcblxuICByZXR1cm4ge1xuICAgIC4uLnJlc3QsXG4gICAgaW5pdGlhbFN0YXRlLFxuICAgIGRlZmF1bHRDb2x1bW4sXG4gICAgZ2V0U3ViUm93cyxcbiAgICBnZXRSb3dJZCxcbiAgICBzdGF0ZVJlZHVjZXIsXG4gICAgdXNlQ29udHJvbGxlZFN0YXRlLFxuICB9XG59XG5cbmV4cG9ydCBjb25zdCB1c2VUYWJsZSA9IChwcm9wcywgLi4ucGx1Z2lucykgPT4ge1xuICAvLyBBcHBseSBkZWZhdWx0IHByb3BzXG4gIHByb3BzID0gYXBwbHlEZWZhdWx0cyhwcm9wcylcblxuICAvLyBBZGQgY29yZSBwbHVnaW5zXG4gIHBsdWdpbnMgPSBbdXNlQ29sdW1uVmlzaWJpbGl0eSwgLi4ucGx1Z2luc11cblxuICAvLyBDcmVhdGUgdGhlIHRhYmxlIGluc3RhbmNlXG4gIGxldCBpbnN0YW5jZVJlZiA9IFJlYWN0LnVzZVJlZih7fSlcblxuICAvLyBDcmVhdGUgYSBnZXR0ZXIgZm9yIHRoZSBpbnN0YW5jZSAoaGVscHMgYXZvaWQgYSBsb3Qgb2YgcG90ZW50aWFsIG1lbW9yeSBsZWFrcylcbiAgY29uc3QgZ2V0SW5zdGFuY2UgPSB1c2VHZXRMYXRlc3QoaW5zdGFuY2VSZWYuY3VycmVudClcblxuICAvLyBBc3NpZ24gdGhlIHByb3BzLCBwbHVnaW5zIGFuZCBob29rcyB0byB0aGUgaW5zdGFuY2VcbiAgT2JqZWN0LmFzc2lnbihnZXRJbnN0YW5jZSgpLCB7XG4gICAgLi4ucHJvcHMsXG4gICAgcGx1Z2lucyxcbiAgICBob29rczogbWFrZURlZmF1bHRQbHVnaW5Ib29rcygpLFxuICB9KVxuXG4gIC8vIEFsbG93IHBsdWdpbnMgdG8gcmVnaXN0ZXIgaG9va3MgYXMgZWFybHkgYXMgcG9zc2libGVcbiAgcGx1Z2lucy5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChwbHVnaW4gPT4ge1xuICAgIHBsdWdpbihnZXRJbnN0YW5jZSgpLmhvb2tzKVxuICB9KVxuXG4gIGNvbnN0IGdldFVzZU9wdGlvbnNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ3VzZU9wdGlvbnMnXG4gIClcblxuICAvLyBBbGxvdyB1c2VPcHRpb25zIGhvb2tzIHRvIG1vZGlmeSB0aGUgb3B0aW9ucyBjb21pbmcgaW50byB0aGUgdGFibGVcbiAgT2JqZWN0LmFzc2lnbihcbiAgICBnZXRJbnN0YW5jZSgpLFxuICAgIHJlZHVjZUhvb2tzKGdldFVzZU9wdGlvbnNIb29rcygpLCBhcHBseURlZmF1bHRzKHByb3BzKSlcbiAgKVxuXG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIGNvbHVtbnM6IHVzZXJDb2x1bW5zLFxuICAgIGluaXRpYWxTdGF0ZSxcbiAgICBkZWZhdWx0Q29sdW1uLFxuICAgIGdldFN1YlJvd3MsXG4gICAgZ2V0Um93SWQsXG4gICAgc3RhdGVSZWR1Y2VyLFxuICAgIHVzZUNvbnRyb2xsZWRTdGF0ZSxcbiAgfSA9IGdldEluc3RhbmNlKClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0U3RhdGVSZWR1Y2VycyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ3N0YXRlUmVkdWNlcnMnXG4gIClcblxuICAvLyBTZXR1cCB1c2VyIHJlZHVjZXIgcmVmXG4gIGNvbnN0IGdldFN0YXRlUmVkdWNlciA9IHVzZUdldExhdGVzdChzdGF0ZVJlZHVjZXIpXG5cbiAgLy8gQnVpbGQgdGhlIHJlZHVjZXJcbiAgY29uc3QgcmVkdWNlciA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChzdGF0ZSwgYWN0aW9uKSA9PiB7XG4gICAgICAvLyBEZXRlY3QgaW52YWxpZCBhY3Rpb25zXG4gICAgICBpZiAoIWFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNvbnNvbGUuaW5mbyh7IGFjdGlvbiB9KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gQWN0aW9uIPCfkYYnKVxuICAgICAgfVxuXG4gICAgICAvLyBSZWR1Y2UgdGhlIHN0YXRlIGZyb20gYWxsIHBsdWdpbiByZWR1Y2Vyc1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgLi4uZ2V0U3RhdGVSZWR1Y2VycygpLFxuICAgICAgICAvLyBBbGxvdyB0aGUgdXNlciB0byBhZGQgdGhlaXIgb3duIHN0YXRlIHJlZHVjZXIocylcbiAgICAgICAgLi4uKEFycmF5LmlzQXJyYXkoZ2V0U3RhdGVSZWR1Y2VyKCkpXG4gICAgICAgICAgPyBnZXRTdGF0ZVJlZHVjZXIoKVxuICAgICAgICAgIDogW2dldFN0YXRlUmVkdWNlcigpXSksXG4gICAgICBdLnJlZHVjZShcbiAgICAgICAgKHMsIGhhbmRsZXIpID0+IGhhbmRsZXIocywgYWN0aW9uLCBzdGF0ZSwgZ2V0SW5zdGFuY2UoKSkgfHwgcyxcbiAgICAgICAgc3RhdGVcbiAgICAgIClcbiAgICB9LFxuICAgIFtnZXRTdGF0ZVJlZHVjZXJzLCBnZXRTdGF0ZVJlZHVjZXIsIGdldEluc3RhbmNlXVxuICApXG5cbiAgLy8gU3RhcnQgdGhlIHJlZHVjZXJcbiAgY29uc3QgW3JlZHVjZXJTdGF0ZSwgZGlzcGF0Y2hdID0gUmVhY3QudXNlUmVkdWNlcihyZWR1Y2VyLCB1bmRlZmluZWQsICgpID0+XG4gICAgcmVkdWNlcihpbml0aWFsU3RhdGUsIHsgdHlwZTogYWN0aW9ucy5pbml0IH0pXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VXNlQ29udHJvbGxlZFN0YXRlSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICd1c2VDb250cm9sbGVkU3RhdGUnXG4gIClcblxuICAvLyBBbGxvdyB0aGUgdXNlciB0byBjb250cm9sIHRoZSBmaW5hbCBzdGF0ZSB3aXRoIGhvb2tzXG4gIGNvbnN0IHN0YXRlID0gcmVkdWNlSG9va3MoXG4gICAgWy4uLmdldFVzZUNvbnRyb2xsZWRTdGF0ZUhvb2tzKCksIHVzZUNvbnRyb2xsZWRTdGF0ZV0sXG4gICAgcmVkdWNlclN0YXRlLFxuICAgIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCkgfVxuICApXG5cbiAgT2JqZWN0LmFzc2lnbihnZXRJbnN0YW5jZSgpLCB7XG4gICAgc3RhdGUsXG4gICAgZGlzcGF0Y2gsXG4gIH0pXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldENvbHVtbnNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKGdldEluc3RhbmNlKCkuaG9va3MsICdjb2x1bW5zJylcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0Q29sdW1uc0RlcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2NvbHVtbnNEZXBzJ1xuICApXG5cbiAgLy8gRGVjb3JhdGUgQWxsIHRoZSBjb2x1bW5zXG4gIGxldCBjb2x1bW5zID0gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgZGVjb3JhdGVDb2x1bW5UcmVlKFxuICAgICAgICByZWR1Y2VIb29rcyhnZXRDb2x1bW5zSG9va3MoKSwgdXNlckNvbHVtbnMsIHtcbiAgICAgICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgfSksXG4gICAgICAgIGRlZmF1bHRDb2x1bW5cbiAgICAgICksXG4gICAgW1xuICAgICAgZGVmYXVsdENvbHVtbixcbiAgICAgIGdldENvbHVtbnNIb29rcyxcbiAgICAgIGdldEluc3RhbmNlLFxuICAgICAgdXNlckNvbHVtbnMsXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgICAuLi5yZWR1Y2VIb29rcyhnZXRDb2x1bW5zRGVwc0hvb2tzKCksIFtdLCB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpIH0pLFxuICAgIF1cbiAgKVxuXG4gIGdldEluc3RhbmNlKCkuY29sdW1ucyA9IGNvbHVtbnNcblxuICAvLyBHZXQgdGhlIGZsYXQgbGlzdCBvZiBhbGwgY29sdW1ucyBhbmQgYWxsb3cgaG9va3MgdG8gZGVjb3JhdGVcbiAgLy8gdGhvc2UgY29sdW1ucyAoYW5kIHRyaWdnZXIgdGhpcyBtZW1vaXphdGlvbiB2aWEgZGVwcylcbiAgbGV0IGZsYXRDb2x1bW5zID0gUmVhY3QudXNlTWVtbygoKSA9PiBmbGF0dGVuQnkoY29sdW1ucywgJ2NvbHVtbnMnKSwgW1xuICAgIGNvbHVtbnMsXG4gIF0pXG5cbiAgZ2V0SW5zdGFuY2UoKS5mbGF0Q29sdW1ucyA9IGZsYXRDb2x1bW5zXG5cbiAgLy8gQWNjZXNzIHRoZSByb3cgbW9kZWxcbiAgY29uc3QgW3Jvd3MsIGZsYXRSb3dzXSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBmbGF0Um93cyA9IFtdXG5cbiAgICAvLyBBY2Nlc3MgdGhlIHJvdydzIGRhdGFcbiAgICBjb25zdCBhY2Nlc3NSb3cgPSAob3JpZ2luYWxSb3csIGksIGRlcHRoID0gMCwgcGFyZW50KSA9PiB7XG4gICAgICAvLyBLZWVwIHRoZSBvcmlnaW5hbCByZWZlcmVuY2UgYXJvdW5kXG4gICAgICBjb25zdCBvcmlnaW5hbCA9IG9yaWdpbmFsUm93XG5cbiAgICAgIGNvbnN0IGlkID0gZ2V0Um93SWQob3JpZ2luYWxSb3csIGksIHBhcmVudClcblxuICAgICAgY29uc3Qgcm93ID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgb3JpZ2luYWwsXG4gICAgICAgIGluZGV4OiBpLFxuICAgICAgICBkZXB0aCxcbiAgICAgICAgY2VsbHM6IFt7fV0sIC8vIFRoaXMgaXMgYSBkdW1teSBjZWxsXG4gICAgICB9XG5cbiAgICAgIGZsYXRSb3dzLnB1c2gocm93KVxuXG4gICAgICAvLyBQcm9jZXNzIGFueSBzdWJSb3dzXG4gICAgICBsZXQgc3ViUm93cyA9IGdldFN1YlJvd3Mob3JpZ2luYWxSb3csIGkpXG5cbiAgICAgIGlmIChzdWJSb3dzKSB7XG4gICAgICAgIHJvdy5zdWJSb3dzID0gc3ViUm93cy5tYXAoKGQsIGkpID0+IGFjY2Vzc1JvdyhkLCBpLCBkZXB0aCArIDEsIHJvdykpXG4gICAgICB9XG5cbiAgICAgIC8vIE92ZXJyaWRlIGNvbW1vbiBhcnJheSBmdW5jdGlvbnMgKGFuZCB0aGUgZHVtbXkgY2VsbCdzIGdldENlbGxQcm9wcyBmdW5jdGlvbilcbiAgICAgIC8vIHRvIHNob3cgYW4gZXJyb3IgaWYgaXQgaXMgYWNjZXNzZWQgd2l0aG91dCBjYWxsaW5nIHByZXBhcmVSb3dcbiAgICAgIGNvbnN0IHVucHJlcGFyZWRBY2Nlc3NXYXJuaW5nID0gKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlYWN0LVRhYmxlOiBZb3UgaGF2ZSBub3QgY2FsbGVkIHByZXBhcmVSb3cocm93KSBvbmUgb3IgbW9yZSByb3dzIHlvdSBhcmUgYXR0ZW1wdGluZyB0byByZW5kZXIuJ1xuICAgICAgICApXG4gICAgICB9XG4gICAgICByb3cuY2VsbHMubWFwID0gdW5wcmVwYXJlZEFjY2Vzc1dhcm5pbmdcbiAgICAgIHJvdy5jZWxscy5maWx0ZXIgPSB1bnByZXBhcmVkQWNjZXNzV2FybmluZ1xuICAgICAgcm93LmNlbGxzLmZvckVhY2ggPSB1bnByZXBhcmVkQWNjZXNzV2FybmluZ1xuICAgICAgcm93LmNlbGxzWzBdLmdldENlbGxQcm9wcyA9IHVucHJlcGFyZWRBY2Nlc3NXYXJuaW5nXG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgY2VsbHMgYW5kIHZhbHVlc1xuICAgICAgcm93LnZhbHVlcyA9IHt9XG4gICAgICBmbGF0Q29sdW1ucy5mb3JFYWNoKCh7IGlkLCBhY2Nlc3NvciB9KSA9PiB7XG4gICAgICAgIHJvdy52YWx1ZXNbaWRdID0gYWNjZXNzb3JcbiAgICAgICAgICA/IGFjY2Vzc29yKG9yaWdpbmFsUm93LCBpLCB7IHN1YlJvd3MsIGRlcHRoLCBkYXRhIH0pXG4gICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiByb3dcbiAgICB9XG5cbiAgICAvLyBVc2UgdGhlIHJlc29sdmVkIGRhdGFcbiAgICBjb25zdCBhY2Nlc3NlZERhdGEgPSBkYXRhLm1hcCgoZCwgaSkgPT4gYWNjZXNzUm93KGQsIGkpKVxuXG4gICAgcmV0dXJuIFthY2Nlc3NlZERhdGEsIGZsYXRSb3dzXVxuICB9LCBbZGF0YSwgZmxhdENvbHVtbnMsIGdldFJvd0lkLCBnZXRTdWJSb3dzXSlcblxuICBnZXRJbnN0YW5jZSgpLnJvd3MgPSByb3dzXG4gIGdldEluc3RhbmNlKCkuZmxhdFJvd3MgPSBmbGF0Um93c1xuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBmbGF0Q29sdW1uc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZmxhdENvbHVtbnMnXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZmxhdENvbHVtbnNEZXBzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdmbGF0Q29sdW1uc0RlcHMnXG4gIClcblxuICAvLyBHZXQgdGhlIGZsYXQgbGlzdCBvZiBhbGwgY29sdW1ucyBBRlRFUiB0aGUgcm93c1xuICAvLyBoYXZlIGJlZW4gYWNjZXNzLCBhbmQgYWxsb3cgaG9va3MgdG8gZGVjb3JhdGVcbiAgLy8gdGhvc2UgY29sdW1ucyAoYW5kIHRyaWdnZXIgdGhpcyBtZW1vaXphdGlvbiB2aWEgZGVwcylcbiAgZmxhdENvbHVtbnMgPSBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+XG4gICAgICByZWR1Y2VIb29rcyhmbGF0Q29sdW1uc0hvb2tzKCksIGZsYXRDb2x1bW5zLCB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpIH0pLFxuICAgIFtcbiAgICAgIGZsYXRDb2x1bW5zLFxuICAgICAgZmxhdENvbHVtbnNIb29rcyxcbiAgICAgIGdldEluc3RhbmNlLFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgICAgLi4ucmVkdWNlSG9va3MoZmxhdENvbHVtbnNEZXBzSG9va3MoKSwgW10sIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCkgfSksXG4gICAgXVxuICApXG5cbiAgZ2V0SW5zdGFuY2UoKS5mbGF0Q29sdW1ucyA9IGZsYXRDb2x1bW5zXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldEhlYWRlckdyb3VwcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2hlYWRlckdyb3VwcydcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRIZWFkZXJHcm91cHNEZXBzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnaGVhZGVyR3JvdXBzRGVwcydcbiAgKVxuXG4gIC8vIE1ha2UgdGhlIGhlYWRlckdyb3Vwc1xuICBjb25zdCBoZWFkZXJHcm91cHMgPSBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+XG4gICAgICByZWR1Y2VIb29rcyhcbiAgICAgICAgZ2V0SGVhZGVyR3JvdXBzKCksXG4gICAgICAgIG1ha2VIZWFkZXJHcm91cHMoZmxhdENvbHVtbnMsIGRlZmF1bHRDb2x1bW4pLFxuICAgICAgICBnZXRJbnN0YW5jZSgpXG4gICAgICApLFxuICAgIFtcbiAgICAgIGRlZmF1bHRDb2x1bW4sXG4gICAgICBmbGF0Q29sdW1ucyxcbiAgICAgIGdldEhlYWRlckdyb3VwcyxcbiAgICAgIGdldEluc3RhbmNlLFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgICAgLi4ucmVkdWNlSG9va3MoZ2V0SGVhZGVyR3JvdXBzRGVwcygpLCBbXSwgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSB9KSxcbiAgICBdXG4gIClcblxuICBnZXRJbnN0YW5jZSgpLmhlYWRlckdyb3VwcyA9IGhlYWRlckdyb3Vwc1xuXG4gIGNvbnN0IGhlYWRlcnMgPSBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+IChoZWFkZXJHcm91cHMubGVuZ3RoID8gaGVhZGVyR3JvdXBzWzBdLmhlYWRlcnMgOiBbXSksXG4gICAgW2hlYWRlckdyb3Vwc11cbiAgKVxuXG4gIGdldEluc3RhbmNlKCkuaGVhZGVycyA9IGhlYWRlcnNcblxuICAvLyBQcm92aWRlIGEgZmxhdCBoZWFkZXIgbGlzdCBmb3IgdXRpbGl0aWVzXG4gIGdldEluc3RhbmNlKCkuZmxhdEhlYWRlcnMgPSBoZWFkZXJHcm91cHMucmVkdWNlKFxuICAgIChhbGwsIGhlYWRlckdyb3VwKSA9PiBbLi4uYWxsLCAuLi5oZWFkZXJHcm91cC5oZWFkZXJzXSxcbiAgICBbXVxuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFVzZUluc3RhbmNlQmVmb3JlRGltZW5zaW9ucyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ3VzZUluc3RhbmNlQmVmb3JlRGltZW5zaW9ucydcbiAgKVxuXG4gIGxvb3BIb29rcyhnZXRVc2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMoKSwgZ2V0SW5zdGFuY2UoKSlcblxuICAvLyBIZWFkZXIgVmlzaWJpbGl0eSBpcyBuZWVkZWQgYnkgdGhpcyBwb2ludFxuICBjb25zdCBbXG4gICAgdG90YWxDb2x1bW5zTWluV2lkdGgsXG4gICAgdG90YWxDb2x1bW5zV2lkdGgsXG4gICAgdG90YWxDb2x1bW5zTWF4V2lkdGgsXG4gIF0gPSBjYWxjdWxhdGVIZWFkZXJXaWR0aHMoaGVhZGVycylcblxuICBnZXRJbnN0YW5jZSgpLnRvdGFsQ29sdW1uc01pbldpZHRoID0gdG90YWxDb2x1bW5zTWluV2lkdGhcbiAgZ2V0SW5zdGFuY2UoKS50b3RhbENvbHVtbnNXaWR0aCA9IHRvdGFsQ29sdW1uc1dpZHRoXG4gIGdldEluc3RhbmNlKCkudG90YWxDb2x1bW5zTWF4V2lkdGggPSB0b3RhbENvbHVtbnNNYXhXaWR0aFxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRVc2VJbnN0YW5jZSA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ3VzZUluc3RhbmNlJ1xuICApXG5cbiAgbG9vcEhvb2tzKGdldFVzZUluc3RhbmNlKCksIGdldEluc3RhbmNlKCkpXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldEhlYWRlclByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRIZWFkZXJQcm9wcydcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRGb290ZXJQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0Rm9vdGVyUHJvcHMnXG4gIClcblxuICAvLyBFYWNoIG1hdGVyaWFsaXplZCBoZWFkZXIgbmVlZHMgdG8gYmUgYXNzaWduZWQgYSByZW5kZXIgZnVuY3Rpb24gYW5kIG90aGVyXG4gIC8vIHByb3AgZ2V0dGVyIHByb3BlcnRpZXMgaGVyZS5cbiAgO1suLi5nZXRJbnN0YW5jZSgpLmZsYXRIZWFkZXJzLCAuLi5nZXRJbnN0YW5jZSgpLmZsYXRDb2x1bW5zXS5mb3JFYWNoKFxuICAgIGNvbHVtbiA9PiB7XG4gICAgICAvLyBHaXZlIGNvbHVtbnMvaGVhZGVycyByZW5kZXJpbmcgcG93ZXJcbiAgICAgIGNvbHVtbi5yZW5kZXIgPSBtYWtlUmVuZGVyZXIoZ2V0SW5zdGFuY2UoKSwgY29sdW1uKVxuXG4gICAgICAvLyBHaXZlIGNvbHVtbnMvaGVhZGVycyBhIGRlZmF1bHQgZ2V0SGVhZGVyUHJvcHNcbiAgICAgIGNvbHVtbi5nZXRIZWFkZXJQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldEhlYWRlclByb3BzSG9va3MoKSwge1xuICAgICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgY29sdW1uLFxuICAgICAgfSlcblxuICAgICAgLy8gR2l2ZSBjb2x1bW5zL2hlYWRlcnMgYSBkZWZhdWx0IGdldEZvb3RlclByb3BzXG4gICAgICBjb2x1bW4uZ2V0Rm9vdGVyUHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRGb290ZXJQcm9wc0hvb2tzKCksIHtcbiAgICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICAgIGNvbHVtbixcbiAgICAgIH0pXG4gICAgfVxuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldEhlYWRlckdyb3VwUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldEhlYWRlckdyb3VwUHJvcHMnXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0Rm9vdGVyR3JvdXBQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0Rm9vdGVyR3JvdXBQcm9wcydcbiAgKVxuXG4gIGdldEluc3RhbmNlKCkuaGVhZGVyR3JvdXBzID0gZ2V0SW5zdGFuY2UoKS5oZWFkZXJHcm91cHMuZmlsdGVyKFxuICAgIChoZWFkZXJHcm91cCwgaSkgPT4ge1xuICAgICAgLy8gRmlsdGVyIG91dCBhbnkgaGVhZGVycyBhbmQgaGVhZGVyR3JvdXBzIHRoYXQgZG9uJ3QgaGF2ZSB2aXNpYmxlIGNvbHVtbnNcbiAgICAgIGhlYWRlckdyb3VwLmhlYWRlcnMgPSBoZWFkZXJHcm91cC5oZWFkZXJzLmZpbHRlcihjb2x1bW4gPT4ge1xuICAgICAgICBjb25zdCByZWN1cnNlID0gaGVhZGVycyA9PlxuICAgICAgICAgIGhlYWRlcnMuZmlsdGVyKGNvbHVtbiA9PiB7XG4gICAgICAgICAgICBpZiAoY29sdW1uLmhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2UoY29sdW1uLmhlYWRlcnMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29sdW1uLmlzVmlzaWJsZVxuICAgICAgICAgIH0pLmxlbmd0aFxuICAgICAgICBpZiAoY29sdW1uLmhlYWRlcnMpIHtcbiAgICAgICAgICByZXR1cm4gcmVjdXJzZShjb2x1bW4uaGVhZGVycylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sdW1uLmlzVmlzaWJsZVxuICAgICAgfSlcblxuICAgICAgLy8gR2l2ZSBoZWFkZXJHcm91cHMgZ2V0Um93UHJvcHNcbiAgICAgIGlmIChoZWFkZXJHcm91cC5oZWFkZXJzLmxlbmd0aCkge1xuICAgICAgICBoZWFkZXJHcm91cC5nZXRIZWFkZXJHcm91cFByb3BzID0gbWFrZVByb3BHZXR0ZXIoXG4gICAgICAgICAgZ2V0SGVhZGVyR3JvdXBQcm9wc0hvb2tzKCksXG4gICAgICAgICAgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSwgaGVhZGVyR3JvdXAsIGluZGV4OiBpIH1cbiAgICAgICAgKVxuXG4gICAgICAgIGhlYWRlckdyb3VwLmdldEZvb3Rlckdyb3VwUHJvcHMgPSBtYWtlUHJvcEdldHRlcihcbiAgICAgICAgICBnZXRGb290ZXJHcm91cFByb3BzSG9va3MoKSxcbiAgICAgICAgICB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLCBoZWFkZXJHcm91cCwgaW5kZXg6IGkgfVxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICApXG5cbiAgZ2V0SW5zdGFuY2UoKS5mb290ZXJHcm91cHMgPSBbLi4uZ2V0SW5zdGFuY2UoKS5oZWFkZXJHcm91cHNdLnJldmVyc2UoKVxuXG4gIC8vIFJ1biB0aGUgcm93cyAodGhpcyBjb3VsZCBiZSBhIGRhbmdlcm91cyBob29rIHdpdGggYSB0b24gb2YgZGF0YSlcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VXNlUm93c0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoZ2V0SW5zdGFuY2UoKS5ob29rcywgJ3VzZVJvd3MnKVxuXG4gIGdldEluc3RhbmNlKCkucm93cyA9IHJlZHVjZUhvb2tzKGdldFVzZVJvd3NIb29rcygpLCBnZXRJbnN0YW5jZSgpLnJvd3MsIHtcbiAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgfSlcblxuICAvLyBUaGUgcHJlcGFyZVJvdyBmdW5jdGlvbiBpcyBhYnNvbHV0ZWx5IG5lY2Vzc2FyeSBhbmQgTVVTVCBiZSBjYWxsZWQgb25cbiAgLy8gYW55IHJvd3MgdGhlIHVzZXIgd2lzaGVzIHRvIGJlIGRpc3BsYXllZC5cblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0UHJlcGFyZVJvd0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAncHJlcGFyZVJvdydcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRSb3dQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0Um93UHJvcHMnXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0Q2VsbFByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRDZWxsUHJvcHMnXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgY2VsbHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKGdldEluc3RhbmNlKCkuaG9va3MsICdjZWxscycpXG5cbiAgZ2V0SW5zdGFuY2UoKS5wcmVwYXJlUm93ID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgcm93ID0+IHtcbiAgICAgIHJvdy5nZXRSb3dQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldFJvd1Byb3BzSG9va3MoKSwge1xuICAgICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgcm93LFxuICAgICAgfSlcblxuICAgICAgLy8gQnVpbGQgdGhlIHZpc2libGUgY2VsbHMgZm9yIGVhY2ggcm93XG4gICAgICByb3cuYWxsQ2VsbHMgPSBmbGF0Q29sdW1ucy5tYXAoY29sdW1uID0+IHtcbiAgICAgICAgY29uc3QgY2VsbCA9IHtcbiAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICAgcm93LFxuICAgICAgICAgIHZhbHVlOiByb3cudmFsdWVzW2NvbHVtbi5pZF0sXG4gICAgICAgIH1cblxuICAgICAgICAvLyBHaXZlIGVhY2ggY2VsbCBhIGdldENlbGxQcm9wcyBiYXNlXG4gICAgICAgIGNlbGwuZ2V0Q2VsbFByb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0Q2VsbFByb3BzSG9va3MoKSwge1xuICAgICAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgICAgIGNlbGwsXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gR2l2ZSBlYWNoIGNlbGwgYSByZW5kZXJlciBmdW5jdGlvbiAoc3VwcG9ydHMgbXVsdGlwbGUgcmVuZGVyZXJzKVxuICAgICAgICBjZWxsLnJlbmRlciA9IG1ha2VSZW5kZXJlcihnZXRJbnN0YW5jZSgpLCBjb2x1bW4sIHtcbiAgICAgICAgICByb3csXG4gICAgICAgICAgY2VsbCxcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gY2VsbFxuICAgICAgfSlcblxuICAgICAgcm93LmNlbGxzID0gcmVkdWNlSG9va3MoY2VsbHNIb29rcygpLCByb3cuYWxsQ2VsbHMsIHtcbiAgICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICB9KVxuXG4gICAgICAvLyBuZWVkIHRvIGFwcGx5IGFueSByb3cgc3BlY2lmaWMgaG9va3MgKHVzZUV4cGFuZGVkIHJlcXVpcmVzIHRoaXMpXG4gICAgICBsb29wSG9va3MoZ2V0UHJlcGFyZVJvd0hvb2tzKCksIHJvdywgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSB9KVxuICAgIH0sXG4gICAgW1xuICAgICAgZ2V0Um93UHJvcHNIb29rcyxcbiAgICAgIGdldEluc3RhbmNlLFxuICAgICAgZmxhdENvbHVtbnMsXG4gICAgICBjZWxsc0hvb2tzLFxuICAgICAgZ2V0UHJlcGFyZVJvd0hvb2tzLFxuICAgICAgZ2V0Q2VsbFByb3BzSG9va3MsXG4gICAgXVxuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFRhYmxlUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldFRhYmxlUHJvcHMnXG4gIClcblxuICBnZXRJbnN0YW5jZSgpLmdldFRhYmxlUHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRUYWJsZVByb3BzSG9va3MoKSwge1xuICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICB9KVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRUYWJsZUJvZHlQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0VGFibGVCb2R5UHJvcHMnXG4gIClcblxuICBnZXRJbnN0YW5jZSgpLmdldFRhYmxlQm9keVByb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0VGFibGVCb2R5UHJvcHNIb29rcygpLCB7XG4gICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gIH0pXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFVzZUZpbmFsSW5zdGFuY2VIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ3VzZUZpbmFsSW5zdGFuY2UnXG4gIClcblxuICBsb29wSG9va3MoZ2V0VXNlRmluYWxJbnN0YW5jZUhvb2tzKCksIGdldEluc3RhbmNlKCkpXG5cbiAgcmV0dXJuIGdldEluc3RhbmNlKClcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlSGVhZGVyV2lkdGhzKGhlYWRlcnMsIGxlZnQgPSAwKSB7XG4gIGxldCBzdW1Ub3RhbE1pbldpZHRoID0gMFxuICBsZXQgc3VtVG90YWxXaWR0aCA9IDBcbiAgbGV0IHN1bVRvdGFsTWF4V2lkdGggPSAwXG5cbiAgaGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiB7XG4gICAgbGV0IHsgaGVhZGVyczogc3ViSGVhZGVycyB9ID0gaGVhZGVyXG5cbiAgICBoZWFkZXIudG90YWxMZWZ0ID0gbGVmdFxuXG4gICAgaWYgKHN1YkhlYWRlcnMgJiYgc3ViSGVhZGVycy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IFt0b3RhbE1pbldpZHRoLCB0b3RhbFdpZHRoLCB0b3RhbE1heFdpZHRoXSA9IGNhbGN1bGF0ZUhlYWRlcldpZHRocyhcbiAgICAgICAgc3ViSGVhZGVycyxcbiAgICAgICAgbGVmdFxuICAgICAgKVxuICAgICAgaGVhZGVyLnRvdGFsTWluV2lkdGggPSB0b3RhbE1pbldpZHRoXG4gICAgICBoZWFkZXIudG90YWxXaWR0aCA9IHRvdGFsV2lkdGhcbiAgICAgIGhlYWRlci50b3RhbE1heFdpZHRoID0gdG90YWxNYXhXaWR0aFxuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkZXIudG90YWxNaW5XaWR0aCA9IGhlYWRlci5taW5XaWR0aFxuICAgICAgaGVhZGVyLnRvdGFsV2lkdGggPSBNYXRoLm1pbihcbiAgICAgICAgTWF0aC5tYXgoaGVhZGVyLm1pbldpZHRoLCBoZWFkZXIud2lkdGgpLFxuICAgICAgICBoZWFkZXIubWF4V2lkdGhcbiAgICAgIClcbiAgICAgIGhlYWRlci50b3RhbE1heFdpZHRoID0gaGVhZGVyLm1heFdpZHRoXG4gICAgfVxuICAgIGlmIChoZWFkZXIuaXNWaXNpYmxlKSB7XG4gICAgICBsZWZ0ICs9IGhlYWRlci50b3RhbFdpZHRoXG4gICAgICBzdW1Ub3RhbE1pbldpZHRoICs9IGhlYWRlci50b3RhbE1pbldpZHRoXG4gICAgICBzdW1Ub3RhbFdpZHRoICs9IGhlYWRlci50b3RhbFdpZHRoXG4gICAgICBzdW1Ub3RhbE1heFdpZHRoICs9IGhlYWRlci50b3RhbE1heFdpZHRoXG4gICAgfVxuICB9KVxuXG4gIHJldHVybiBbc3VtVG90YWxNaW5XaWR0aCwgc3VtVG90YWxXaWR0aCwgc3VtVG90YWxNYXhXaWR0aF1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgbWFrZVByb3BHZXR0ZXIsXG4gIGV4cGFuZFJvd3MsXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QsXG4gIHVzZUdldExhdGVzdCxcbn0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgeyB1c2VDb25zdW1lSG9va0dldHRlciwgZnVuY3Rpb25hbFVwZGF0ZSB9IGZyb20gJy4uL3B1YmxpY1V0aWxzJ1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnRvZ2dsZUV4cGFuZGVkID0gJ3RvZ2dsZUV4cGFuZGVkJ1xuYWN0aW9ucy50b2dnbGVBbGxFeHBhbmRlZCA9ICd0b2dnbGVBbGxFeHBhbmRlZCdcbmFjdGlvbnMuc2V0RXhwYW5kZWQgPSAnc2V0RXhwYW5kZWQnXG5hY3Rpb25zLnJlc2V0RXhwYW5kZWQgPSAncmVzZXRFeHBhbmRlZCdcblxuZXhwb3J0IGNvbnN0IHVzZUV4cGFuZGVkID0gaG9va3MgPT4ge1xuICBob29rcy5nZXRFeHBhbmRlZFRvZ2dsZVByb3BzID0gW2RlZmF1bHRHZXRFeHBhbmRlZFRvZ2dsZVByb3BzXVxuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlRXhwYW5kZWQucGx1Z2luTmFtZSA9ICd1c2VFeHBhbmRlZCdcblxuY29uc3QgZGVmYXVsdEdldEV4cGFuZGVkVG9nZ2xlUHJvcHMgPSAocHJvcHMsIHsgcm93IH0pID0+IFtcbiAgcHJvcHMsXG4gIHtcbiAgICBvbkNsaWNrOiBlID0+IHtcbiAgICAgIGUucGVyc2lzdCgpXG4gICAgICByb3cudG9nZ2xlRXhwYW5kZWQoKVxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIH0sXG4gICAgdGl0bGU6ICdUb2dnbGUgRXhwYW5kZWQnLFxuICB9LFxuXVxuXG4vLyBSZWR1Y2VyXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV4cGFuZGVkOiB7fSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldEV4cGFuZGVkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgZXhwYW5kZWQ6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5leHBhbmRlZCB8fCB7fSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuc2V0RXhwYW5kZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBleHBhbmRlZDogZnVuY3Rpb25hbFVwZGF0ZShhY3Rpb24uZXhwYW5kZWQsIHN0YXRlLmV4cGFuZGVkKSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMudG9nZ2xlRXhwYW5kZWQpIHtcbiAgICBjb25zdCB7IGlkLCBleHBhbmRlZDogc2V0RXhwYW5kZWQgfSA9IGFjdGlvblxuICAgIGNvbnN0IGV4aXN0cyA9IHN0YXRlLmV4cGFuZGVkW2lkXVxuXG4gICAgY29uc3Qgc2hvdWxkRXhpc3QgPVxuICAgICAgdHlwZW9mIHNldEV4cGFuZGVkICE9PSAndW5kZWZpbmVkJyA/IHNldEV4cGFuZGVkIDogIWV4aXN0c1xuXG4gICAgaWYgKCFleGlzdHMgJiYgc2hvdWxkRXhpc3QpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBleHBhbmRlZDoge1xuICAgICAgICAgIC4uLnN0YXRlLmV4cGFuZGVkLFxuICAgICAgICAgIFtpZF06IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChleGlzdHMgJiYgIXNob3VsZEV4aXN0KSB7XG4gICAgICBjb25zdCB7IFtpZF06IF8sIC4uLnJlc3QgfSA9IHN0YXRlLmV4cGFuZGVkXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZXhwYW5kZWQ6IHJlc3QsXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdGF0ZVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICByb3dzLFxuICAgIG1hbnVhbEV4cGFuZGVkS2V5ID0gJ2V4cGFuZGVkJyxcbiAgICBwYWdpbmF0ZUV4cGFuZGVkUm93cyA9IHRydWUsXG4gICAgZXhwYW5kU3ViUm93cyA9IHRydWUsXG4gICAgaG9va3MsXG4gICAgYXV0b1Jlc2V0RXhwYW5kZWQgPSB0cnVlLFxuICAgIHN0YXRlOiB7IGV4cGFuZGVkIH0sXG4gICAgZGlzcGF0Y2gsXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGNvbnN0IGdldEF1dG9SZXNldEV4cGFuZGVkID0gdXNlR2V0TGF0ZXN0KGF1dG9SZXNldEV4cGFuZGVkKVxuXG4gIC8vIEJ5cGFzcyBhbnkgZWZmZWN0cyBmcm9tIGZpcmluZyB3aGVuIHRoaXMgY2hhbmdlc1xuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2V0QXV0b1Jlc2V0RXhwYW5kZWQoKSkge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnJlc2V0RXhwYW5kZWQgfSlcbiAgICB9XG4gIH0sIFtkaXNwYXRjaCwgZGF0YV0pXG5cbiAgY29uc3QgdG9nZ2xlRXhwYW5kZWQgPSAoaWQsIGV4cGFuZGVkKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnRvZ2dsZUV4cGFuZGVkLCBpZCwgZXhwYW5kZWQgfSlcbiAgfVxuXG4gIC8vIHVzZSByZWZlcmVuY2UgdG8gYXZvaWQgbWVtb3J5IGxlYWsgaW4gIzE2MDhcbiAgY29uc3QgZ2V0SW5zdGFuY2UgPSB1c2VHZXRMYXRlc3QoaW5zdGFuY2UpXG5cbiAgY29uc3QgZ2V0RXhwYW5kZWRUb2dnbGVQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0RXhwYW5kZWRUb2dnbGVQcm9wcydcbiAgKVxuXG4gIGhvb2tzLnByZXBhcmVSb3cucHVzaChyb3cgPT4ge1xuICAgIHJvdy50b2dnbGVFeHBhbmRlZCA9IHNldCA9PiBpbnN0YW5jZS50b2dnbGVFeHBhbmRlZChyb3cuaWQsIHNldClcblxuICAgIHJvdy5nZXRFeHBhbmRlZFRvZ2dsZVByb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0RXhwYW5kZWRUb2dnbGVQcm9wc0hvb2tzKCksIHtcbiAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgcm93LFxuICAgIH0pXG4gIH0pXG5cbiAgY29uc3QgZXhwYW5kZWRSb3dzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHBhZ2luYXRlRXhwYW5kZWRSb3dzKSB7XG4gICAgICByZXR1cm4gZXhwYW5kUm93cyhyb3dzLCB7IG1hbnVhbEV4cGFuZGVkS2V5LCBleHBhbmRlZCwgZXhwYW5kU3ViUm93cyB9KVxuICAgIH1cblxuICAgIHJldHVybiByb3dzXG4gIH0sIFtwYWdpbmF0ZUV4cGFuZGVkUm93cywgcm93cywgbWFudWFsRXhwYW5kZWRLZXksIGV4cGFuZGVkLCBleHBhbmRTdWJSb3dzXSlcblxuICBjb25zdCBleHBhbmRlZERlcHRoID0gUmVhY3QudXNlTWVtbygoKSA9PiBmaW5kRXhwYW5kZWREZXB0aChleHBhbmRlZCksIFtcbiAgICBleHBhbmRlZCxcbiAgXSlcblxuICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgcHJlRXhwYW5kZWRSb3dzOiByb3dzLFxuICAgIGV4cGFuZGVkUm93cyxcbiAgICByb3dzOiBleHBhbmRlZFJvd3MsXG4gICAgdG9nZ2xlRXhwYW5kZWQsXG4gICAgZXhwYW5kZWREZXB0aCxcbiAgfSlcbn1cblxuZnVuY3Rpb24gZmluZEV4cGFuZGVkRGVwdGgoZXhwYW5kZWQpIHtcbiAgbGV0IG1heERlcHRoID0gMFxuXG4gIE9iamVjdC5rZXlzKGV4cGFuZGVkKS5mb3JFYWNoKGlkID0+IHtcbiAgICBjb25zdCBzcGxpdElkID0gaWQuc3BsaXQoJy4nKVxuICAgIG1heERlcHRoID0gTWF0aC5tYXgobWF4RGVwdGgsIHNwbGl0SWQubGVuZ3RoKVxuICB9KVxuXG4gIHJldHVybiBtYXhEZXB0aFxufVxuIiwiZXhwb3J0IGNvbnN0IHRleHQgPSAocm93cywgaWRzLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICByb3dzID0gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgcmV0dXJuIFN0cmluZyhyb3dWYWx1ZSlcbiAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLmluY2x1ZGVzKFN0cmluZyhmaWx0ZXJWYWx1ZSkudG9Mb3dlckNhc2UoKSlcbiAgICB9KVxuICB9KVxuICByZXR1cm4gcm93c1xufVxuXG50ZXh0LmF1dG9SZW1vdmUgPSB2YWwgPT4gIXZhbFxuXG5leHBvcnQgY29uc3QgZXhhY3RUZXh0ID0gKHJvd3MsIGlkcywgZmlsdGVyVmFsdWUpID0+IHtcbiAgcmV0dXJuIHJvd3MuZmlsdGVyKHJvdyA9PiB7XG4gICAgcmV0dXJuIGlkcy5zb21lKGlkID0+IHtcbiAgICAgIGNvbnN0IHJvd1ZhbHVlID0gcm93LnZhbHVlc1tpZF1cbiAgICAgIHJldHVybiByb3dWYWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gU3RyaW5nKHJvd1ZhbHVlKS50b0xvd2VyQ2FzZSgpID09PSBTdHJpbmcoZmlsdGVyVmFsdWUpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgOiB0cnVlXG4gICAgfSlcbiAgfSlcbn1cblxuZXhhY3RUZXh0LmF1dG9SZW1vdmUgPSB2YWwgPT4gIXZhbFxuXG5leHBvcnQgY29uc3QgZXhhY3RUZXh0Q2FzZSA9IChyb3dzLCBpZHMsIGZpbHRlclZhbHVlKSA9PiB7XG4gIHJldHVybiByb3dzLmZpbHRlcihyb3cgPT4ge1xuICAgIHJldHVybiBpZHMuc29tZShpZCA9PiB7XG4gICAgICBjb25zdCByb3dWYWx1ZSA9IHJvdy52YWx1ZXNbaWRdXG4gICAgICByZXR1cm4gcm93VmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IFN0cmluZyhyb3dWYWx1ZSkgPT09IFN0cmluZyhmaWx0ZXJWYWx1ZSlcbiAgICAgICAgOiB0cnVlXG4gICAgfSlcbiAgfSlcbn1cblxuZXhhY3RUZXh0Q2FzZS5hdXRvUmVtb3ZlID0gdmFsID0+ICF2YWxcblxuZXhwb3J0IGNvbnN0IGluY2x1ZGVzID0gKHJvd3MsIGlkcywgZmlsdGVyVmFsdWUpID0+IHtcbiAgcmV0dXJuIHJvd3MuZmlsdGVyKHJvdyA9PiB7XG4gICAgcmV0dXJuIGlkcy5zb21lKGlkID0+IHtcbiAgICAgIGNvbnN0IHJvd1ZhbHVlID0gcm93LnZhbHVlc1tpZF1cbiAgICAgIHJldHVybiBmaWx0ZXJWYWx1ZS5pbmNsdWRlcyhyb3dWYWx1ZSlcbiAgICB9KVxuICB9KVxufVxuXG5pbmNsdWRlcy5hdXRvUmVtb3ZlID0gdmFsID0+ICF2YWwgfHwgIXZhbC5sZW5ndGhcblxuZXhwb3J0IGNvbnN0IGluY2x1ZGVzQWxsID0gKHJvd3MsIGlkcywgZmlsdGVyVmFsdWUpID0+IHtcbiAgcmV0dXJuIHJvd3MuZmlsdGVyKHJvdyA9PiB7XG4gICAgcmV0dXJuIGlkcy5zb21lKGlkID0+IHtcbiAgICAgIGNvbnN0IHJvd1ZhbHVlID0gcm93LnZhbHVlc1tpZF1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIHJvd1ZhbHVlICYmXG4gICAgICAgIHJvd1ZhbHVlLmxlbmd0aCAmJlxuICAgICAgICBmaWx0ZXJWYWx1ZS5ldmVyeSh2YWwgPT4gcm93VmFsdWUuaW5jbHVkZXModmFsKSlcbiAgICAgIClcbiAgICB9KVxuICB9KVxufVxuXG5pbmNsdWRlc0FsbC5hdXRvUmVtb3ZlID0gdmFsID0+ICF2YWwgfHwgIXZhbC5sZW5ndGhcblxuZXhwb3J0IGNvbnN0IGV4YWN0ID0gKHJvd3MsIGlkcywgZmlsdGVyVmFsdWUpID0+IHtcbiAgcmV0dXJuIHJvd3MuZmlsdGVyKHJvdyA9PiB7XG4gICAgcmV0dXJuIGlkcy5zb21lKGlkID0+IHtcbiAgICAgIGNvbnN0IHJvd1ZhbHVlID0gcm93LnZhbHVlc1tpZF1cbiAgICAgIHJldHVybiByb3dWYWx1ZSA9PT0gZmlsdGVyVmFsdWVcbiAgICB9KVxuICB9KVxufVxuXG5leGFjdC5hdXRvUmVtb3ZlID0gdmFsID0+IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnXG5cbmV4cG9ydCBjb25zdCBlcXVhbHMgPSAocm93cywgaWRzLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICByZXR1cm4gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgcmV0dXJuIHJvd1ZhbHVlID09IGZpbHRlclZhbHVlXG4gICAgfSlcbiAgfSlcbn1cblxuZXF1YWxzLmF1dG9SZW1vdmUgPSB2YWwgPT4gdmFsID09IG51bGxcblxuZXhwb3J0IGNvbnN0IGJldHdlZW4gPSAocm93cywgaWRzLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICBsZXQgW21pbiwgbWF4XSA9IGZpbHRlclZhbHVlIHx8IFtdXG5cbiAgbWluID0gdHlwZW9mIG1pbiA9PT0gJ251bWJlcicgPyBtaW4gOiAtSW5maW5pdHlcbiAgbWF4ID0gdHlwZW9mIG1heCA9PT0gJ251bWJlcicgPyBtYXggOiBJbmZpbml0eVxuXG4gIGlmIChtaW4gPiBtYXgpIHtcbiAgICBjb25zdCB0ZW1wID0gbWluXG4gICAgbWluID0gbWF4XG4gICAgbWF4ID0gdGVtcFxuICB9XG5cbiAgcmV0dXJuIHJvd3MuZmlsdGVyKHJvdyA9PiB7XG4gICAgcmV0dXJuIGlkcy5zb21lKGlkID0+IHtcbiAgICAgIGNvbnN0IHJvd1ZhbHVlID0gcm93LnZhbHVlc1tpZF1cbiAgICAgIHJldHVybiByb3dWYWx1ZSA+PSBtaW4gJiYgcm93VmFsdWUgPD0gbWF4XG4gICAgfSlcbiAgfSlcbn1cblxuYmV0d2Vlbi5hdXRvUmVtb3ZlID0gdmFsID0+XG4gICF2YWwgfHwgKHR5cGVvZiB2YWxbMF0gIT09ICdudW1iZXInICYmIHR5cGVvZiB2YWxbMV0gIT09ICdudW1iZXInKVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICBnZXRGaXJzdERlZmluZWQsXG4gIGdldEZpbHRlck1ldGhvZCxcbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCxcbiAgZnVuY3Rpb25hbFVwZGF0ZSxcbiAgdXNlR2V0TGF0ZXN0LFxuICBzaG91bGRBdXRvUmVtb3ZlRmlsdGVyLFxufSBmcm9tICcuLi91dGlscydcbmltcG9ydCAqIGFzIGZpbHRlclR5cGVzIGZyb20gJy4uL2ZpbHRlclR5cGVzJ1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnJlc2V0RmlsdGVycyA9ICdyZXNldEZpbHRlcnMnXG5hY3Rpb25zLnNldEZpbHRlciA9ICdzZXRGaWx0ZXInXG5hY3Rpb25zLnNldEFsbEZpbHRlcnMgPSAnc2V0QWxsRmlsdGVycydcblxuZXhwb3J0IGNvbnN0IHVzZUZpbHRlcnMgPSBob29rcyA9PiB7XG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VGaWx0ZXJzLnBsdWdpbk5hbWUgPSAndXNlRmlsdGVycydcblxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBwcmV2aW91c1N0YXRlLCBpbnN0YW5jZSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuaW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICBmaWx0ZXJzOiBbXSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldEZpbHRlcnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBmaWx0ZXJzOiBpbnN0YW5jZS5pbml0aWFsU3RhdGUuZmlsdGVycyB8fCBbXSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuc2V0RmlsdGVyKSB7XG4gICAgY29uc3QgeyBjb2x1bW5JZCwgZmlsdGVyVmFsdWUgfSA9IGFjdGlvblxuICAgIGNvbnN0IHsgZmxhdENvbHVtbnMsIHVzZXJGaWx0ZXJUeXBlcyB9ID0gaW5zdGFuY2VcblxuICAgIGNvbnN0IGNvbHVtbiA9IGZsYXRDb2x1bW5zLmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW5JZClcblxuICAgIGlmICghY29sdW1uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBSZWFjdC1UYWJsZTogQ291bGQgbm90IGZpbmQgYSBjb2x1bW4gd2l0aCBpZDogJHtjb2x1bW5JZH1gXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgZmlsdGVyTWV0aG9kID0gZ2V0RmlsdGVyTWV0aG9kKFxuICAgICAgY29sdW1uLmZpbHRlcixcbiAgICAgIHVzZXJGaWx0ZXJUeXBlcyB8fCB7fSxcbiAgICAgIGZpbHRlclR5cGVzXG4gICAgKVxuXG4gICAgY29uc3QgcHJldmlvdXNmaWx0ZXIgPSBzdGF0ZS5maWx0ZXJzLmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW5JZClcblxuICAgIGNvbnN0IG5ld0ZpbHRlciA9IGZ1bmN0aW9uYWxVcGRhdGUoXG4gICAgICBmaWx0ZXJWYWx1ZSxcbiAgICAgIHByZXZpb3VzZmlsdGVyICYmIHByZXZpb3VzZmlsdGVyLnZhbHVlXG4gICAgKVxuXG4gICAgLy9cbiAgICBpZiAoc2hvdWxkQXV0b1JlbW92ZUZpbHRlcihmaWx0ZXJNZXRob2QuYXV0b1JlbW92ZSwgbmV3RmlsdGVyKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGZpbHRlcnM6IHN0YXRlLmZpbHRlcnMuZmlsdGVyKGQgPT4gZC5pZCAhPT0gY29sdW1uSWQpLFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcmV2aW91c2ZpbHRlcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGZpbHRlcnM6IHN0YXRlLmZpbHRlcnMubWFwKGQgPT4ge1xuICAgICAgICAgIGlmIChkLmlkID09PSBjb2x1bW5JZCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgaWQ6IGNvbHVtbklkLCB2YWx1ZTogbmV3RmlsdGVyIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGRcbiAgICAgICAgfSksXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgZmlsdGVyczogWy4uLnN0YXRlLmZpbHRlcnMsIHsgaWQ6IGNvbHVtbklkLCB2YWx1ZTogbmV3RmlsdGVyIH1dLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5zZXRBbGxGaWx0ZXJzKSB7XG4gICAgY29uc3QgeyBmaWx0ZXJzIH0gPSBhY3Rpb25cbiAgICBjb25zdCB7IGZsYXRDb2x1bW5zLCBmaWx0ZXJUeXBlczogdXNlckZpbHRlclR5cGVzIH0gPSBpbnN0YW5jZVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgLy8gRmlsdGVyIG91dCB1bmRlZmluZWQgdmFsdWVzXG4gICAgICBmaWx0ZXJzOiBmdW5jdGlvbmFsVXBkYXRlKGZpbHRlcnMsIHN0YXRlLmZpbHRlcnMpLmZpbHRlcihmaWx0ZXIgPT4ge1xuICAgICAgICBjb25zdCBjb2x1bW4gPSBmbGF0Q29sdW1ucy5maW5kKGQgPT4gZC5pZCA9PT0gZmlsdGVyLmlkKVxuICAgICAgICBjb25zdCBmaWx0ZXJNZXRob2QgPSBnZXRGaWx0ZXJNZXRob2QoXG4gICAgICAgICAgY29sdW1uLmZpbHRlcixcbiAgICAgICAgICB1c2VyRmlsdGVyVHlwZXMgfHwge30sXG4gICAgICAgICAgZmlsdGVyVHlwZXNcbiAgICAgICAgKVxuXG4gICAgICAgIGlmIChzaG91bGRBdXRvUmVtb3ZlRmlsdGVyKGZpbHRlck1ldGhvZC5hdXRvUmVtb3ZlLCBmaWx0ZXIudmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0pLFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICByb3dzLFxuICAgIGZsYXRSb3dzLFxuICAgIGZsYXRDb2x1bW5zLFxuICAgIGZpbHRlclR5cGVzOiB1c2VyRmlsdGVyVHlwZXMsXG4gICAgbWFudWFsRmlsdGVycyxcbiAgICBkZWZhdWx0Q2FuRmlsdGVyID0gZmFsc2UsXG4gICAgZGlzYWJsZUZpbHRlcnMsXG4gICAgc3RhdGU6IHsgZmlsdGVycyB9LFxuICAgIGRpc3BhdGNoLFxuICAgIGF1dG9SZXNldEZpbHRlcnMgPSB0cnVlLFxuICB9ID0gaW5zdGFuY2VcblxuICBjb25zdCBzZXRGaWx0ZXIgPSAoY29sdW1uSWQsIGZpbHRlclZhbHVlKSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnNldEZpbHRlciwgY29sdW1uSWQsIGZpbHRlclZhbHVlIH0pXG4gIH1cblxuICBjb25zdCBzZXRBbGxGaWx0ZXJzID0gZmlsdGVycyA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogYWN0aW9ucy5zZXRBbGxGaWx0ZXJzLFxuICAgICAgZmlsdGVycyxcbiAgICB9KVxuICB9XG5cbiAgZmxhdENvbHVtbnMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgYWNjZXNzb3IsXG4gICAgICBkZWZhdWx0Q2FuRmlsdGVyOiBjb2x1bW5EZWZhdWx0Q2FuRmlsdGVyLFxuICAgICAgZGlzYWJsZUZpbHRlcnM6IGNvbHVtbkRpc2FibGVGaWx0ZXJzLFxuICAgIH0gPSBjb2x1bW5cblxuICAgIC8vIERldGVybWluZSBpZiBhIGNvbHVtbiBpcyBmaWx0ZXJhYmxlXG4gICAgY29sdW1uLmNhbkZpbHRlciA9IGFjY2Vzc29yXG4gICAgICA/IGdldEZpcnN0RGVmaW5lZChcbiAgICAgICAgICBjb2x1bW5EaXNhYmxlRmlsdGVycyA9PT0gdHJ1ZSA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGRpc2FibGVGaWx0ZXJzID09PSB0cnVlID8gZmFsc2UgOiB1bmRlZmluZWQsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICA6IGdldEZpcnN0RGVmaW5lZChjb2x1bW5EZWZhdWx0Q2FuRmlsdGVyLCBkZWZhdWx0Q2FuRmlsdGVyLCBmYWxzZSlcblxuICAgIC8vIFByb3ZpZGUgdGhlIGNvbHVtbiBhIHdheSBvZiB1cGRhdGluZyB0aGUgZmlsdGVyIHZhbHVlXG4gICAgY29sdW1uLnNldEZpbHRlciA9IHZhbCA9PiBzZXRGaWx0ZXIoY29sdW1uLmlkLCB2YWwpXG5cbiAgICAvLyBQcm92aWRlIHRoZSBjdXJyZW50IGZpbHRlciB2YWx1ZSB0byB0aGUgY29sdW1uIGZvclxuICAgIC8vIGNvbnZlbmllbmNlXG4gICAgY29uc3QgZm91bmQgPSBmaWx0ZXJzLmZpbmQoZCA9PiBkLmlkID09PSBpZClcbiAgICBjb2x1bW4uZmlsdGVyVmFsdWUgPSBmb3VuZCAmJiBmb3VuZC52YWx1ZVxuICB9KVxuXG4gIGNvbnN0IFtmaWx0ZXJlZFJvd3MsIGZpbHRlcmVkRmxhdFJvd3NdID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKG1hbnVhbEZpbHRlcnMgfHwgIWZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW3Jvd3MsIGZsYXRSb3dzXVxuICAgIH1cblxuICAgIGNvbnN0IGZpbHRlcmVkRmxhdFJvd3MgPSBbXVxuXG4gICAgLy8gRmlsdGVycyB0b3AgbGV2ZWwgYW5kIG5lc3RlZCByb3dzXG4gICAgY29uc3QgZmlsdGVyUm93cyA9IChyb3dzLCBkZXB0aCA9IDApID0+IHtcbiAgICAgIGxldCBmaWx0ZXJlZFJvd3MgPSByb3dzXG5cbiAgICAgIGZpbHRlcmVkUm93cyA9IGZpbHRlcnMucmVkdWNlKFxuICAgICAgICAoZmlsdGVyZWRTb0ZhciwgeyBpZDogY29sdW1uSWQsIHZhbHVlOiBmaWx0ZXJWYWx1ZSB9KSA9PiB7XG4gICAgICAgICAgLy8gRmluZCB0aGUgZmlsdGVycyBjb2x1bW5cbiAgICAgICAgICBjb25zdCBjb2x1bW4gPSBmbGF0Q29sdW1ucy5maW5kKGQgPT4gZC5pZCA9PT0gY29sdW1uSWQpXG5cbiAgICAgICAgICBpZiAoIWNvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkU29GYXJcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZGVwdGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbHVtbi5wcmVGaWx0ZXJlZFJvd3MgPSBmaWx0ZXJlZFNvRmFyXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgZmlsdGVyTWV0aG9kID0gZ2V0RmlsdGVyTWV0aG9kKFxuICAgICAgICAgICAgY29sdW1uLmZpbHRlcixcbiAgICAgICAgICAgIHVzZXJGaWx0ZXJUeXBlcyB8fCB7fSxcbiAgICAgICAgICAgIGZpbHRlclR5cGVzXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgaWYgKCFmaWx0ZXJNZXRob2QpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgYENvdWxkIG5vdCBmaW5kIGEgdmFsaWQgJ2NvbHVtbi5maWx0ZXInIGZvciBjb2x1bW4gd2l0aCB0aGUgSUQ6ICR7Y29sdW1uLmlkfS5gXG4gICAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyZWRTb0ZhclxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFBhc3MgdGhlIHJvd3MsIGlkLCBmaWx0ZXJWYWx1ZSBhbmQgY29sdW1uIHRvIHRoZSBmaWx0ZXJNZXRob2RcbiAgICAgICAgICAvLyB0byBnZXQgdGhlIGZpbHRlcmVkIHJvd3MgYmFja1xuICAgICAgICAgIGNvbHVtbi5maWx0ZXJlZFJvd3MgPSBmaWx0ZXJNZXRob2QoXG4gICAgICAgICAgICBmaWx0ZXJlZFNvRmFyLFxuICAgICAgICAgICAgW2NvbHVtbklkXSxcbiAgICAgICAgICAgIGZpbHRlclZhbHVlXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgcmV0dXJuIGNvbHVtbi5maWx0ZXJlZFJvd3NcbiAgICAgICAgfSxcbiAgICAgICAgcm93c1xuICAgICAgKVxuXG4gICAgICAvLyBBcHBseSB0aGUgZmlsdGVyIHRvIGFueSBzdWJSb3dzXG4gICAgICAvLyBXZSB0ZWNobmljYWxseSBjb3VsZCBkbyB0aGlzIHJlY3Vyc2l2ZWx5IGluIHRoZSBhYm92ZSBsb29wLFxuICAgICAgLy8gYnV0IHRoYXQgd291bGQgc2V2ZXJlbHkgaGluZGVyIHRoZSBBUEkgZm9yIHRoZSB1c2VyLCBzaW5jZSB0aGV5XG4gICAgICAvLyB3b3VsZCBiZSByZXF1aXJlZCB0byBkbyB0aGF0IHJlY3Vyc2lvbiBpbiBzb21lIHNjZW5hcmlvc1xuICAgICAgZmlsdGVyZWRSb3dzID0gZmlsdGVyZWRSb3dzLm1hcChyb3cgPT4ge1xuICAgICAgICBmaWx0ZXJlZEZsYXRSb3dzLnB1c2gocm93KVxuICAgICAgICBpZiAoIXJvdy5zdWJSb3dzKSB7XG4gICAgICAgICAgcmV0dXJuIHJvd1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucm93LFxuICAgICAgICAgIHN1YlJvd3M6XG4gICAgICAgICAgICByb3cuc3ViUm93cyAmJiByb3cuc3ViUm93cy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgID8gZmlsdGVyUm93cyhyb3cuc3ViUm93cywgZGVwdGggKyAxKVxuICAgICAgICAgICAgICA6IHJvdy5zdWJSb3dzLFxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gZmlsdGVyZWRSb3dzXG4gICAgfVxuXG4gICAgcmV0dXJuIFtmaWx0ZXJSb3dzKHJvd3MpLCBmaWx0ZXJlZEZsYXRSb3dzXVxuICB9LCBbbWFudWFsRmlsdGVycywgZmlsdGVycywgcm93cywgZmxhdFJvd3MsIGZsYXRDb2x1bW5zLCB1c2VyRmlsdGVyVHlwZXNdKVxuXG4gIFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIC8vIE5vdyB0aGF0IGVhY2ggZmlsdGVyZWQgY29sdW1uIGhhcyBpdCdzIHBhcnRpYWxseSBmaWx0ZXJlZCByb3dzLFxuICAgIC8vIGxldHMgYXNzaWduIHRoZSBmaW5hbCBmaWx0ZXJlZCByb3dzIHRvIGFsbCBvZiB0aGUgb3RoZXIgY29sdW1uc1xuICAgIGNvbnN0IG5vbkZpbHRlcmVkQ29sdW1ucyA9IGZsYXRDb2x1bW5zLmZpbHRlcihcbiAgICAgIGNvbHVtbiA9PiAhZmlsdGVycy5maW5kKGQgPT4gZC5pZCA9PT0gY29sdW1uLmlkKVxuICAgIClcblxuICAgIC8vIFRoaXMgZXNzZW50aWFsbHkgZW5hYmxlcyBmYWNldGVkIGZpbHRlciBvcHRpb25zIHRvIGJlIGJ1aWx0IGVhc2lseVxuICAgIC8vIHVzaW5nIGV2ZXJ5IGNvbHVtbidzIHByZUZpbHRlcmVkUm93cyB2YWx1ZVxuICAgIG5vbkZpbHRlcmVkQ29sdW1ucy5mb3JFYWNoKGNvbHVtbiA9PiB7XG4gICAgICBjb2x1bW4ucHJlRmlsdGVyZWRSb3dzID0gZmlsdGVyZWRSb3dzXG4gICAgICBjb2x1bW4uZmlsdGVyZWRSb3dzID0gZmlsdGVyZWRSb3dzXG4gICAgfSlcbiAgfSwgW2ZpbHRlcmVkUm93cywgZmlsdGVycywgZmxhdENvbHVtbnNdKVxuXG4gIGNvbnN0IGdldEF1dG9SZXNldEZpbHRlcnMgPSB1c2VHZXRMYXRlc3QoYXV0b1Jlc2V0RmlsdGVycylcblxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2V0QXV0b1Jlc2V0RmlsdGVycygpKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMucmVzZXRGaWx0ZXJzIH0pXG4gICAgfVxuICB9LCBbZGlzcGF0Y2gsIG1hbnVhbEZpbHRlcnMgPyBudWxsIDogZGF0YV0pXG5cbiAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgIHByZUZpbHRlcmVkUm93czogcm93cyxcbiAgICBwcmVGaWx0ZXJlZEZsYXRSb3dzOiBmbGF0Um93cyxcbiAgICBmaWx0ZXJlZFJvd3MsXG4gICAgZmlsdGVyZWRGbGF0Um93cyxcbiAgICByb3dzOiBmaWx0ZXJlZFJvd3MsXG4gICAgZmxhdFJvd3M6IGZpbHRlcmVkRmxhdFJvd3MsXG4gICAgc2V0RmlsdGVyLFxuICAgIHNldEFsbEZpbHRlcnMsXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIGdldEZpbHRlck1ldGhvZCxcbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCxcbiAgZnVuY3Rpb25hbFVwZGF0ZSxcbiAgdXNlR2V0TGF0ZXN0LFxuICBzaG91bGRBdXRvUmVtb3ZlRmlsdGVyLFxuICBlbnN1cmVQbHVnaW5PcmRlcixcbn0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgKiBhcyBmaWx0ZXJUeXBlcyBmcm9tICcuLi9maWx0ZXJUeXBlcydcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5yZXNldEdsb2JhbEZpbHRlciA9ICdyZXNldEdsb2JhbEZpbHRlcidcbmFjdGlvbnMuc2V0R2xvYmFsRmlsdGVyID0gJ3NldEdsb2JhbEZpbHRlcidcblxuZXhwb3J0IGNvbnN0IHVzZUdsb2JhbEZpbHRlciA9IGhvb2tzID0+IHtcbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG59XG5cbnVzZUdsb2JhbEZpbHRlci5wbHVnaW5OYW1lID0gJ3VzZUdsb2JhbEZpbHRlcidcblxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBwcmV2aW91c1N0YXRlLCBpbnN0YW5jZSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMucmVzZXRHbG9iYWxGaWx0ZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBnbG9iYWxGaWx0ZXI6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5nbG9iYWxGaWx0ZXIgfHwgdW5kZWZpbmVkLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5zZXRHbG9iYWxGaWx0ZXIpIHtcbiAgICBjb25zdCB7IGZpbHRlclZhbHVlIH0gPSBhY3Rpb25cbiAgICBjb25zdCB7IHVzZXJGaWx0ZXJUeXBlcyB9ID0gaW5zdGFuY2VcblxuICAgIGNvbnN0IGZpbHRlck1ldGhvZCA9IGdldEZpbHRlck1ldGhvZChcbiAgICAgIGluc3RhbmNlLmdsb2JhbEZpbHRlcixcbiAgICAgIHVzZXJGaWx0ZXJUeXBlcyB8fCB7fSxcbiAgICAgIGZpbHRlclR5cGVzXG4gICAgKVxuXG4gICAgY29uc3QgbmV3RmlsdGVyID0gZnVuY3Rpb25hbFVwZGF0ZShmaWx0ZXJWYWx1ZSwgc3RhdGUuZ2xvYmFsRmlsdGVyKVxuXG4gICAgLy9cbiAgICBpZiAoc2hvdWxkQXV0b1JlbW92ZUZpbHRlcihmaWx0ZXJNZXRob2QuYXV0b1JlbW92ZSwgbmV3RmlsdGVyKSkge1xuICAgICAgY29uc3QgeyBnbG9iYWxGaWx0ZXIsIC4uLnN0YXRlV2l0aG91dEdsb2JhbEZpbHRlciB9ID0gc3RhdGVcbiAgICAgIHJldHVybiBzdGF0ZVdpdGhvdXRHbG9iYWxGaWx0ZXJcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBnbG9iYWxGaWx0ZXI6IG5ld0ZpbHRlcixcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGRhdGEsXG4gICAgcm93cyxcbiAgICBmbGF0Um93cyxcbiAgICBmbGF0Q29sdW1ucyxcbiAgICBmaWx0ZXJUeXBlczogdXNlckZpbHRlclR5cGVzLFxuICAgIGdsb2JhbEZpbHRlcixcbiAgICBtYW51YWxHbG9iYWxGaWx0ZXIsXG4gICAgc3RhdGU6IHsgZ2xvYmFsRmlsdGVyOiBnbG9iYWxGaWx0ZXJWYWx1ZSB9LFxuICAgIGRpc3BhdGNoLFxuICAgIGF1dG9SZXNldEdsb2JhbEZpbHRlcnMgPSB0cnVlLFxuICAgIHBsdWdpbnMsXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGVuc3VyZVBsdWdpbk9yZGVyKHBsdWdpbnMsIFtdLCAndXNlR2xvYmFsRmlsdGVyJywgW1xuICAgICd1c2VTb3J0QnknLFxuICAgICd1c2VFeHBhbmRlZCcsXG4gIF0pXG5cbiAgY29uc3Qgc2V0R2xvYmFsRmlsdGVyID0gZmlsdGVyVmFsdWUgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5zZXRHbG9iYWxGaWx0ZXIsIGZpbHRlclZhbHVlIH0pXG4gIH1cblxuICAvLyBUT0RPOiBDcmVhdGUgYSBmaWx0ZXIgY2FjaGUgZm9yIGluY3JlbWVudGFsIGhpZ2ggc3BlZWQgbXVsdGktZmlsdGVyaW5nXG4gIC8vIFRoaXMgZ2V0cyBwcmV0dHkgY29tcGxpY2F0ZWQgcHJldHR5IGZhc3QsIHNpbmNlIHlvdSBoYXZlIHRvIG1haW50YWluIGFcbiAgLy8gY2FjaGUgZm9yIGVhY2ggcm93IGdyb3VwICh0b3AtbGV2ZWwgcm93cywgYW5kIGVhY2ggcm93J3MgcmVjdXJzaXZlIHN1YnJvd3MpXG4gIC8vIFRoaXMgd291bGQgbWFrZSBtdWx0aS1maWx0ZXJpbmcgYSBsb3QgZmFzdGVyIHRob3VnaC4gVG9vIGZhcj9cblxuICBjb25zdCBbZ2xvYmFsRmlsdGVyZWRSb3dzLCBnbG9iYWxGaWx0ZXJlZEZsYXRSb3dzXSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChtYW51YWxHbG9iYWxGaWx0ZXIgfHwgdHlwZW9mIGdsb2JhbEZpbHRlclZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIFtyb3dzLCBmbGF0Um93c11cbiAgICB9XG5cbiAgICBjb25zdCBmaWx0ZXJlZEZsYXRSb3dzID0gW11cblxuICAgIGNvbnN0IGZpbHRlck1ldGhvZCA9IGdldEZpbHRlck1ldGhvZChcbiAgICAgIGdsb2JhbEZpbHRlcixcbiAgICAgIHVzZXJGaWx0ZXJUeXBlcyB8fCB7fSxcbiAgICAgIGZpbHRlclR5cGVzXG4gICAgKVxuXG4gICAgaWYgKCFmaWx0ZXJNZXRob2QpIHtcbiAgICAgIGNvbnNvbGUud2FybihgQ291bGQgbm90IGZpbmQgYSB2YWxpZCAnZ2xvYmFsRmlsdGVyJyBvcHRpb24uYClcbiAgICAgIHJldHVybiByb3dzXG4gICAgfVxuXG4gICAgLy8gRmlsdGVycyB0b3AgbGV2ZWwgYW5kIG5lc3RlZCByb3dzXG4gICAgY29uc3QgZmlsdGVyUm93cyA9IGZpbHRlcmVkUm93cyA9PiB7XG4gICAgICByZXR1cm4gZmlsdGVyTWV0aG9kKFxuICAgICAgICBmaWx0ZXJlZFJvd3MsXG4gICAgICAgIGZsYXRDb2x1bW5zLm1hcChkID0+IGQuaWQpLFxuICAgICAgICBnbG9iYWxGaWx0ZXJWYWx1ZVxuICAgICAgKS5tYXAocm93ID0+IHtcbiAgICAgICAgZmlsdGVyZWRGbGF0Um93cy5wdXNoKHJvdylcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnJvdyxcbiAgICAgICAgICBzdWJSb3dzOlxuICAgICAgICAgICAgcm93LnN1YlJvd3MgJiYgcm93LnN1YlJvd3MubGVuZ3RoXG4gICAgICAgICAgICAgID8gZmlsdGVyUm93cyhyb3cuc3ViUm93cylcbiAgICAgICAgICAgICAgOiByb3cuc3ViUm93cyxcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gW2ZpbHRlclJvd3Mocm93cyksIGZpbHRlcmVkRmxhdFJvd3NdXG4gIH0sIFtcbiAgICBtYW51YWxHbG9iYWxGaWx0ZXIsXG4gICAgZ2xvYmFsRmlsdGVyLFxuICAgIHVzZXJGaWx0ZXJUeXBlcyxcbiAgICByb3dzLFxuICAgIGZsYXRSb3dzLFxuICAgIGZsYXRDb2x1bW5zLFxuICAgIGdsb2JhbEZpbHRlclZhbHVlLFxuICBdKVxuXG4gIGNvbnN0IGdldEF1dG9SZXNldEdsb2JhbEZpbHRlcnMgPSB1c2VHZXRMYXRlc3QoYXV0b1Jlc2V0R2xvYmFsRmlsdGVycylcblxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2V0QXV0b1Jlc2V0R2xvYmFsRmlsdGVycygpKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMucmVzZXRHbG9iYWxGaWx0ZXIgfSlcbiAgICB9XG4gIH0sIFtkaXNwYXRjaCwgbWFudWFsR2xvYmFsRmlsdGVyID8gbnVsbCA6IGRhdGFdKVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBwcmVHbG9iYWxGaWx0ZXJlZFJvd3M6IHJvd3MsXG4gICAgcHJlR2xvYmFsRmlsdGVyZWRGbGF0Um93czogZmxhdFJvd3MsXG4gICAgZ2xvYmFsRmlsdGVyZWRSb3dzLFxuICAgIGdsb2JhbEZpbHRlcmVkRmxhdFJvd3MsXG4gICAgcm93czogZ2xvYmFsRmlsdGVyZWRSb3dzLFxuICAgIGZsYXRSb3dzOiBnbG9iYWxGaWx0ZXJlZEZsYXRSb3dzLFxuICAgIHNldEdsb2JhbEZpbHRlcixcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0ICogYXMgYWdncmVnYXRpb25zIGZyb20gJy4uL2FnZ3JlZ2F0aW9ucydcbmltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIG1ha2VQcm9wR2V0dGVyLFxuICBkZWZhdWx0R3JvdXBCeUZuLFxuICBnZXRGaXJzdERlZmluZWQsXG4gIGVuc3VyZVBsdWdpbk9yZGVyLFxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0LFxuICB1c2VHZXRMYXRlc3QsXG59IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0IHsgdXNlQ29uc3VtZUhvb2tHZXR0ZXIgfSBmcm9tICcuLi9wdWJsaWNVdGlscydcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5yZXNldEdyb3VwQnkgPSAncmVzZXRHcm91cEJ5J1xuYWN0aW9ucy50b2dnbGVHcm91cEJ5ID0gJ3RvZ2dsZUdyb3VwQnknXG5cbmV4cG9ydCBjb25zdCB1c2VHcm91cEJ5ID0gaG9va3MgPT4ge1xuICBob29rcy5nZXRHcm91cEJ5VG9nZ2xlUHJvcHMgPSBbZGVmYXVsdEdldEdyb3VwQnlUb2dnbGVQcm9wc11cbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLmZsYXRDb2x1bW5zRGVwcy5wdXNoKChkZXBzLCB7IGluc3RhbmNlIH0pID0+IFtcbiAgICAuLi5kZXBzLFxuICAgIGluc3RhbmNlLnN0YXRlLmdyb3VwQnksXG4gIF0pXG4gIGhvb2tzLmZsYXRDb2x1bW5zLnB1c2goZmxhdENvbHVtbnMpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG59XG5cbnVzZUdyb3VwQnkucGx1Z2luTmFtZSA9ICd1c2VHcm91cEJ5J1xuXG5jb25zdCBkZWZhdWx0R2V0R3JvdXBCeVRvZ2dsZVByb3BzID0gKHByb3BzLCB7IGhlYWRlciB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgb25DbGljazogaGVhZGVyLmNhbkdyb3VwQnlcbiAgICAgID8gZSA9PiB7XG4gICAgICAgICAgZS5wZXJzaXN0KClcbiAgICAgICAgICBoZWFkZXIudG9nZ2xlR3JvdXBCeSgpXG4gICAgICAgIH1cbiAgICAgIDogdW5kZWZpbmVkLFxuICAgIHN0eWxlOiB7XG4gICAgICBjdXJzb3I6IGhlYWRlci5jYW5Hcm91cEJ5ID8gJ3BvaW50ZXInIDogdW5kZWZpbmVkLFxuICAgIH0sXG4gICAgdGl0bGU6ICdUb2dnbGUgR3JvdXBCeScsXG4gIH0sXG5dXG5cbi8vIFJlZHVjZXJcbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgcHJldmlvdXNTdGF0ZSwgaW5zdGFuY2UpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ3JvdXBCeTogW10sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMucmVzZXRHcm91cEJ5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgZ3JvdXBCeTogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLmdyb3VwQnkgfHwgW10sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnRvZ2dsZUdyb3VwQnkpIHtcbiAgICBjb25zdCB7IGNvbHVtbklkLCB0b2dnbGUgfSA9IGFjdGlvblxuXG4gICAgY29uc3QgcmVzb2x2ZWRUb2dnbGUgPVxuICAgICAgdHlwZW9mIHRvZ2dsZSAhPT0gJ3VuZGVmaW5lZCcgPyB0b2dnbGUgOiAhc3RhdGUuZ3JvdXBCeS5pbmNsdWRlcyhjb2x1bW5JZClcblxuICAgIGlmIChyZXNvbHZlZFRvZ2dsZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGdyb3VwQnk6IFsuLi5zdGF0ZS5ncm91cEJ5LCBjb2x1bW5JZF0sXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgZ3JvdXBCeTogc3RhdGUuZ3JvdXBCeS5maWx0ZXIoZCA9PiBkICE9PSBjb2x1bW5JZCksXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZsYXRDb2x1bW5zKFxuICBmbGF0Q29sdW1ucyxcbiAge1xuICAgIGluc3RhbmNlOiB7XG4gICAgICBzdGF0ZTogeyBncm91cEJ5IH0sXG4gICAgfSxcbiAgfVxuKSB7XG4gIC8vIFNvcnQgZ3JvdXBlZCBjb2x1bW5zIHRvIHRoZSBzdGFydCBvZiB0aGUgY29sdW1uIGxpc3RcbiAgLy8gYmVmb3JlIHRoZSBoZWFkZXJzIGFyZSBidWlsdFxuXG4gIGNvbnN0IGdyb3VwQnlDb2x1bW5zID0gZ3JvdXBCeVxuICAgIC5tYXAoZyA9PiBmbGF0Q29sdW1ucy5maW5kKGNvbCA9PiBjb2wuaWQgPT09IGcpKVxuICAgIC5maWx0ZXIoY29sID0+ICEhY29sKVxuICBjb25zdCBub25Hcm91cEJ5Q29sdW1ucyA9IGZsYXRDb2x1bW5zLmZpbHRlcihjb2wgPT4gIWdyb3VwQnkuaW5jbHVkZXMoY29sLmlkKSlcblxuICBmbGF0Q29sdW1ucyA9IFsuLi5ncm91cEJ5Q29sdW1ucywgLi4ubm9uR3JvdXBCeUNvbHVtbnNdXG5cbiAgZmxhdENvbHVtbnMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgIGNvbHVtbi5pc0dyb3VwZWQgPSBncm91cEJ5LmluY2x1ZGVzKGNvbHVtbi5pZClcbiAgICBjb2x1bW4uZ3JvdXBlZEluZGV4ID0gZ3JvdXBCeS5pbmRleE9mKGNvbHVtbi5pZClcbiAgfSlcblxuICByZXR1cm4gZmxhdENvbHVtbnNcbn1cblxuY29uc3QgZGVmYXVsdFVzZXJBZ2dyZWdhdGlvbnMgPSB7fVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICByb3dzLFxuICAgIGZsYXRSb3dzLFxuICAgIGZsYXRDb2x1bW5zLFxuICAgIGZsYXRIZWFkZXJzLFxuICAgIGdyb3VwQnlGbiA9IGRlZmF1bHRHcm91cEJ5Rm4sXG4gICAgbWFudWFsR3JvdXBCeSxcbiAgICBhZ2dyZWdhdGlvbnM6IHVzZXJBZ2dyZWdhdGlvbnMgPSBkZWZhdWx0VXNlckFnZ3JlZ2F0aW9ucyxcbiAgICBob29rcyxcbiAgICBwbHVnaW5zLFxuICAgIHN0YXRlOiB7IGdyb3VwQnkgfSxcbiAgICBkaXNwYXRjaCxcbiAgICBhdXRvUmVzZXRHcm91cEJ5ID0gdHJ1ZSxcbiAgICBtYW5hdWxHcm91cEJ5LFxuICAgIGRpc2FibGVHcm91cEJ5LFxuICAgIGRlZmF1bHRDYW5Hcm91cEJ5LFxuICB9ID0gaW5zdGFuY2VcblxuICBlbnN1cmVQbHVnaW5PcmRlcihwbHVnaW5zLCBbXSwgJ3VzZUdyb3VwQnknLCBbJ3VzZVNvcnRCeScsICd1c2VFeHBhbmRlZCddKVxuXG4gIGNvbnN0IGdldEluc3RhbmNlID0gdXNlR2V0TGF0ZXN0KGluc3RhbmNlKVxuXG4gIGZsYXRDb2x1bW5zLmZvckVhY2goY29sdW1uID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBhY2Nlc3NvcixcbiAgICAgIGRlZmF1bHRHcm91cEJ5OiBkZWZhdWx0Q29sdW1uR3JvdXBCeSxcbiAgICAgIGRpc2FibGVHcm91cEJ5OiBjb2x1bW5EaXNhYmxlR3JvdXBCeSxcbiAgICB9ID0gY29sdW1uXG5cbiAgICBjb2x1bW4uY2FuR3JvdXBCeSA9IGFjY2Vzc29yXG4gICAgICA/IGdldEZpcnN0RGVmaW5lZChcbiAgICAgICAgICBjb2x1bW5EaXNhYmxlR3JvdXBCeSA9PT0gdHJ1ZSA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGRpc2FibGVHcm91cEJ5ID09PSB0cnVlID8gZmFsc2UgOiB1bmRlZmluZWQsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICA6IGdldEZpcnN0RGVmaW5lZChkZWZhdWx0Q29sdW1uR3JvdXBCeSwgZGVmYXVsdENhbkdyb3VwQnksIGZhbHNlKVxuXG4gICAgaWYgKGNvbHVtbi5jYW5Hcm91cEJ5KSB7XG4gICAgICBjb2x1bW4udG9nZ2xlR3JvdXBCeSA9ICgpID0+IGluc3RhbmNlLnRvZ2dsZUdyb3VwQnkoY29sdW1uLmlkKVxuICAgIH1cblxuICAgIGNvbHVtbi5BZ2dyZWdhdGVkID0gY29sdW1uLkFnZ3JlZ2F0ZWQgfHwgY29sdW1uLkNlbGxcbiAgfSlcblxuICBjb25zdCB0b2dnbGVHcm91cEJ5ID0gKGNvbHVtbklkLCB0b2dnbGUpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMudG9nZ2xlR3JvdXBCeSwgY29sdW1uSWQsIHRvZ2dsZSB9KVxuICB9XG5cbiAgY29uc3QgZ2V0R3JvdXBCeVRvZ2dsZVByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRHcm91cEJ5VG9nZ2xlUHJvcHMnXG4gIClcblxuICBmbGF0SGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiB7XG4gICAgaGVhZGVyLmdldEdyb3VwQnlUb2dnbGVQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKFxuICAgICAgZ2V0R3JvdXBCeVRvZ2dsZVByb3BzSG9va3MoKSxcbiAgICAgIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksIGhlYWRlciB9XG4gICAgKVxuICB9KVxuXG4gIGhvb2tzLnByZXBhcmVSb3cucHVzaChyb3cgPT4ge1xuICAgIHJvdy5hbGxDZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgLy8gR3JvdXBlZCBjZWxscyBhcmUgaW4gdGhlIGdyb3VwQnkgYW5kIHRoZSBwaXZvdCBjZWxsIGZvciB0aGUgcm93XG4gICAgICBjZWxsLmlzR3JvdXBlZCA9IGNlbGwuY29sdW1uLmlzR3JvdXBlZCAmJiBjZWxsLmNvbHVtbi5pZCA9PT0gcm93Lmdyb3VwQnlJRFxuICAgICAgLy8gUmVwZWF0ZWQgY2VsbHMgYXJlIGFueSBjb2x1bW5zIGluIHRoZSBncm91cEJ5IHRoYXQgYXJlIG5vdCBncm91cGVkXG4gICAgICBjZWxsLmlzUmVwZWF0ZWRWYWx1ZSA9ICFjZWxsLmlzR3JvdXBlZCAmJiBjZWxsLmNvbHVtbi5pc0dyb3VwZWRcbiAgICAgIC8vIEFnZ3JlZ2F0ZWQgY2VsbHMgYXJlIG5vdCBncm91cGVkLCBub3QgcmVwZWF0ZWQsIGJ1dCBzdGlsbCBoYXZlIHN1YlJvd3NcbiAgICAgIGNlbGwuaXNBZ2dyZWdhdGVkID1cbiAgICAgICAgIWNlbGwuaXNHcm91cGVkICYmICFjZWxsLmlzUmVwZWF0ZWRWYWx1ZSAmJiByb3cuY2FuRXhwYW5kXG4gICAgfSlcbiAgfSlcblxuICBjb25zdCBbZ3JvdXBlZFJvd3MsIGdyb3VwZWRGbGF0Um93c10gPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAobWFudWFsR3JvdXBCeSB8fCAhZ3JvdXBCeS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBbcm93cywgZmxhdFJvd3NdXG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIHRoYXQgdGhlIGxpc3Qgb2YgZmlsdGVyZWQgY29sdW1ucyBleGlzdFxuICAgIGNvbnN0IGV4aXN0aW5nR3JvdXBCeSA9IGdyb3VwQnkuZmlsdGVyKGcgPT5cbiAgICAgIGZsYXRDb2x1bW5zLmZpbmQoY29sID0+IGNvbC5pZCA9PT0gZylcbiAgICApXG5cbiAgICAvLyBGaW5kIHRoZSBjb2x1bW5zIHRoYXQgY2FuIG9yIGFyZSBhZ2dyZWdhdGluZ1xuICAgIC8vIFVzZXMgZWFjaCBjb2x1bW4gdG8gYWdncmVnYXRlIHJvd3MgaW50byBhIHNpbmdsZSB2YWx1ZVxuICAgIGNvbnN0IGFnZ3JlZ2F0ZVJvd3NUb1ZhbHVlcyA9IChyb3dzLCBpc0FnZ3JlZ2F0ZWQpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IHt9XG5cbiAgICAgIGZsYXRDb2x1bW5zLmZvckVhY2goY29sdW1uID0+IHtcbiAgICAgICAgLy8gRG9uJ3QgYWdncmVnYXRlIGNvbHVtbnMgdGhhdCBhcmUgaW4gdGhlIGdyb3VwQnlcbiAgICAgICAgaWYgKGV4aXN0aW5nR3JvdXBCeS5pbmNsdWRlcyhjb2x1bW4uaWQpKSB7XG4gICAgICAgICAgdmFsdWVzW2NvbHVtbi5pZF0gPSByb3dzWzBdID8gcm93c1swXS52YWx1ZXNbY29sdW1uLmlkXSA6IG51bGxcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbHVtblZhbHVlcyA9IHJvd3MubWFwKGQgPT4gZC52YWx1ZXNbY29sdW1uLmlkXSlcblxuICAgICAgICBsZXQgYWdncmVnYXRvciA9IGNvbHVtbi5hZ2dyZWdhdGVcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhZ2dyZWdhdG9yKSkge1xuICAgICAgICAgIGlmIChhZ2dyZWdhdG9yLmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKHsgY29sdW1uIH0pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIGBSZWFjdCBUYWJsZTogQ29tcGxleCBhZ2dyZWdhdG9ycyBtdXN0IGhhdmUgMiB2YWx1ZXMsIGVnLiBhZ2dyZWdhdGU6IFsnc3VtJywgJ2NvdW50J10uIE1vcmUgaW5mbyBhYm92ZS4uLmBcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQWdncmVnYXRlZCkge1xuICAgICAgICAgICAgYWdncmVnYXRvciA9IGFnZ3JlZ2F0b3JbMV1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWdncmVnYXRvciA9IGFnZ3JlZ2F0b3JbMF1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYWdncmVnYXRlRm4gPVxuICAgICAgICAgIHR5cGVvZiBhZ2dyZWdhdG9yID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IGFnZ3JlZ2F0b3JcbiAgICAgICAgICAgIDogdXNlckFnZ3JlZ2F0aW9uc1thZ2dyZWdhdG9yXSB8fCBhZ2dyZWdhdGlvbnNbYWdncmVnYXRvcl1cblxuICAgICAgICBpZiAoYWdncmVnYXRlRm4pIHtcbiAgICAgICAgICB2YWx1ZXNbY29sdW1uLmlkXSA9IGFnZ3JlZ2F0ZUZuKGNvbHVtblZhbHVlcywgcm93cywgaXNBZ2dyZWdhdGVkKVxuICAgICAgICB9IGVsc2UgaWYgKGFnZ3JlZ2F0b3IpIHtcbiAgICAgICAgICBjb25zb2xlLmluZm8oeyBjb2x1bW4gfSlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgUmVhY3QgVGFibGU6IEludmFsaWQgYWdncmVnYXRlIG9wdGlvbiBmb3IgY29sdW1uIGxpc3RlZCBhYm92ZWBcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWVzW2NvbHVtbi5pZF0gPSBudWxsXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICByZXR1cm4gdmFsdWVzXG4gICAgfVxuXG4gICAgbGV0IGdyb3VwZWRGbGF0Um93cyA9IFtdXG5cbiAgICAvLyBSZWN1cnNpdmVseSBncm91cCB0aGUgZGF0YVxuICAgIGNvbnN0IGdyb3VwUmVjdXJzaXZlbHkgPSAocm93cywgZGVwdGggPSAwLCBwYXJlbnRJZCkgPT4ge1xuICAgICAgLy8gVGhpcyBpcyB0aGUgbGFzdCBsZXZlbCwganVzdCByZXR1cm4gdGhlIHJvd3NcbiAgICAgIGlmIChkZXB0aCA9PT0gZXhpc3RpbmdHcm91cEJ5Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcm93c1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjb2x1bW5JZCA9IGV4aXN0aW5nR3JvdXBCeVtkZXB0aF1cblxuICAgICAgLy8gR3JvdXAgdGhlIHJvd3MgdG9nZXRoZXIgZm9yIHRoaXMgbGV2ZWxcbiAgICAgIGxldCBncm91cGVkUm93cyA9IGdyb3VwQnlGbihyb3dzLCBjb2x1bW5JZClcblxuICAgICAgLy8gUmVjdXJzZSB0byBzdWIgcm93cyBiZWZvcmUgYWdncmVnYXRpb25cbiAgICAgIGdyb3VwZWRSb3dzID0gT2JqZWN0LmVudHJpZXMoZ3JvdXBlZFJvd3MpLm1hcChcbiAgICAgICAgKFtncm91cEJ5VmFsLCBzdWJSb3dzXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBsZXQgaWQgPSBgJHtjb2x1bW5JZH06JHtncm91cEJ5VmFsfWBcbiAgICAgICAgICBpZCA9IHBhcmVudElkID8gYCR7cGFyZW50SWR9PiR7aWR9YCA6IGlkXG5cbiAgICAgICAgICBzdWJSb3dzID0gZ3JvdXBSZWN1cnNpdmVseShzdWJSb3dzLCBkZXB0aCArIDEsIGlkKVxuXG4gICAgICAgICAgY29uc3QgdmFsdWVzID0gYWdncmVnYXRlUm93c1RvVmFsdWVzKFxuICAgICAgICAgICAgc3ViUm93cyxcbiAgICAgICAgICAgIGRlcHRoIDwgZXhpc3RpbmdHcm91cEJ5Lmxlbmd0aFxuICAgICAgICAgIClcblxuICAgICAgICAgIGNvbnN0IHJvdyA9IHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgaXNHcm91cGVkOiB0cnVlLFxuICAgICAgICAgICAgZ3JvdXBCeUlEOiBjb2x1bW5JZCxcbiAgICAgICAgICAgIGdyb3VwQnlWYWwsXG4gICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICBzdWJSb3dzLFxuICAgICAgICAgICAgZGVwdGgsXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBncm91cGVkRmxhdFJvd3MucHVzaChyb3csIC4uLnN1YlJvd3MpXG5cbiAgICAgICAgICByZXR1cm4gcm93XG4gICAgICAgIH1cbiAgICAgIClcblxuICAgICAgcmV0dXJuIGdyb3VwZWRSb3dzXG4gICAgfVxuXG4gICAgY29uc3QgZ3JvdXBlZFJvd3MgPSBncm91cFJlY3Vyc2l2ZWx5KHJvd3MpXG5cbiAgICAvLyBBc3NpZ24gdGhlIG5ldyBkYXRhXG4gICAgcmV0dXJuIFtncm91cGVkUm93cywgZ3JvdXBlZEZsYXRSb3dzXVxuICB9LCBbXG4gICAgbWFudWFsR3JvdXBCeSxcbiAgICBncm91cEJ5LFxuICAgIHJvd3MsXG4gICAgZmxhdFJvd3MsXG4gICAgZmxhdENvbHVtbnMsXG4gICAgdXNlckFnZ3JlZ2F0aW9ucyxcbiAgICBncm91cEJ5Rm4sXG4gIF0pXG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0R3JvdXBCeSA9IHVzZUdldExhdGVzdChhdXRvUmVzZXRHcm91cEJ5KVxuXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRHcm91cEJ5KCkpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5yZXNldEdyb3VwQnkgfSlcbiAgICB9XG4gIH0sIFtkaXNwYXRjaCwgbWFuYXVsR3JvdXBCeSA/IG51bGwgOiBkYXRhXSlcblxuICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgcHJlR3JvdXBlZFJvd3M6IHJvd3MsXG4gICAgcHJlR3JvdXBlZEZsYXRSb3c6IGZsYXRSb3dzLFxuICAgIGdyb3VwZWRSb3dzLFxuICAgIGdyb3VwZWRGbGF0Um93cyxcbiAgICByb3dzOiBncm91cGVkUm93cyxcbiAgICBmbGF0Um93czogZ3JvdXBlZEZsYXRSb3dzLFxuICAgIHRvZ2dsZUdyb3VwQnksXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIGVuc3VyZVBsdWdpbk9yZGVyLFxuICBkZWZhdWx0Q29sdW1uLFxuICBtYWtlUHJvcEdldHRlcixcbiAgdXNlQ29uc3VtZUhvb2tHZXR0ZXIsXG4gIGdldEZpcnN0RGVmaW5lZCxcbiAgZGVmYXVsdE9yZGVyQnlGbixcbiAgaXNGdW5jdGlvbixcbiAgdXNlR2V0TGF0ZXN0LFxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0LFxufSBmcm9tICcuLi91dGlscydcblxuaW1wb3J0ICogYXMgc29ydFR5cGVzIGZyb20gJy4uL3NvcnRUeXBlcydcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5yZXNldFNvcnRCeSA9ICdyZXNldFNvcnRCeSdcbmFjdGlvbnMudG9nZ2xlU29ydEJ5ID0gJ3RvZ2dsZVNvcnRCeSdcbmFjdGlvbnMuY2xlYXJTb3J0QnkgPSAnY2xlYXJTb3J0QnknXG5cbmRlZmF1bHRDb2x1bW4uc29ydFR5cGUgPSAnYWxwaGFudW1lcmljJ1xuZGVmYXVsdENvbHVtbi5zb3J0RGVzY0ZpcnN0ID0gZmFsc2VcblxuZXhwb3J0IGNvbnN0IHVzZVNvcnRCeSA9IGhvb2tzID0+IHtcbiAgaG9va3MuZ2V0U29ydEJ5VG9nZ2xlUHJvcHMgPSBbZGVmYXVsdEdldFNvcnRCeVRvZ2dsZVByb3BzXVxuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlU29ydEJ5LnBsdWdpbk5hbWUgPSAndXNlU29ydEJ5J1xuXG5jb25zdCBkZWZhdWx0R2V0U29ydEJ5VG9nZ2xlUHJvcHMgPSAocHJvcHMsIHsgaW5zdGFuY2UsIGNvbHVtbiB9KSA9PiB7XG4gIGNvbnN0IHsgaXNNdWx0aVNvcnRFdmVudCA9IGUgPT4gZS5zaGlmdEtleSB9ID0gaW5zdGFuY2VcblxuICByZXR1cm4gW1xuICAgIHByb3BzLFxuICAgIHtcbiAgICAgIG9uQ2xpY2s6IGNvbHVtbi5jYW5Tb3J0XG4gICAgICAgID8gZSA9PiB7XG4gICAgICAgICAgICBlLnBlcnNpc3QoKVxuICAgICAgICAgICAgY29sdW1uLnRvZ2dsZVNvcnRCeShcbiAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAhaW5zdGFuY2UuZGlzYWJsZU11bHRpU29ydCAmJiBpc011bHRpU29ydEV2ZW50KGUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGN1cnNvcjogY29sdW1uLmNhblNvcnQgPyAncG9pbnRlcicgOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgICAgdGl0bGU6IGNvbHVtbi5jYW5Tb3J0ID8gJ1RvZ2dsZSBTb3J0QnknIDogdW5kZWZpbmVkLFxuICAgIH0sXG4gIF1cbn1cblxuLy8gUmVkdWNlclxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBwcmV2aW91c1N0YXRlLCBpbnN0YW5jZSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuaW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICBzb3J0Qnk6IFtdLFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0U29ydEJ5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc29ydEJ5OiBpbnN0YW5jZS5pbml0aWFsU3RhdGUuc29ydEJ5IHx8IFtdLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5jbGVhclNvcnRCeSkge1xuICAgIGNvbnN0IHsgc29ydEJ5IH0gPSBzdGF0ZVxuICAgIGNvbnN0IG5ld1NvcnRCeSA9IHNvcnRCeS5maWx0ZXIoZCA9PiBkLmlkICE9PSBhY3Rpb24uY29sdW1uSWQpXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBzb3J0Qnk6IG5ld1NvcnRCeSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMudG9nZ2xlU29ydEJ5KSB7XG4gICAgY29uc3QgeyBjb2x1bW5JZCwgZGVzYywgbXVsdGkgfSA9IGFjdGlvblxuXG4gICAgY29uc3Qge1xuICAgICAgZmxhdENvbHVtbnMsXG4gICAgICBkaXNhYmxlTXVsdGlTb3J0LFxuICAgICAgZGlzYWJsZVNvcnRSZW1vdmUsXG4gICAgICBkaXNhYmxlTXVsdGlSZW1vdmUsXG4gICAgICBtYXhNdWx0aVNvcnRDb2xDb3VudCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgIH0gPSBpbnN0YW5jZVxuXG4gICAgY29uc3QgeyBzb3J0QnkgfSA9IHN0YXRlXG5cbiAgICAvLyBGaW5kIHRoZSBjb2x1bW4gZm9yIHRoaXMgY29sdW1uSWRcbiAgICBjb25zdCBjb2x1bW4gPSBmbGF0Q29sdW1ucy5maW5kKGQgPT4gZC5pZCA9PT0gY29sdW1uSWQpXG4gICAgY29uc3QgeyBzb3J0RGVzY0ZpcnN0IH0gPSBjb2x1bW5cblxuICAgIC8vIEZpbmQgYW55IGV4aXN0aW5nIHNvcnRCeSBmb3IgdGhpcyBjb2x1bW5cbiAgICBjb25zdCBleGlzdGluZ1NvcnRCeSA9IHNvcnRCeS5maW5kKGQgPT4gZC5pZCA9PT0gY29sdW1uSWQpXG4gICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IHNvcnRCeS5maW5kSW5kZXgoZCA9PiBkLmlkID09PSBjb2x1bW5JZClcbiAgICBjb25zdCBoYXNEZXNjRGVmaW5lZCA9IHR5cGVvZiBkZXNjICE9PSAndW5kZWZpbmVkJyAmJiBkZXNjICE9PSBudWxsXG5cbiAgICBsZXQgbmV3U29ydEJ5ID0gW11cblxuICAgIC8vIFdoYXQgc2hvdWxkIHdlIGRvIHdpdGggdGhpcyBzb3J0IGFjdGlvbj9cbiAgICBsZXQgc29ydEFjdGlvblxuXG4gICAgaWYgKCFkaXNhYmxlTXVsdGlTb3J0ICYmIG11bHRpKSB7XG4gICAgICBpZiAoZXhpc3RpbmdTb3J0QnkpIHtcbiAgICAgICAgc29ydEFjdGlvbiA9ICd0b2dnbGUnXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3J0QWN0aW9uID0gJ2FkZCdcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm9ybWFsIG1vZGVcbiAgICAgIGlmIChleGlzdGluZ0luZGV4ICE9PSBzb3J0QnkubGVuZ3RoIC0gMSkge1xuICAgICAgICBzb3J0QWN0aW9uID0gJ3JlcGxhY2UnXG4gICAgICB9IGVsc2UgaWYgKGV4aXN0aW5nU29ydEJ5KSB7XG4gICAgICAgIHNvcnRBY3Rpb24gPSAndG9nZ2xlJ1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc29ydEFjdGlvbiA9ICdyZXBsYWNlJ1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSB0b2dnbGUgc3RhdGVzIHRoYXQgd2lsbCByZW1vdmUgdGhlIHNvcnRCeVxuICAgIGlmIChcbiAgICAgIHNvcnRBY3Rpb24gPT09ICd0b2dnbGUnICYmIC8vIE11c3QgYmUgdG9nZ2xpbmdcbiAgICAgICFkaXNhYmxlU29ydFJlbW92ZSAmJiAvLyBJZiBkaXNhYmxlU29ydFJlbW92ZSwgZGlzYWJsZSBpbiBnZW5lcmFsXG4gICAgICAhaGFzRGVzY0RlZmluZWQgJiYgLy8gTXVzdCBub3QgYmUgc2V0dGluZyBkZXNjXG4gICAgICAobXVsdGkgPyAhZGlzYWJsZU11bHRpUmVtb3ZlIDogdHJ1ZSkgJiYgLy8gSWYgbXVsdGksIGRvbid0IGFsbG93IGlmIGRpc2FibGVNdWx0aVJlbW92ZVxuICAgICAgKChleGlzdGluZ1NvcnRCeSAmJiAvLyBGaW5hbGx5LCBkZXRlY3QgaWYgaXQgc2hvdWxkIGluZGVlZCBiZSByZW1vdmVkXG4gICAgICAgIGV4aXN0aW5nU29ydEJ5LmRlc2MgJiZcbiAgICAgICAgIXNvcnREZXNjRmlyc3QpIHx8XG4gICAgICAgICghZXhpc3RpbmdTb3J0QnkuZGVzYyAmJiBzb3J0RGVzY0ZpcnN0KSlcbiAgICApIHtcbiAgICAgIHNvcnRBY3Rpb24gPSAncmVtb3ZlJ1xuICAgIH1cblxuICAgIGlmIChzb3J0QWN0aW9uID09PSAncmVwbGFjZScpIHtcbiAgICAgIG5ld1NvcnRCeSA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBjb2x1bW5JZCxcbiAgICAgICAgICBkZXNjOiBoYXNEZXNjRGVmaW5lZCA/IGRlc2MgOiBzb3J0RGVzY0ZpcnN0LFxuICAgICAgICB9LFxuICAgICAgXVxuICAgIH0gZWxzZSBpZiAoc29ydEFjdGlvbiA9PT0gJ2FkZCcpIHtcbiAgICAgIG5ld1NvcnRCeSA9IFtcbiAgICAgICAgLi4uc29ydEJ5LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IGNvbHVtbklkLFxuICAgICAgICAgIGRlc2M6IGhhc0Rlc2NEZWZpbmVkID8gZGVzYyA6IHNvcnREZXNjRmlyc3QsXG4gICAgICAgIH0sXG4gICAgICBdXG4gICAgICAvLyBUYWtlIGxhdGVzdCBuIGNvbHVtbnNcbiAgICAgIG5ld1NvcnRCeS5zcGxpY2UoMCwgbmV3U29ydEJ5Lmxlbmd0aCAtIG1heE11bHRpU29ydENvbENvdW50KVxuICAgIH0gZWxzZSBpZiAoc29ydEFjdGlvbiA9PT0gJ3RvZ2dsZScpIHtcbiAgICAgIC8vIFRoaXMgZmxpcHMgKG9yIHNldHMpIHRoZVxuICAgICAgbmV3U29ydEJ5ID0gc29ydEJ5Lm1hcChkID0+IHtcbiAgICAgICAgaWYgKGQuaWQgPT09IGNvbHVtbklkKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmQsXG4gICAgICAgICAgICBkZXNjOiBoYXNEZXNjRGVmaW5lZCA/IGRlc2MgOiAhZXhpc3RpbmdTb3J0QnkuZGVzYyxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRcbiAgICAgIH0pXG4gICAgfSBlbHNlIGlmIChzb3J0QWN0aW9uID09PSAncmVtb3ZlJykge1xuICAgICAgbmV3U29ydEJ5ID0gc29ydEJ5LmZpbHRlcihkID0+IGQuaWQgIT09IGNvbHVtbklkKVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNvcnRCeTogbmV3U29ydEJ5LFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICByb3dzLFxuICAgIGZsYXRDb2x1bW5zLFxuICAgIG9yZGVyQnlGbiA9IGRlZmF1bHRPcmRlckJ5Rm4sXG4gICAgc29ydFR5cGVzOiB1c2VyU29ydFR5cGVzLFxuICAgIG1hbnVhbFNvcnRCeSxcbiAgICBkZWZhdWx0Q2FuU29ydCxcbiAgICBkaXNhYmxlU29ydEJ5LFxuICAgIGZsYXRIZWFkZXJzLFxuICAgIHN0YXRlOiB7IHNvcnRCeSB9LFxuICAgIGRpc3BhdGNoLFxuICAgIHBsdWdpbnMsXG4gICAgYXV0b1Jlc2V0U29ydEJ5ID0gdHJ1ZSxcbiAgfSA9IGluc3RhbmNlXG5cbiAgZW5zdXJlUGx1Z2luT3JkZXIocGx1Z2lucywgWyd1c2VGaWx0ZXJzJ10sICd1c2VTb3J0QnknLCBbXSlcblxuICAvLyBVcGRhdGVzIHNvcnRpbmcgYmFzZWQgb24gYSBjb2x1bW5JZCwgZGVzYyBmbGFnIGFuZCBtdWx0aSBmbGFnXG4gIGNvbnN0IHRvZ2dsZVNvcnRCeSA9IChjb2x1bW5JZCwgZGVzYywgbXVsdGkpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMudG9nZ2xlU29ydEJ5LCBjb2x1bW5JZCwgZGVzYywgbXVsdGkgfSlcbiAgfVxuXG4gIC8vIHVzZSByZWZlcmVuY2UgdG8gYXZvaWQgbWVtb3J5IGxlYWsgaW4gIzE2MDhcbiAgY29uc3QgZ2V0SW5zdGFuY2UgPSB1c2VHZXRMYXRlc3QoaW5zdGFuY2UpXG5cbiAgY29uc3QgZ2V0U29ydEJ5VG9nZ2xlUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldFNvcnRCeVRvZ2dsZVByb3BzJ1xuICApXG5cbiAgLy8gQWRkIHRoZSBnZXRTb3J0QnlUb2dnbGVQcm9wcyBtZXRob2QgdG8gY29sdW1ucyBhbmQgaGVhZGVyc1xuICBmbGF0SGVhZGVycy5mb3JFYWNoKGNvbHVtbiA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgYWNjZXNzb3IsXG4gICAgICBjYW5Tb3J0OiBkZWZhdWx0Q29sdW1uQ2FuU29ydCxcbiAgICAgIGRpc2FibGVTb3J0Qnk6IGNvbHVtbkRpc2FibGVTb3J0QnksXG4gICAgICBpZCxcbiAgICB9ID0gY29sdW1uXG5cbiAgICBjb25zdCBjYW5Tb3J0ID0gYWNjZXNzb3JcbiAgICAgID8gZ2V0Rmlyc3REZWZpbmVkKFxuICAgICAgICAgIGNvbHVtbkRpc2FibGVTb3J0QnkgPT09IHRydWUgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBkaXNhYmxlU29ydEJ5ID09PSB0cnVlID8gZmFsc2UgOiB1bmRlZmluZWQsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApXG4gICAgICA6IGdldEZpcnN0RGVmaW5lZChkZWZhdWx0Q2FuU29ydCwgZGVmYXVsdENvbHVtbkNhblNvcnQsIGZhbHNlKVxuXG4gICAgY29sdW1uLmNhblNvcnQgPSBjYW5Tb3J0XG5cbiAgICBpZiAoY29sdW1uLmNhblNvcnQpIHtcbiAgICAgIGNvbHVtbi50b2dnbGVTb3J0QnkgPSAoZGVzYywgbXVsdGkpID0+XG4gICAgICAgIHRvZ2dsZVNvcnRCeShjb2x1bW4uaWQsIGRlc2MsIG11bHRpKVxuXG4gICAgICBjb2x1bW4uY2xlYXJTb3J0QnkgPSAoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5jbGVhclNvcnRCeSwgY29sdW1uSWQ6IGNvbHVtbi5pZCB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbHVtbi5nZXRTb3J0QnlUb2dnbGVQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldFNvcnRCeVRvZ2dsZVByb3BzSG9va3MoKSwge1xuICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICBjb2x1bW4sXG4gICAgfSlcblxuICAgIGNvbnN0IGNvbHVtblNvcnQgPSBzb3J0QnkuZmluZChkID0+IGQuaWQgPT09IGlkKVxuICAgIGNvbHVtbi5pc1NvcnRlZCA9ICEhY29sdW1uU29ydFxuICAgIGNvbHVtbi5zb3J0ZWRJbmRleCA9IHNvcnRCeS5maW5kSW5kZXgoZCA9PiBkLmlkID09PSBpZClcbiAgICBjb2x1bW4uaXNTb3J0ZWREZXNjID0gY29sdW1uLmlzU29ydGVkID8gY29sdW1uU29ydC5kZXNjIDogdW5kZWZpbmVkXG4gIH0pXG5cbiAgY29uc3Qgc29ydGVkUm93cyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChtYW51YWxTb3J0QnkgfHwgIXNvcnRCeS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiByb3dzXG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIG91dCBzb3J0QnlzIHRoYXQgY29ycmVzcG9uZCB0byBub24gZXhpc3RpbmcgY29sdW1uc1xuICAgIGNvbnN0IGF2YWlsYWJsZVNvcnRCeSA9IHNvcnRCeS5maWx0ZXIoc29ydCA9PlxuICAgICAgZmxhdENvbHVtbnMuZmluZChjb2wgPT4gY29sLmlkID09PSBzb3J0LmlkKVxuICAgIClcblxuICAgIGNvbnN0IHNvcnREYXRhID0gcm93cyA9PiB7XG4gICAgICAvLyBVc2UgdGhlIG9yZGVyQnlGbiB0byBjb21wb3NlIG11bHRpcGxlIHNvcnRCeSdzIHRvZ2V0aGVyLlxuICAgICAgLy8gVGhpcyB3aWxsIGFsc28gcGVyZm9ybSBhIHN0YWJsZSBzb3J0aW5nIHVzaW5nIHRoZSByb3cgaW5kZXhcbiAgICAgIC8vIGlmIG5lZWRlZC5cbiAgICAgIGNvbnN0IHNvcnRlZERhdGEgPSBvcmRlckJ5Rm4oXG4gICAgICAgIHJvd3MsXG4gICAgICAgIGF2YWlsYWJsZVNvcnRCeS5tYXAoc29ydCA9PiB7XG4gICAgICAgICAgLy8gU3VwcG9ydCBjdXN0b20gc29ydGluZyBtZXRob2RzIGZvciBlYWNoIGNvbHVtblxuICAgICAgICAgIGNvbnN0IGNvbHVtbiA9IGZsYXRDb2x1bW5zLmZpbmQoZCA9PiBkLmlkID09PSBzb3J0LmlkKVxuXG4gICAgICAgICAgaWYgKCFjb2x1bW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYFJlYWN0LVRhYmxlOiBDb3VsZCBub3QgZmluZCBhIGNvbHVtbiB3aXRoIGlkOiAke3NvcnQuaWR9IHdoaWxlIHNvcnRpbmdgXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgeyBzb3J0VHlwZSB9ID0gY29sdW1uXG5cbiAgICAgICAgICAvLyBMb29rIHVwIHNvcnRCeSBmdW5jdGlvbnMgaW4gdGhpcyBvcmRlcjpcbiAgICAgICAgICAvLyBjb2x1bW4gZnVuY3Rpb25cbiAgICAgICAgICAvLyBjb2x1bW4gc3RyaW5nIGxvb2t1cCBvbiB1c2VyIHNvcnRUeXBlXG4gICAgICAgICAgLy8gY29sdW1uIHN0cmluZyBsb29rdXAgb24gYnVpbHQtaW4gc29ydFR5cGVcbiAgICAgICAgICAvLyBkZWZhdWx0IGZ1bmN0aW9uXG4gICAgICAgICAgLy8gZGVmYXVsdCBzdHJpbmcgbG9va3VwIG9uIHVzZXIgc29ydFR5cGVcbiAgICAgICAgICAvLyBkZWZhdWx0IHN0cmluZyBsb29rdXAgb24gYnVpbHQtaW4gc29ydFR5cGVcbiAgICAgICAgICBjb25zdCBzb3J0TWV0aG9kID1cbiAgICAgICAgICAgIGlzRnVuY3Rpb24oc29ydFR5cGUpIHx8XG4gICAgICAgICAgICAodXNlclNvcnRUeXBlcyB8fCB7fSlbc29ydFR5cGVdIHx8XG4gICAgICAgICAgICBzb3J0VHlwZXNbc29ydFR5cGVdXG5cbiAgICAgICAgICBpZiAoIXNvcnRNZXRob2QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYFJlYWN0LVRhYmxlOiBDb3VsZCBub3QgZmluZCBhIHZhbGlkIHNvcnRUeXBlIG9mICcke3NvcnRUeXBlfScgZm9yIGNvbHVtbiAnJHtzb3J0LmlkfScuYFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJldHVybiB0aGUgY29ycmVjdCBzb3J0Rm4uXG4gICAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiBzaG91bGQgYWx3YXlzIHJldHVybiBpbiBhc2NlbmRpbmcgb3JkZXJcbiAgICAgICAgICByZXR1cm4gKGEsIGIpID0+IHNvcnRNZXRob2QoYSwgYiwgc29ydC5pZClcbiAgICAgICAgfSksXG4gICAgICAgIC8vIE1hcCB0aGUgZGlyZWN0aW9uc1xuICAgICAgICBhdmFpbGFibGVTb3J0QnkubWFwKHNvcnQgPT4ge1xuICAgICAgICAgIC8vIERldGVjdCBhbmQgdXNlIHRoZSBzb3J0SW52ZXJ0ZWQgb3B0aW9uXG4gICAgICAgICAgY29uc3QgY29sdW1uID0gZmxhdENvbHVtbnMuZmluZChkID0+IGQuaWQgPT09IHNvcnQuaWQpXG5cbiAgICAgICAgICBpZiAoY29sdW1uICYmIGNvbHVtbi5zb3J0SW52ZXJ0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3J0LmRlc2NcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gIXNvcnQuZGVzY1xuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICAvLyBJZiB0aGVyZSBhcmUgc3ViLXJvd3MsIHNvcnQgdGhlbVxuICAgICAgc29ydGVkRGF0YS5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgIGlmICghcm93LnN1YlJvd3MgfHwgcm93LnN1YlJvd3MubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICByb3cuc3ViUm93cyA9IHNvcnREYXRhKHJvdy5zdWJSb3dzKVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHNvcnRlZERhdGFcbiAgICB9XG5cbiAgICByZXR1cm4gc29ydERhdGEocm93cylcbiAgfSwgW21hbnVhbFNvcnRCeSwgc29ydEJ5LCByb3dzLCBmbGF0Q29sdW1ucywgb3JkZXJCeUZuLCB1c2VyU29ydFR5cGVzXSlcblxuICBjb25zdCBnZXRBdXRvUmVzZXRTb3J0QnkgPSB1c2VHZXRMYXRlc3QoYXV0b1Jlc2V0U29ydEJ5KVxuXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRTb3J0QnkoKSkge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnJlc2V0U29ydEJ5IH0pXG4gICAgfVxuICB9LCBbbWFudWFsU29ydEJ5ID8gbnVsbCA6IGRhdGFdKVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBwcmVTb3J0ZWRSb3dzOiByb3dzLFxuICAgIHNvcnRlZFJvd3MsXG4gICAgcm93czogc29ydGVkUm93cyxcbiAgICB0b2dnbGVTb3J0QnksXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbi8vXG5cbmltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIGVuc3VyZVBsdWdpbk9yZGVyLFxuICBleHBhbmRSb3dzLFxuICBmdW5jdGlvbmFsVXBkYXRlLFxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0LFxuICB1c2VHZXRMYXRlc3QsXG59IGZyb20gJy4uL3V0aWxzJ1xuXG5jb25zdCBwbHVnaW5OYW1lID0gJ3VzZVBhZ2luYXRpb24nXG5cbi8vIEFjdGlvbnNcbmFjdGlvbnMucmVzZXRQYWdlID0gJ3Jlc2V0UGFnZSdcbmFjdGlvbnMuZ290b1BhZ2UgPSAnZ290b1BhZ2UnXG5hY3Rpb25zLnNldFBhZ2VTaXplID0gJ3NldFBhZ2VTaXplJ1xuXG5leHBvcnQgY29uc3QgdXNlUGFnaW5hdGlvbiA9IGhvb2tzID0+IHtcbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG59XG5cbnVzZVBhZ2luYXRpb24ucGx1Z2luTmFtZSA9IHBsdWdpbk5hbWVcblxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBwcmV2aW91c1N0YXRlLCBpbnN0YW5jZSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuaW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICBwYWdlU2l6ZTogMTAsXG4gICAgICBwYWdlSW5kZXg6IDAsXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMucmVzZXRQYWdlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgcGFnZUluZGV4OiBpbnN0YW5jZS5pbml0aWFsU3RhdGUucGFnZUluZGV4IHx8IDAsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmdvdG9QYWdlKSB7XG4gICAgY29uc3QgeyBwYWdlQ291bnQgfSA9IGluc3RhbmNlXG4gICAgY29uc3QgbmV3UGFnZUluZGV4ID0gZnVuY3Rpb25hbFVwZGF0ZShhY3Rpb24ucGFnZUluZGV4LCBzdGF0ZS5wYWdlSW5kZXgpXG5cbiAgICBpZiAobmV3UGFnZUluZGV4IDwgMCB8fCBuZXdQYWdlSW5kZXggPiBwYWdlQ291bnQgLSAxKSB7XG4gICAgICByZXR1cm4gc3RhdGVcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgcGFnZUluZGV4OiBuZXdQYWdlSW5kZXgsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnNldFBhZ2VTaXplKSB7XG4gICAgY29uc3QgeyBwYWdlU2l6ZSB9ID0gYWN0aW9uXG4gICAgY29uc3QgdG9wUm93SW5kZXggPSBzdGF0ZS5wYWdlU2l6ZSAqIHN0YXRlLnBhZ2VJbmRleFxuICAgIGNvbnN0IHBhZ2VJbmRleCA9IE1hdGguZmxvb3IodG9wUm93SW5kZXggLyBwYWdlU2l6ZSlcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHBhZ2VJbmRleCxcbiAgICAgIHBhZ2VTaXplLFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgcm93cyxcbiAgICBhdXRvUmVzZXRQYWdlID0gdHJ1ZSxcbiAgICBtYW51YWxFeHBhbmRlZEtleSA9ICdleHBhbmRlZCcsXG4gICAgcGx1Z2lucyxcbiAgICBwYWdlQ291bnQ6IHVzZXJQYWdlQ291bnQsXG4gICAgcGFnaW5hdGVFeHBhbmRlZFJvd3MgPSB0cnVlLFxuICAgIGV4cGFuZFN1YlJvd3MgPSB0cnVlLFxuICAgIHN0YXRlOiB7IHBhZ2VTaXplLCBwYWdlSW5kZXgsIGV4cGFuZGVkLCBmaWx0ZXJzLCBncm91cEJ5LCBzb3J0QnkgfSxcbiAgICBkaXNwYXRjaCxcbiAgICBkYXRhLFxuICAgIG1hbnVhbFBhZ2luYXRpb24sXG4gICAgbWFudWFsRmlsdGVycyxcbiAgICBtYW51YWxHcm91cEJ5LFxuICAgIG1hbnVhbFNvcnRCeSxcbiAgfSA9IGluc3RhbmNlXG5cbiAgZW5zdXJlUGx1Z2luT3JkZXIoXG4gICAgcGx1Z2lucyxcbiAgICBbJ3VzZUZpbHRlcnMnLCAndXNlR3JvdXBCeScsICd1c2VTb3J0QnknLCAndXNlRXhwYW5kZWQnXSxcbiAgICAndXNlUGFnaW5hdGlvbicsXG4gICAgW11cbiAgKVxuXG4gIGNvbnN0IGdldEF1dG9SZXNldFBhZ2UgPSB1c2VHZXRMYXRlc3QoYXV0b1Jlc2V0UGFnZSlcblxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2V0QXV0b1Jlc2V0UGFnZSgpKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMucmVzZXRQYWdlIH0pXG4gICAgfVxuICB9LCBbXG4gICAgZGlzcGF0Y2gsXG4gICAgbWFudWFsUGFnaW5hdGlvbiA/IG51bGwgOiBkYXRhLFxuICAgIG1hbnVhbFBhZ2luYXRpb24gfHwgbWFudWFsRmlsdGVycyA/IG51bGwgOiBmaWx0ZXJzLFxuICAgIG1hbnVhbFBhZ2luYXRpb24gfHwgbWFudWFsR3JvdXBCeSA/IG51bGwgOiBncm91cEJ5LFxuICAgIG1hbnVhbFBhZ2luYXRpb24gfHwgbWFudWFsU29ydEJ5ID8gbnVsbCA6IHNvcnRCeSxcbiAgXSlcblxuICBjb25zdCBwYWdlQ291bnQgPSBtYW51YWxQYWdpbmF0aW9uXG4gICAgPyB1c2VyUGFnZUNvdW50XG4gICAgOiBNYXRoLmNlaWwocm93cy5sZW5ndGggLyBwYWdlU2l6ZSlcblxuICBjb25zdCBwYWdlT3B0aW9ucyA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT4gKHBhZ2VDb3VudCA+IDAgPyBbLi4ubmV3IEFycmF5KHBhZ2VDb3VudCldLm1hcCgoZCwgaSkgPT4gaSkgOiBbXSksXG4gICAgW3BhZ2VDb3VudF1cbiAgKVxuXG4gIGNvbnN0IHBhZ2UgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgcGFnZVxuXG4gICAgaWYgKG1hbnVhbFBhZ2luYXRpb24pIHtcbiAgICAgIHBhZ2UgPSByb3dzXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBhZ2VTdGFydCA9IHBhZ2VTaXplICogcGFnZUluZGV4XG4gICAgICBjb25zdCBwYWdlRW5kID0gcGFnZVN0YXJ0ICsgcGFnZVNpemVcblxuICAgICAgcGFnZSA9IHJvd3Muc2xpY2UocGFnZVN0YXJ0LCBwYWdlRW5kKVxuICAgIH1cblxuICAgIGlmIChwYWdpbmF0ZUV4cGFuZGVkUm93cykge1xuICAgICAgcmV0dXJuIHBhZ2VcbiAgICB9XG5cbiAgICByZXR1cm4gZXhwYW5kUm93cyhwYWdlLCB7IG1hbnVhbEV4cGFuZGVkS2V5LCBleHBhbmRlZCwgZXhwYW5kU3ViUm93cyB9KVxuICB9LCBbXG4gICAgZXhwYW5kU3ViUm93cyxcbiAgICBleHBhbmRlZCxcbiAgICBtYW51YWxFeHBhbmRlZEtleSxcbiAgICBtYW51YWxQYWdpbmF0aW9uLFxuICAgIHBhZ2VJbmRleCxcbiAgICBwYWdlU2l6ZSxcbiAgICBwYWdpbmF0ZUV4cGFuZGVkUm93cyxcbiAgICByb3dzLFxuICBdKVxuXG4gIGNvbnN0IGNhblByZXZpb3VzUGFnZSA9IHBhZ2VJbmRleCA+IDBcbiAgY29uc3QgY2FuTmV4dFBhZ2UgPSBwYWdlQ291bnQgPT09IC0xIHx8IHBhZ2VJbmRleCA8IHBhZ2VDb3VudCAtIDFcblxuICBjb25zdCBnb3RvUGFnZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIHBhZ2VJbmRleCA9PiB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMuZ290b1BhZ2UsIHBhZ2VJbmRleCB9KVxuICAgIH0sXG4gICAgW2Rpc3BhdGNoXVxuICApXG5cbiAgY29uc3QgcHJldmlvdXNQYWdlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBnb3RvUGFnZShvbGQgPT4gb2xkIC0gMSlcbiAgfSwgW2dvdG9QYWdlXSlcblxuICBjb25zdCBuZXh0UGFnZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICByZXR1cm4gZ290b1BhZ2Uob2xkID0+IG9sZCArIDEpXG4gIH0sIFtnb3RvUGFnZV0pXG5cbiAgY29uc3Qgc2V0UGFnZVNpemUgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICBwYWdlU2l6ZSA9PiB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMuc2V0UGFnZVNpemUsIHBhZ2VTaXplIH0pXG4gICAgfSxcbiAgICBbZGlzcGF0Y2hdXG4gIClcblxuICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgcGFnZU9wdGlvbnMsXG4gICAgcGFnZUNvdW50LFxuICAgIHBhZ2UsXG4gICAgY2FuUHJldmlvdXNQYWdlLFxuICAgIGNhbk5leHRQYWdlLFxuICAgIGdvdG9QYWdlLFxuICAgIHByZXZpb3VzUGFnZSxcbiAgICBuZXh0UGFnZSxcbiAgICBzZXRQYWdlU2l6ZSxcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgbWFrZVByb3BHZXR0ZXIsXG4gIGVuc3VyZVBsdWdpbk9yZGVyLFxuICB1c2VHZXRMYXRlc3QsXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QsXG4gIHVzZUNvbnN1bWVIb29rR2V0dGVyLFxufSBmcm9tICcuLi91dGlscydcblxuY29uc3QgcGx1Z2luTmFtZSA9ICd1c2VSb3dTZWxlY3QnXG5cbi8vIEFjdGlvbnNcbmFjdGlvbnMucmVzZXRTZWxlY3RlZFJvd3MgPSAncmVzZXRTZWxlY3RlZFJvd3MnXG5hY3Rpb25zLnRvZ2dsZUFsbFJvd3NTZWxlY3RlZCA9ICd0b2dnbGVBbGxSb3dzU2VsZWN0ZWQnXG5hY3Rpb25zLnRvZ2dsZVJvd1NlbGVjdGVkID0gJ3RvZ2dsZVJvd1NlbGVjdGVkJ1xuXG5leHBvcnQgY29uc3QgdXNlUm93U2VsZWN0ID0gaG9va3MgPT4ge1xuICBob29rcy5nZXRUb2dnbGVSb3dTZWxlY3RlZFByb3BzID0gW2RlZmF1bHRHZXRUb2dnbGVSb3dTZWxlY3RlZFByb3BzXVxuICBob29rcy5nZXRUb2dnbGVBbGxSb3dzU2VsZWN0ZWRQcm9wcyA9IFtkZWZhdWx0R2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkUHJvcHNdXG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy51c2VSb3dzLnB1c2godXNlUm93cylcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlUm93U2VsZWN0LnBsdWdpbk5hbWUgPSBwbHVnaW5OYW1lXG5cbmNvbnN0IGRlZmF1bHRHZXRUb2dnbGVSb3dTZWxlY3RlZFByb3BzID0gKHByb3BzLCB7IGluc3RhbmNlLCByb3cgfSkgPT4ge1xuICBjb25zdCB7IG1hbnVhbFJvd1NlbGVjdGVkS2V5ID0gJ2lzU2VsZWN0ZWQnIH0gPSBpbnN0YW5jZVxuICBsZXQgY2hlY2tlZCA9IGZhbHNlXG5cbiAgaWYgKHJvdy5vcmlnaW5hbCAmJiByb3cub3JpZ2luYWxbbWFudWFsUm93U2VsZWN0ZWRLZXldKSB7XG4gICAgY2hlY2tlZCA9IHRydWVcbiAgfSBlbHNlIHtcbiAgICBjaGVja2VkID0gcm93LmlzU2VsZWN0ZWRcbiAgfVxuXG4gIHJldHVybiBbXG4gICAgcHJvcHMsXG4gICAge1xuICAgICAgb25DaGFuZ2U6IGUgPT4ge1xuICAgICAgICByb3cudG9nZ2xlUm93U2VsZWN0ZWQoZS50YXJnZXQuY2hlY2tlZClcbiAgICAgIH0sXG4gICAgICBzdHlsZToge1xuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIH0sXG4gICAgICBjaGVja2VkLFxuICAgICAgdGl0bGU6ICdUb2dnbGUgUm93IFNlbGVjdGVkJyxcbiAgICAgIGluZGV0ZXJtaW5hdGU6IHJvdy5pc1NvbWVTZWxlY3RlZCxcbiAgICB9LFxuICBdXG59XG5cbmNvbnN0IGRlZmF1bHRHZXRUb2dnbGVBbGxSb3dzU2VsZWN0ZWRQcm9wcyA9IChwcm9wcywgeyBpbnN0YW5jZSB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgb25DaGFuZ2U6IGUgPT4ge1xuICAgICAgaW5zdGFuY2UudG9nZ2xlQWxsUm93c1NlbGVjdGVkKGUudGFyZ2V0LmNoZWNrZWQpXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgfSxcbiAgICBjaGVja2VkOiBpbnN0YW5jZS5pc0FsbFJvd3NTZWxlY3RlZCxcbiAgICB0aXRsZTogJ1RvZ2dsZSBBbGwgUm93cyBTZWxlY3RlZCcsXG4gICAgaW5kZXRlcm1pbmF0ZTogQm9vbGVhbihcbiAgICAgICFpbnN0YW5jZS5pc0FsbFJvd3NTZWxlY3RlZCAmJlxuICAgICAgICBPYmplY3Qua2V5cyhpbnN0YW5jZS5zdGF0ZS5zZWxlY3RlZFJvd0lkcykubGVuZ3RoXG4gICAgKSxcbiAgfSxcbl1cblxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBwcmV2aW91c1N0YXRlLCBpbnN0YW5jZSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuaW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3RlZFJvd0lkczoge30sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMucmVzZXRTZWxlY3RlZFJvd3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBzZWxlY3RlZFJvd0lkczogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLnNlbGVjdGVkUm93SWRzIHx8IHt9LFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy50b2dnbGVBbGxSb3dzU2VsZWN0ZWQpIHtcbiAgICBjb25zdCB7IHNlbGVjdGVkIH0gPSBhY3Rpb25cbiAgICBjb25zdCB7IGlzQWxsUm93c1NlbGVjdGVkLCBmbGF0Um93c0J5SWQgfSA9IGluc3RhbmNlXG5cbiAgICBjb25zdCBzZWxlY3RBbGwgPVxuICAgICAgdHlwZW9mIHNlbGVjdGVkICE9PSAndW5kZWZpbmVkJyA/IHNlbGVjdGVkIDogIWlzQWxsUm93c1NlbGVjdGVkXG5cbiAgICBpZiAoc2VsZWN0QWxsKSB7XG4gICAgICBjb25zdCBzZWxlY3RlZFJvd0lkcyA9IHt9XG5cbiAgICAgIE9iamVjdC5rZXlzKGZsYXRSb3dzQnlJZCkuZm9yRWFjaChyb3dJZCA9PiB7XG4gICAgICAgIHNlbGVjdGVkUm93SWRzW3Jvd0lkXSA9IHRydWVcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBzZWxlY3RlZFJvd0lkcyxcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBzZWxlY3RlZFJvd0lkczoge30sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnRvZ2dsZVJvd1NlbGVjdGVkKSB7XG4gICAgY29uc3QgeyBpZCwgc2VsZWN0ZWQgfSA9IGFjdGlvblxuICAgIGNvbnN0IHsgZmxhdEdyb3VwZWRSb3dzQnlJZCB9ID0gaW5zdGFuY2VcblxuICAgIC8vIEpvaW4gdGhlIGlkcyBvZiBkZWVwIHJvd3NcbiAgICAvLyB0byBtYWtlIGEga2V5LCB0aGVuIG1hbmFnZSBhbGwgb2YgdGhlIGtleXNcbiAgICAvLyBpbiBhIGZsYXQgb2JqZWN0XG4gICAgY29uc3Qgcm93ID0gZmxhdEdyb3VwZWRSb3dzQnlJZFtpZF1cbiAgICBjb25zdCBpc1NlbGVjdGVkID0gcm93LmlzU2VsZWN0ZWRcbiAgICBjb25zdCBzaG91bGRFeGlzdCA9IHR5cGVvZiBzZWxlY3RlZCAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxlY3RlZCA6ICFpc1NlbGVjdGVkXG5cbiAgICBpZiAoaXNTZWxlY3RlZCA9PT0gc2hvdWxkRXhpc3QpIHtcbiAgICAgIHJldHVybiBzdGF0ZVxuICAgIH1cblxuICAgIGxldCBuZXdTZWxlY3RlZFJvd0lkcyA9IHsgLi4uc3RhdGUuc2VsZWN0ZWRSb3dJZHMgfVxuXG4gICAgY29uc3QgaGFuZGxlUm93QnlJZCA9IGlkID0+IHtcbiAgICAgIGNvbnN0IHJvdyA9IGZsYXRHcm91cGVkUm93c0J5SWRbaWRdXG5cbiAgICAgIGlmICghcm93LmlzR3JvdXBlZCkge1xuICAgICAgICBpZiAoIWlzU2VsZWN0ZWQgJiYgc2hvdWxkRXhpc3QpIHtcbiAgICAgICAgICBuZXdTZWxlY3RlZFJvd0lkc1tpZF0gPSB0cnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaXNTZWxlY3RlZCAmJiAhc2hvdWxkRXhpc3QpIHtcbiAgICAgICAgICBkZWxldGUgbmV3U2VsZWN0ZWRSb3dJZHNbaWRdXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHJvdy5zdWJSb3dzKSB7XG4gICAgICAgIHJldHVybiByb3cuc3ViUm93cy5mb3JFYWNoKHJvdyA9PiBoYW5kbGVSb3dCeUlkKHJvdy5pZCkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlUm93QnlJZChpZClcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNlbGVjdGVkUm93SWRzOiBuZXdTZWxlY3RlZFJvd0lkcyxcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlUm93cyhyb3dzLCB7IGluc3RhbmNlIH0pIHtcbiAgY29uc3Qge1xuICAgIHN0YXRlOiB7IHNlbGVjdGVkUm93SWRzIH0sXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGluc3RhbmNlLnNlbGVjdGVkRmxhdFJvd3MgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZEZsYXRSb3dzID0gW11cblxuICAgIHJvd3MuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IGdldFJvd0lzU2VsZWN0ZWQocm93LCBzZWxlY3RlZFJvd0lkcylcbiAgICAgIHJvdy5pc1NlbGVjdGVkID0gISFpc1NlbGVjdGVkXG4gICAgICByb3cuaXNTb21lU2VsZWN0ZWQgPSBpc1NlbGVjdGVkID09PSBudWxsXG5cbiAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgIHNlbGVjdGVkRmxhdFJvd3MucHVzaChyb3cpXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiBzZWxlY3RlZEZsYXRSb3dzXG4gIH0sIFtyb3dzLCBzZWxlY3RlZFJvd0lkc10pXG5cbiAgcmV0dXJuIHJvd3Ncbn1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGRhdGEsXG4gICAgaG9va3MsXG4gICAgcGx1Z2lucyxcbiAgICBmbGF0Um93cyxcbiAgICBhdXRvUmVzZXRTZWxlY3RlZFJvd3MgPSB0cnVlLFxuICAgIHN0YXRlOiB7IHNlbGVjdGVkUm93SWRzIH0sXG4gICAgZGlzcGF0Y2gsXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGVuc3VyZVBsdWdpbk9yZGVyKFxuICAgIHBsdWdpbnMsXG4gICAgWyd1c2VGaWx0ZXJzJywgJ3VzZUdyb3VwQnknLCAndXNlU29ydEJ5J10sXG4gICAgJ3VzZVJvd1NlbGVjdCcsXG4gICAgW11cbiAgKVxuXG4gIGNvbnN0IFtmbGF0Um93c0J5SWQsIGZsYXRHcm91cGVkUm93c0J5SWRdID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgYWxsID0ge31cbiAgICBjb25zdCBncm91cGVkID0ge31cblxuICAgIGZsYXRSb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgIGlmICghcm93LmlzR3JvdXBlZCkge1xuICAgICAgICBhbGxbcm93LmlkXSA9IHJvd1xuICAgICAgfVxuICAgICAgZ3JvdXBlZFtyb3cuaWRdID0gcm93XG4gICAgfSlcblxuICAgIHJldHVybiBbYWxsLCBncm91cGVkXVxuICB9LCBbZmxhdFJvd3NdKVxuXG4gIGxldCBpc0FsbFJvd3NTZWxlY3RlZCA9IEJvb2xlYW4oXG4gICAgT2JqZWN0LmtleXMoZmxhdFJvd3NCeUlkKS5sZW5ndGggJiYgT2JqZWN0LmtleXMoc2VsZWN0ZWRSb3dJZHMpLmxlbmd0aFxuICApXG5cbiAgaWYgKGlzQWxsUm93c1NlbGVjdGVkKSB7XG4gICAgaWYgKE9iamVjdC5rZXlzKGZsYXRSb3dzQnlJZCkuc29tZShpZCA9PiAhc2VsZWN0ZWRSb3dJZHNbaWRdKSkge1xuICAgICAgaXNBbGxSb3dzU2VsZWN0ZWQgPSBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGdldEF1dG9SZXNldFNlbGVjdGVkUm93cyA9IHVzZUdldExhdGVzdChhdXRvUmVzZXRTZWxlY3RlZFJvd3MpXG5cbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdldEF1dG9SZXNldFNlbGVjdGVkUm93cygpKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMucmVzZXRTZWxlY3RlZFJvd3MgfSlcbiAgICB9XG4gIH0sIFtkaXNwYXRjaCwgZGF0YV0pXG5cbiAgY29uc3QgdG9nZ2xlQWxsUm93c1NlbGVjdGVkID0gc2VsZWN0ZWQgPT5cbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMudG9nZ2xlQWxsUm93c1NlbGVjdGVkLCBzZWxlY3RlZCB9KVxuXG4gIGNvbnN0IHRvZ2dsZVJvd1NlbGVjdGVkID0gKGlkLCBzZWxlY3RlZCkgPT5cbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMudG9nZ2xlUm93U2VsZWN0ZWQsIGlkLCBzZWxlY3RlZCB9KVxuXG4gIGNvbnN0IGdldEluc3RhbmNlID0gdXNlR2V0TGF0ZXN0KGluc3RhbmNlKVxuXG4gIGNvbnN0IGdldFRvZ2dsZUFsbFJvd3NTZWxlY3RlZFByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRUb2dnbGVBbGxSb3dzU2VsZWN0ZWRQcm9wcydcbiAgKVxuXG4gIGNvbnN0IGdldFRvZ2dsZUFsbFJvd3NTZWxlY3RlZFByb3BzID0gbWFrZVByb3BHZXR0ZXIoXG4gICAgZ2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkUHJvcHNIb29rcygpLFxuICAgIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCkgfVxuICApXG5cbiAgY29uc3QgZ2V0VG9nZ2xlUm93U2VsZWN0ZWRQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0VG9nZ2xlUm93U2VsZWN0ZWRQcm9wcydcbiAgKVxuXG4gIGhvb2tzLnByZXBhcmVSb3cucHVzaChyb3cgPT4ge1xuICAgIHJvdy50b2dnbGVSb3dTZWxlY3RlZCA9IHNldCA9PiB0b2dnbGVSb3dTZWxlY3RlZChyb3cuaWQsIHNldClcblxuICAgIHJvdy5nZXRUb2dnbGVSb3dTZWxlY3RlZFByb3BzID0gbWFrZVByb3BHZXR0ZXIoXG4gICAgICBnZXRUb2dnbGVSb3dTZWxlY3RlZFByb3BzSG9va3MoKSxcbiAgICAgIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksIHJvdyB9XG4gICAgKVxuICB9KVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBmbGF0Um93c0J5SWQsXG4gICAgZmxhdEdyb3VwZWRSb3dzQnlJZCxcbiAgICB0b2dnbGVSb3dTZWxlY3RlZCxcbiAgICB0b2dnbGVBbGxSb3dzU2VsZWN0ZWQsXG4gICAgZ2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkUHJvcHMsXG4gICAgaXNBbGxSb3dzU2VsZWN0ZWQsXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGdldFJvd0lzU2VsZWN0ZWQocm93LCBzZWxlY3RlZFJvd0lkcykge1xuICBpZiAoc2VsZWN0ZWRSb3dJZHNbcm93LmlkXSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBpZiAocm93LnN1YlJvd3MgJiYgcm93LnN1YlJvd3MubGVuZ3RoKSB7XG4gICAgbGV0IGFsbENoaWxkcmVuU2VsZWN0ZWQgPSB0cnVlXG4gICAgbGV0IHNvbWVTZWxlY3RlZCA9IGZhbHNlXG5cbiAgICByb3cuc3ViUm93cy5mb3JFYWNoKHN1YlJvdyA9PiB7XG4gICAgICAvLyBCYWlsIG91dCBlYXJseSBpZiB3ZSBrbm93IGJvdGggb2YgdGhlc2VcbiAgICAgIGlmIChzb21lU2VsZWN0ZWQgJiYgIWFsbENoaWxkcmVuU2VsZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChnZXRSb3dJc1NlbGVjdGVkKHN1YlJvdywgc2VsZWN0ZWRSb3dJZHMpKSB7XG4gICAgICAgIHNvbWVTZWxlY3RlZCA9IHRydWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsbENoaWxkcmVuU2VsZWN0ZWQgPSBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGFsbENoaWxkcmVuU2VsZWN0ZWQgPyB0cnVlIDogc29tZVNlbGVjdGVkID8gbnVsbCA6IGZhbHNlXG4gIH1cblxuICByZXR1cm4gZmFsc2Vcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgZnVuY3Rpb25hbFVwZGF0ZSxcbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCxcbiAgdXNlR2V0TGF0ZXN0LFxufSBmcm9tICcuLi91dGlscydcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5zZXRSb3dTdGF0ZSA9ICdzZXRSb3dTdGF0ZSdcbmFjdGlvbnMucmVzZXRSb3dTdGF0ZSA9ICdyZXNldFJvd1N0YXRlJ1xuXG5leHBvcnQgY29uc3QgdXNlUm93U3RhdGUgPSBob29rcyA9PiB7XG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VSb3dTdGF0ZS5wbHVnaW5OYW1lID0gJ3VzZVJvd1N0YXRlJ1xuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd1N0YXRlOiB7fSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldFJvd1N0YXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgcm93U3RhdGU6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5yb3dTdGF0ZSB8fCB7fSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuc2V0Um93U3RhdGUpIHtcbiAgICBjb25zdCB7IGlkLCB2YWx1ZSB9ID0gYWN0aW9uXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICByb3dTdGF0ZToge1xuICAgICAgICAuLi5zdGF0ZS5yb3dTdGF0ZSxcbiAgICAgICAgW2lkXTogZnVuY3Rpb25hbFVwZGF0ZSh2YWx1ZSwgc3RhdGUucm93U3RhdGVbaWRdIHx8IHt9KSxcbiAgICAgIH0sXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBob29rcyxcbiAgICBpbml0aWFsUm93U3RhdGVBY2Nlc3NvcixcbiAgICBhdXRvUmVzZXRSb3dTdGF0ZSA9IHRydWUsXG4gICAgc3RhdGU6IHsgcm93U3RhdGUgfSxcbiAgICBkYXRhLFxuICAgIGRpc3BhdGNoLFxuICB9ID0gaW5zdGFuY2VcblxuICBjb25zdCBzZXRSb3dTdGF0ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChpZCwgdmFsdWUsIGNvbHVtbklkKSA9PlxuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBhY3Rpb25zLnNldFJvd1N0YXRlLFxuICAgICAgICBpZCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGNvbHVtbklkLFxuICAgICAgfSksXG4gICAgW2Rpc3BhdGNoXVxuICApXG5cbiAgY29uc3Qgc2V0Q2VsbFN0YXRlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHJvd1BhdGgsIGNvbHVtbklkLCB2YWx1ZSkgPT4ge1xuICAgICAgcmV0dXJuIHNldFJvd1N0YXRlKFxuICAgICAgICByb3dQYXRoLFxuICAgICAgICBvbGQgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5vbGQsXG4gICAgICAgICAgICBjZWxsU3RhdGU6IHtcbiAgICAgICAgICAgICAgLi4ub2xkLmNlbGxTdGF0ZSxcbiAgICAgICAgICAgICAgW2NvbHVtbklkXTogZnVuY3Rpb25hbFVwZGF0ZShcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAob2xkLmNlbGxTdGF0ZSB8fCB7fSlbY29sdW1uSWRdIHx8IHt9XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY29sdW1uSWRcbiAgICAgIClcbiAgICB9LFxuICAgIFtzZXRSb3dTdGF0ZV1cbiAgKVxuXG4gIGhvb2tzLnByZXBhcmVSb3cucHVzaChyb3cgPT4ge1xuICAgIGlmIChyb3cub3JpZ2luYWwpIHtcbiAgICAgIHJvdy5zdGF0ZSA9XG4gICAgICAgICh0eXBlb2Ygcm93U3RhdGVbcm93LmlkXSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICA/IHJvd1N0YXRlW3Jvdy5pZF1cbiAgICAgICAgICA6IGluaXRpYWxSb3dTdGF0ZUFjY2Vzc29yICYmIGluaXRpYWxSb3dTdGF0ZUFjY2Vzc29yKHJvdykpIHx8IHt9XG5cbiAgICAgIHJvdy5zZXRTdGF0ZSA9IHVwZGF0ZXIgPT4ge1xuICAgICAgICByZXR1cm4gc2V0Um93U3RhdGUocm93LmlkLCB1cGRhdGVyKVxuICAgICAgfVxuXG4gICAgICByb3cuY2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgICAgY2VsbC5zdGF0ZSA9IHJvdy5zdGF0ZS5jZWxsU3RhdGUgfHwge31cblxuICAgICAgICBjZWxsLnNldFN0YXRlID0gdXBkYXRlciA9PiB7XG4gICAgICAgICAgcmV0dXJuIHNldENlbGxTdGF0ZShyb3cuaWQsIGNlbGwuY29sdW1uLmlkLCB1cGRhdGVyKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBnZXRBdXRvUmVzZXRSb3dTdGF0ZSA9IHVzZUdldExhdGVzdChhdXRvUmVzZXRSb3dTdGF0ZSlcblxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2V0QXV0b1Jlc2V0Um93U3RhdGUoKSkge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnJlc2V0Um93U3RhdGUgfSlcbiAgICB9XG4gIH0sIFtkYXRhXSlcblxuICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgc2V0Um93U3RhdGUsXG4gICAgc2V0Q2VsbFN0YXRlLFxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyBmdW5jdGlvbmFsVXBkYXRlLCBhY3Rpb25zIH0gZnJvbSAnLi4vdXRpbHMnXG5cbi8vIEFjdGlvbnNcbmFjdGlvbnMucmVzZXRDb2x1bW5PcmRlciA9ICdyZXNldENvbHVtbk9yZGVyJ1xuYWN0aW9ucy5zZXRDb2x1bW5PcmRlciA9ICdzZXRDb2x1bW5PcmRlcidcblxuZXhwb3J0IGNvbnN0IHVzZUNvbHVtbk9yZGVyID0gaG9va3MgPT4ge1xuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MuZmxhdENvbHVtbnNEZXBzLnB1c2goKGRlcHMsIHsgaW5zdGFuY2UgfSkgPT4ge1xuICAgIHJldHVybiBbLi4uZGVwcywgaW5zdGFuY2Uuc3RhdGUuY29sdW1uT3JkZXJdXG4gIH0pXG4gIGhvb2tzLmZsYXRDb2x1bW5zLnB1c2goZmxhdENvbHVtbnMpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG59XG5cbnVzZUNvbHVtbk9yZGVyLnBsdWdpbk5hbWUgPSAndXNlQ29sdW1uT3JkZXInXG5cbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgcHJldmlvdXNTdGF0ZSwgaW5zdGFuY2UpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sdW1uT3JkZXI6IFtdLFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0Q29sdW1uT3JkZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBjb2x1bW5PcmRlcjogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLmNvbHVtbk9yZGVyIHx8IFtdLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5zZXRDb2x1bW5PcmRlcikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGNvbHVtbk9yZGVyOiBmdW5jdGlvbmFsVXBkYXRlKGFjdGlvbi5jb2x1bW5PcmRlciwgc3RhdGUuY29sdW1uT3JkZXIpLFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmbGF0Q29sdW1ucyhcbiAgY29sdW1ucyxcbiAge1xuICAgIGluc3RhbmNlOiB7XG4gICAgICBzdGF0ZTogeyBjb2x1bW5PcmRlciB9LFxuICAgIH0sXG4gIH1cbikge1xuICAvLyBJZiB0aGVyZSBpcyBubyBvcmRlciwgcmV0dXJuIHRoZSBub3JtYWwgY29sdW1uc1xuICBpZiAoIWNvbHVtbk9yZGVyIHx8ICFjb2x1bW5PcmRlci5sZW5ndGgpIHtcbiAgICByZXR1cm4gY29sdW1uc1xuICB9XG5cbiAgY29uc3QgY29sdW1uT3JkZXJDb3B5ID0gWy4uLmNvbHVtbk9yZGVyXVxuXG4gIC8vIElmIHRoZXJlIGlzIGFuIG9yZGVyLCBtYWtlIGEgY29weSBvZiB0aGUgY29sdW1uc1xuICBjb25zdCBjb2x1bW5zQ29weSA9IFsuLi5jb2x1bW5zXVxuXG4gIC8vIEFuZCBtYWtlIGEgbmV3IG9yZGVyZWQgYXJyYXkgb2YgdGhlIGNvbHVtbnNcbiAgY29uc3QgY29sdW1uc0luT3JkZXIgPSBbXVxuXG4gIC8vIExvb3Agb3ZlciB0aGUgY29sdW1ucyBhbmQgcGxhY2UgdGhlbSBpbiBvcmRlciBpbnRvIHRoZSBuZXcgYXJyYXlcbiAgd2hpbGUgKGNvbHVtbnNDb3B5Lmxlbmd0aCAmJiBjb2x1bW5PcmRlckNvcHkubGVuZ3RoKSB7XG4gICAgY29uc3QgdGFyZ2V0Q29sdW1uSWQgPSBjb2x1bW5PcmRlckNvcHkuc2hpZnQoKVxuICAgIGNvbnN0IGZvdW5kSW5kZXggPSBjb2x1bW5zQ29weS5maW5kSW5kZXgoZCA9PiBkLmlkID09PSB0YXJnZXRDb2x1bW5JZClcbiAgICBpZiAoZm91bmRJbmRleCA+IC0xKSB7XG4gICAgICBjb2x1bW5zSW5PcmRlci5wdXNoKGNvbHVtbnNDb3B5LnNwbGljZShmb3VuZEluZGV4LCAxKVswXSlcbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGVyZSBhcmUgYW55IGNvbHVtbnMgbGVmdCwgYWRkIHRoZW0gdG8gdGhlIGVuZFxuICByZXR1cm4gWy4uLmNvbHVtbnNJbk9yZGVyLCAuLi5jb2x1bW5zQ29weV1cbn1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3QgeyBkaXNwYXRjaCB9ID0gaW5zdGFuY2VcblxuICBpbnN0YW5jZS5zZXRDb2x1bW5PcmRlciA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIGNvbHVtbk9yZGVyID0+IHtcbiAgICAgIHJldHVybiBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMuc2V0Q29sdW1uT3JkZXIsIGNvbHVtbk9yZGVyIH0pXG4gICAgfSxcbiAgICBbZGlzcGF0Y2hdXG4gIClcbn1cbiIsImltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIGRlZmF1bHRDb2x1bW4sXG4gIGdldEZpcnN0RGVmaW5lZCxcbiAgbWFrZVByb3BHZXR0ZXIsXG4gIHVzZUdldExhdGVzdCxcbn0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgeyB1c2VDb25zdW1lSG9va0dldHRlciB9IGZyb20gJy4uL3B1YmxpY1V0aWxzJ1xuXG4vLyBEZWZhdWx0IENvbHVtblxuZGVmYXVsdENvbHVtbi5jYW5SZXNpemUgPSB0cnVlXG5cbi8vIEFjdGlvbnNcbmFjdGlvbnMuY29sdW1uU3RhcnRSZXNpemluZyA9ICdjb2x1bW5TdGFydFJlc2l6aW5nJ1xuYWN0aW9ucy5jb2x1bW5SZXNpemluZyA9ICdjb2x1bW5SZXNpemluZydcbmFjdGlvbnMuY29sdW1uRG9uZVJlc2l6aW5nID0gJ2NvbHVtbkRvbmVSZXNpemluZydcblxuZXhwb3J0IGNvbnN0IHVzZVJlc2l6ZUNvbHVtbnMgPSBob29rcyA9PiB7XG4gIGhvb2tzLmdldFJlc2l6ZXJQcm9wcyA9IFtkZWZhdWx0R2V0UmVzaXplclByb3BzXVxuICBob29rcy5nZXRIZWFkZXJQcm9wcy5wdXNoKHtcbiAgICBzdHlsZToge1xuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgfSxcbiAgfSlcbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLnVzZUluc3RhbmNlQmVmb3JlRGltZW5zaW9ucy5wdXNoKHVzZUluc3RhbmNlQmVmb3JlRGltZW5zaW9ucylcbn1cblxuY29uc3QgZGVmYXVsdEdldFJlc2l6ZXJQcm9wcyA9IChwcm9wcywgeyBpbnN0YW5jZSwgaGVhZGVyIH0pID0+IHtcbiAgY29uc3QgeyBkaXNwYXRjaCB9ID0gaW5zdGFuY2VcblxuICBjb25zdCBvblJlc2l6ZVN0YXJ0ID0gKGUsIGhlYWRlcikgPT4ge1xuICAgIGxldCBpc1RvdWNoRXZlbnQgPSBmYWxzZVxuICAgIGlmIChlLnR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xuICAgICAgLy8gbGV0cyBub3QgcmVzcG9uZCB0byBtdWx0aXBsZSB0b3VjaGVzIChlLmcuIDIgb3IgMyBmaW5nZXJzKVxuICAgICAgaWYgKGUudG91Y2hlcyAmJiBlLnRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlzVG91Y2hFdmVudCA9IHRydWVcbiAgICB9XG4gICAgY29uc3QgaGVhZGVyc1RvUmVzaXplID0gZ2V0TGVhZkhlYWRlcnMoaGVhZGVyKVxuICAgIGNvbnN0IGhlYWRlcklkV2lkdGhzID0gaGVhZGVyc1RvUmVzaXplLm1hcChkID0+IFtkLmlkLCBkLnRvdGFsV2lkdGhdKVxuXG4gICAgY29uc3QgY2xpZW50WCA9IGlzVG91Y2hFdmVudCA/IE1hdGgucm91bmQoZS50b3VjaGVzWzBdLmNsaWVudFgpIDogZS5jbGllbnRYXG5cbiAgICBjb25zdCBkaXNwYXRjaE1vdmUgPSBjbGllbnRYUG9zID0+IHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5jb2x1bW5SZXNpemluZywgY2xpZW50WDogY2xpZW50WFBvcyB9KVxuICAgIH1cbiAgICBjb25zdCBkaXNwYXRjaEVuZCA9ICgpID0+IGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5jb2x1bW5Eb25lUmVzaXppbmcgfSlcblxuICAgIGNvbnN0IGhhbmRsZXJzQW5kRXZlbnRzID0ge1xuICAgICAgbW91c2U6IHtcbiAgICAgICAgbW92ZUV2ZW50OiAnbW91c2Vtb3ZlJyxcbiAgICAgICAgbW92ZUhhbmRsZXI6IGUgPT4gZGlzcGF0Y2hNb3ZlKGUuY2xpZW50WCksXG4gICAgICAgIHVwRXZlbnQ6ICdtb3VzZXVwJyxcbiAgICAgICAgdXBIYW5kbGVyOiBlID0+IHtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgJ21vdXNlbW92ZScsXG4gICAgICAgICAgICBoYW5kbGVyc0FuZEV2ZW50cy5tb3VzZS5tb3ZlSGFuZGxlclxuICAgICAgICAgIClcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgJ21vdXNldXAnLFxuICAgICAgICAgICAgaGFuZGxlcnNBbmRFdmVudHMubW91c2UudXBIYW5kbGVyXG4gICAgICAgICAgKVxuICAgICAgICAgIGRpc3BhdGNoRW5kKClcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB0b3VjaDoge1xuICAgICAgICBtb3ZlRXZlbnQ6ICd0b3VjaG1vdmUnLFxuICAgICAgICBtb3ZlSGFuZGxlcjogZSA9PiB7XG4gICAgICAgICAgaWYgKGUuY2FuY2VsYWJsZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgfVxuICAgICAgICAgIGRpc3BhdGNoTW92ZShlLnRvdWNoZXNbMF0uY2xpZW50WClcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgdXBFdmVudDogJ3RvdWNoZW5kJyxcbiAgICAgICAgdXBIYW5kbGVyOiBlID0+IHtcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgaGFuZGxlcnNBbmRFdmVudHMudG91Y2gubW92ZUV2ZW50LFxuICAgICAgICAgICAgaGFuZGxlcnNBbmRFdmVudHMudG91Y2gubW92ZUhhbmRsZXJcbiAgICAgICAgICApXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgIGhhbmRsZXJzQW5kRXZlbnRzLnRvdWNoLnVwRXZlbnQsXG4gICAgICAgICAgICBoYW5kbGVyc0FuZEV2ZW50cy50b3VjaC5tb3ZlSGFuZGxlclxuICAgICAgICAgIClcbiAgICAgICAgICBkaXNwYXRjaEVuZCgpXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH1cblxuICAgIGNvbnN0IGV2ZW50cyA9IGlzVG91Y2hFdmVudFxuICAgICAgPyBoYW5kbGVyc0FuZEV2ZW50cy50b3VjaFxuICAgICAgOiBoYW5kbGVyc0FuZEV2ZW50cy5tb3VzZVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLm1vdmVFdmVudCwgZXZlbnRzLm1vdmVIYW5kbGVyLCB7XG4gICAgICBwYXNzaXZlOiBmYWxzZSxcbiAgICB9KVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLnVwRXZlbnQsIGV2ZW50cy51cEhhbmRsZXIsIHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgIH0pXG5cbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBhY3Rpb25zLmNvbHVtblN0YXJ0UmVzaXppbmcsXG4gICAgICBjb2x1bW5JZDogaGVhZGVyLmlkLFxuICAgICAgY29sdW1uV2lkdGg6IGhlYWRlci50b3RhbFdpZHRoLFxuICAgICAgaGVhZGVySWRXaWR0aHMsXG4gICAgICBjbGllbnRYLFxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gW1xuICAgIHByb3BzLFxuICAgIHtcbiAgICAgIG9uTW91c2VEb3duOiBlID0+IGUucGVyc2lzdCgpIHx8IG9uUmVzaXplU3RhcnQoZSwgaGVhZGVyKSxcbiAgICAgIG9uVG91Y2hTdGFydDogZSA9PiBlLnBlcnNpc3QoKSB8fCBvblJlc2l6ZVN0YXJ0KGUsIGhlYWRlciksXG4gICAgICBzdHlsZToge1xuICAgICAgICBjdXJzb3I6ICdldy1yZXNpemUnLFxuICAgICAgfSxcbiAgICAgIGRyYWdnYWJsZTogZmFsc2UsXG4gICAgfSxcbiAgXVxufVxuXG51c2VSZXNpemVDb2x1bW5zLnBsdWdpbk5hbWUgPSAndXNlUmVzaXplQ29sdW1ucydcblxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbHVtblJlc2l6aW5nOiB7XG4gICAgICAgIGNvbHVtbldpZHRoczoge30sXG4gICAgICB9LFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmNvbHVtblN0YXJ0UmVzaXppbmcpIHtcbiAgICBjb25zdCB7IGNsaWVudFgsIGNvbHVtbklkLCBjb2x1bW5XaWR0aCwgaGVhZGVySWRXaWR0aHMgfSA9IGFjdGlvblxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgY29sdW1uUmVzaXppbmc6IHtcbiAgICAgICAgLi4uc3RhdGUuY29sdW1uUmVzaXppbmcsXG4gICAgICAgIHN0YXJ0WDogY2xpZW50WCxcbiAgICAgICAgaGVhZGVySWRXaWR0aHMsXG4gICAgICAgIGNvbHVtbldpZHRoLFxuICAgICAgICBpc1Jlc2l6aW5nQ29sdW1uOiBjb2x1bW5JZCxcbiAgICAgIH0sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmNvbHVtblJlc2l6aW5nKSB7XG4gICAgY29uc3QgeyBjbGllbnRYIH0gPSBhY3Rpb25cbiAgICBjb25zdCB7IHN0YXJ0WCwgY29sdW1uV2lkdGgsIGhlYWRlcklkV2lkdGhzIH0gPSBzdGF0ZS5jb2x1bW5SZXNpemluZ1xuXG4gICAgY29uc3QgZGVsdGFYID0gY2xpZW50WCAtIHN0YXJ0WFxuICAgIGNvbnN0IHBlcmNlbnRhZ2VEZWx0YVggPSBkZWx0YVggLyBjb2x1bW5XaWR0aFxuXG4gICAgY29uc3QgbmV3Q29sdW1uV2lkdGhzID0ge31cblxuICAgIGhlYWRlcklkV2lkdGhzLmZvckVhY2goKFtoZWFkZXJJZCwgaGVhZGVyV2lkdGhdKSA9PiB7XG4gICAgICBuZXdDb2x1bW5XaWR0aHNbaGVhZGVySWRdID0gTWF0aC5tYXgoXG4gICAgICAgIGhlYWRlcldpZHRoICsgaGVhZGVyV2lkdGggKiBwZXJjZW50YWdlRGVsdGFYLFxuICAgICAgICAwXG4gICAgICApXG4gICAgfSlcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGNvbHVtblJlc2l6aW5nOiB7XG4gICAgICAgIC4uLnN0YXRlLmNvbHVtblJlc2l6aW5nLFxuICAgICAgICBjb2x1bW5XaWR0aHM6IHtcbiAgICAgICAgICAuLi5zdGF0ZS5jb2x1bW5SZXNpemluZy5jb2x1bW5XaWR0aHMsXG4gICAgICAgICAgLi4ubmV3Q29sdW1uV2lkdGhzLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuY29sdW1uRG9uZVJlc2l6aW5nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgY29sdW1uUmVzaXppbmc6IHtcbiAgICAgICAgLi4uc3RhdGUuY29sdW1uUmVzaXppbmcsXG4gICAgICAgIHN0YXJ0WDogbnVsbCxcbiAgICAgICAgaXNSZXNpemluZ0NvbHVtbjogbnVsbCxcbiAgICAgIH0sXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IHVzZUluc3RhbmNlQmVmb3JlRGltZW5zaW9ucyA9IGluc3RhbmNlID0+IHtcbiAgY29uc3Qge1xuICAgIGZsYXRIZWFkZXJzLFxuICAgIGRpc2FibGVSZXNpemluZyxcbiAgICBzdGF0ZTogeyBjb2x1bW5SZXNpemluZyB9LFxuICB9ID0gaW5zdGFuY2VcblxuICBjb25zdCBnZXRJbnN0YW5jZSA9IHVzZUdldExhdGVzdChpbnN0YW5jZSlcblxuICBjb25zdCBnZXRSZXNpemVyUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldFJlc2l6ZXJQcm9wcydcbiAgKVxuXG4gIGZsYXRIZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IHtcbiAgICBjb25zdCBjYW5SZXNpemUgPSBnZXRGaXJzdERlZmluZWQoXG4gICAgICBoZWFkZXIuZGlzYWJsZVJlc2l6aW5nID09PSB0cnVlID8gZmFsc2UgOiB1bmRlZmluZWQsXG4gICAgICBkaXNhYmxlUmVzaXppbmcgPT09IHRydWUgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgIHRydWVcbiAgICApXG5cbiAgICBoZWFkZXIuY2FuUmVzaXplID0gY2FuUmVzaXplXG4gICAgaGVhZGVyLndpZHRoID0gY29sdW1uUmVzaXppbmcuY29sdW1uV2lkdGhzW2hlYWRlci5pZF0gfHwgaGVhZGVyLndpZHRoXG4gICAgaGVhZGVyLmlzUmVzaXppbmcgPSBjb2x1bW5SZXNpemluZy5pc1Jlc2l6aW5nQ29sdW1uID09PSBoZWFkZXIuaWRcblxuICAgIGlmIChjYW5SZXNpemUpIHtcbiAgICAgIGhlYWRlci5nZXRSZXNpemVyUHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRSZXNpemVyUHJvcHNIb29rcygpLCB7XG4gICAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgICBoZWFkZXIsXG4gICAgICB9KVxuICAgIH1cbiAgfSlcbn1cblxuZnVuY3Rpb24gZ2V0TGVhZkhlYWRlcnMoaGVhZGVyKSB7XG4gIGNvbnN0IGxlYWZIZWFkZXJzID0gW11cbiAgY29uc3QgcmVjdXJzZUhlYWRlciA9IGhlYWRlciA9PiB7XG4gICAgaWYgKGhlYWRlci5jb2x1bW5zICYmIGhlYWRlci5jb2x1bW5zLmxlbmd0aCkge1xuICAgICAgaGVhZGVyLmNvbHVtbnMubWFwKHJlY3Vyc2VIZWFkZXIpXG4gICAgfVxuICAgIGxlYWZIZWFkZXJzLnB1c2goaGVhZGVyKVxuICB9XG4gIHJlY3Vyc2VIZWFkZXIoaGVhZGVyKVxuICByZXR1cm4gbGVhZkhlYWRlcnNcbn1cbiIsImltcG9ydCB7IGVuc3VyZVBsdWdpbk9yZGVyIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmNvbnN0IGNlbGxTdHlsZXMgPSB7XG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB0b3A6IDAsXG59XG5cbmV4cG9ydCBjb25zdCB1c2VBYnNvbHV0ZUxheW91dCA9IGhvb2tzID0+IHtcbiAgaG9va3MuZ2V0VGFibGVCb2R5UHJvcHMucHVzaChnZXRSb3dTdHlsZXMpXG4gIGhvb2tzLmdldFJvd1Byb3BzLnB1c2goZ2V0Um93U3R5bGVzKVxuICBob29rcy5nZXRIZWFkZXJHcm91cFByb3BzLnB1c2goZ2V0Um93U3R5bGVzKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxuXG4gIGhvb2tzLmdldEhlYWRlclByb3BzLnB1c2goKHByb3BzLCB7IGNvbHVtbiB9KSA9PiBbXG4gICAgcHJvcHMsXG4gICAge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgLi4uY2VsbFN0eWxlcyxcbiAgICAgICAgbGVmdDogYCR7Y29sdW1uLnRvdGFsTGVmdH1weGAsXG4gICAgICAgIHdpZHRoOiBgJHtjb2x1bW4udG90YWxXaWR0aH1weGAsXG4gICAgICB9LFxuICAgIH0sXG4gIF0pXG5cbiAgaG9va3MuZ2V0Q2VsbFByb3BzLnB1c2goKHByb3BzLCB7IGNlbGwgfSkgPT4gW1xuICAgIHByb3BzLFxuICAgIHtcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIC4uLmNlbGxTdHlsZXMsXG4gICAgICAgIGxlZnQ6IGAke2NlbGwuY29sdW1uLnRvdGFsTGVmdH1weGAsXG4gICAgICAgIHdpZHRoOiBgJHtjZWxsLmNvbHVtbi50b3RhbFdpZHRofXB4YCxcbiAgICAgIH0sXG4gICAgfSxcbiAgXSlcbn1cblxudXNlQWJzb2x1dGVMYXlvdXQucGx1Z2luTmFtZSA9ICd1c2VBYnNvbHV0ZUxheW91dCdcblxuY29uc3QgZ2V0Um93U3R5bGVzID0gKHByb3BzLCB7IGluc3RhbmNlIH0pID0+IFtcbiAgcHJvcHMsXG4gIHtcbiAgICBzdHlsZToge1xuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB3aWR0aDogYCR7aW5zdGFuY2UudG90YWxDb2x1bW5zV2lkdGh9cHhgLFxuICAgIH0sXG4gIH0sXG5dXG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKHsgcGx1Z2lucyB9KSB7XG4gIGVuc3VyZVBsdWdpbk9yZGVyKHBsdWdpbnMsIFtdLCB1c2VBYnNvbHV0ZUxheW91dC5wbHVnaW5OYW1lLCBbXG4gICAgJ3VzZVJlc2l6ZUNvbHVtbnMnLFxuICBdKVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHVzZUZsZXhMYXlvdXQoaG9va3MpIHtcbiAgaG9va3MuZ2V0VGFibGVCb2R5UHJvcHMucHVzaChnZXRUYWJsZUJvZHlQcm9wcylcbiAgaG9va3MuZ2V0Um93UHJvcHMucHVzaChnZXRSb3dTdHlsZXMpXG4gIGhvb2tzLmdldEhlYWRlckdyb3VwUHJvcHMucHVzaChnZXRSb3dTdHlsZXMpXG4gIGhvb2tzLmdldEhlYWRlclByb3BzLnB1c2goZ2V0SGVhZGVyUHJvcHMpXG4gIGhvb2tzLmdldENlbGxQcm9wcy5wdXNoKGdldENlbGxQcm9wcylcbn1cblxudXNlRmxleExheW91dC5wbHVnaW5OYW1lID0gJ3VzZUZsZXhMYXlvdXQnXG5cbmNvbnN0IGdldFRhYmxlQm9keVByb3BzID0gKHByb3BzLCB7IGluc3RhbmNlIH0pID0+IFtcbiAgcHJvcHMsXG4gIHtcbiAgICBzdHlsZToge1xuICAgICAgbWluV2lkdGg6IGAke2luc3RhbmNlLnRvdGFsQ29sdW1uc1dpZHRofXB4YCxcbiAgICB9LFxuICB9LFxuXVxuXG5jb25zdCBnZXRSb3dTdHlsZXMgPSAocHJvcHMsIHsgaW5zdGFuY2UgfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIHN0eWxlOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4OiAnMSAwIGF1dG8nLFxuICAgICAgbWluV2lkdGg6IGAke2luc3RhbmNlLnRvdGFsQ29sdW1uc01pbldpZHRofXB4YCxcbiAgICB9LFxuICB9LFxuXVxuXG5jb25zdCBnZXRIZWFkZXJQcm9wcyA9IChwcm9wcywgeyBjb2x1bW4gfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIHN0eWxlOiB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIGZsZXg6IGAke2NvbHVtbi50b3RhbFdpZHRofSAwIGF1dG9gLFxuICAgICAgbWluV2lkdGg6IGAke2NvbHVtbi50b3RhbE1pbldpZHRofXB4YCxcbiAgICAgIHdpZHRoOiBgJHtjb2x1bW4udG90YWxXaWR0aH1weGAsXG4gICAgfSxcbiAgfSxcbl1cblxuY29uc3QgZ2V0Q2VsbFByb3BzID0gKHByb3BzLCB7IGNlbGwgfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIHN0eWxlOiB7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgIGZsZXg6IGAke2NlbGwuY29sdW1uLnRvdGFsV2lkdGh9IDAgYXV0b2AsXG4gICAgICBtaW5XaWR0aDogYCR7Y2VsbC5jb2x1bW4udG90YWxNaW5XaWR0aH1weGAsXG4gICAgICB3aWR0aDogYCR7Y2VsbC5jb2x1bW4udG90YWxXaWR0aH1weGAsXG4gICAgfSxcbiAgfSxcbl1cbiIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L2pzeC1wcm9wcy1uby1zcHJlYWRpbmcgKi9cbmltcG9ydCB7IGgsIEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7XG4gdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VNZW1vLFxufSBmcm9tICdwcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIkBua3NhcmFmL2dvb2JlclwiXG5pbXBvcnQgcmVnaXN0ZXIgZnJvbSAncHJlYWN0LWN1c3RvbS1lbGVtZW50JztcbmltcG9ydCB7IHVzZVRhYmxlLCBDb2x1bW4gfSBmcm9tICdyZWFjdC10YWJsZSdcbmltcG9ydCBBcHAgZnJvbSAnLi4vLi4vQXBwJztcbmltcG9ydCB1c2VDdXN0b21FdmVudCBmcm9tICcuLi8uLi91dGlscy91c2VDdXN0b21FdmVudCc7XG5cblxuY29uc3QgVGFibGU6IEZ1bmN0aW9uQ29tcG9uZW50PHsgZGF0YTogc3RyaW5nLCBjb2x1bW5zOiBzdHJpbmd9PiA9ICh7IGRhdGEsIGNvbHVtbnMgfSkgPT4ge1xuICAgIGNvbnN0IFtkYXRhU3RhdGUsIHNldERhdGFdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2NvbHVtbnNTdGF0ZSwgc2V0Q29sdW1uc10gPSB1c2VTdGF0ZShudWxsKTtcblxuICAgIGNvbnN0IGNvbXBvbmVudFJlZiA9IHVzZVJlZjxIVE1MVGFibGVFbGVtZW50PigpO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGRhdGEgJiYgY29sdW1ucykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkRGF0YTogQXJyYXk8YW55PiA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRDb2x1bW5zOiBBcnJheTxDb2x1bW4+ID0gSlNPTi5wYXJzZShjb2x1bW5zKTtcblxuICAgICAgICAgICAgc2V0RGF0YShwYXJzZWREYXRhKTtcbiAgICAgICAgICAgIHNldENvbHVtbnMocGFyc2VkQ29sdW1ucyk7XG4gICAgICAgfVxuICAgIH0sIFtkYXRhLCBjb2x1bW5zXSk7XG5cblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGFTdGF0ZSwgY29sdW1uc1N0YXRlKTtcbiAgICB9LCBbZGF0YVN0YXRlLCBjb2x1bW5zU3RhdGVdKTtcblxuXG4gICAgY29uc3QgZGlzcGF0Y2hFdmVudCA9IHVzZUN1c3RvbUV2ZW50KHtcbiAgICAgICAgcmVmOiBjb21wb25lbnRSZWYsXG4gICAgICAgIGV2ZW50TmFtZTogJ3RhYmxlUm93Q2xpY2tlZCcsXG4gICAgfSk7XG5cblxuICAgIGlmICghZGF0YVN0YXRlIHx8ICFjb2x1bW5zU3RhdGUpIHJldHVybiA8ZGl2PkxvYWRpbmcuLi4uPC9kaXY+XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGdldFRhYmxlUHJvcHMsXG4gICAgICAgIGdldFRhYmxlQm9keVByb3BzLFxuICAgICAgICBoZWFkZXJHcm91cHMsXG4gICAgICAgIHJvd3MsXG4gICAgICAgIHByZXBhcmVSb3csXG4gICAgfSA9IHVzZVRhYmxlKHtcbiAgICAgICAgY29sdW1uczogY29sdW1uc1N0YXRlLFxuICAgICAgICBkYXRhOiBkYXRhU3RhdGUsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEFwcD5cbiAgICAgICAgPFN0eWxlcz5cbiAgICAgICAgICA8dGFibGUgcmVmPXtjb21wb25lbnRSZWZ9IHsuLi5nZXRUYWJsZVByb3BzKCl9PlxuICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICB7aGVhZGVyR3JvdXBzLm1hcCgoaGVhZGVyR3JvdXApID0+IChcblxuICAgICAgICAgICAgICAgIDx0ciBrZXk9e2hlYWRlckdyb3VwLmlkfSB7Li4uaGVhZGVyR3JvdXAuZ2V0SGVhZGVyR3JvdXBQcm9wcygpfT5cbiAgICAgICAgICAgICAgICAgIHtoZWFkZXJHcm91cC5oZWFkZXJzLm1hcCgoY29sdW1uKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDx0aCBrZXk9e2NvbHVtbi5pZH0gey4uLmNvbHVtbi5nZXRIZWFkZXJQcm9wcygpfT57Y29sdW1uLnJlbmRlcihcIkhlYWRlclwiKX08L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgIDx0Ym9keSB7Li4uZ2V0VGFibGVCb2R5UHJvcHMoKX0+XG4gICAgICAgICAgICAgIHtyb3dzLm1hcCgocm93KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVwYXJlUm93KHJvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgb25DbGljaz17KCkgPT4gZGlzcGF0Y2hFdmVudChyb3cudmFsdWVzKX0ga2V5PXtyb3cuaWR9IHsuLi5yb3cuZ2V0Um93UHJvcHMoKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3Jvdy5jZWxscy5tYXAoKGNlbGwpID0+IDx0ZCBrZXk9e2NlbGwudmFsdWV9IHsuLi5jZWxsLmdldENlbGxQcm9wcygpfT57Y2VsbC5yZW5kZXIoXCJDZWxsXCIpfTwvdGQ+KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8L1N0eWxlcz5cbiAgICAgIDwvQXBwPlxuICAgIClcbiAgICB9XG5cblxuY29uc3QgU3R5bGVzID0gc3R5bGVkKFwiZGl2XCIpYFxuICB0YWJsZSB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGJhY2tncm91bmQ6ICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5jb2xvcnMuJEQ4MH07XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICB0ciB7XG4gICAgICBoZWlnaHQ6IDU0cHg7XG5cbiAgICAgICY6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQ6ICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5jb2xvcnMuJEI1MH07XG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAxMjBtcyBlYXNlO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGVhZCB7XG4gICAgICBiYWNrZ3JvdW5kOiAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuY29sb3JzLiRCNDB9O1xuICAgICAgXG4gICAgICB0aCB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICB9XG4gICAgICB0ciB7XG4gICAgICAgIGhlaWdodDogNDJweDtcbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgICAgYmFja2dyb3VuZDogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLmNvbG9ycy4kQjQwfTtcbiAgICAgICAgICAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGgsXG4gICAgdGQge1xuICAgICAgbWFyZ2luOiAwO1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5jb2xvcnMuJEQ2MH07XG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIHBhZGRpbmc6IDAgMzBweDtcbiAgICB9XG4gIH1cbmA7XG5cbnJlZ2lzdGVyKFRhYmxlLCAneC10YWJsZScsIFsnY29sdW1ucycsICdkYXRhJ10pO1xuXG5leHBvcnQgZGVmYXVsdCBUYWJsZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=