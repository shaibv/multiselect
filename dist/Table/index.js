!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=18)}([function(e,n,t){"use strict";t.r(n),t.d(n,"render",(function(){return D})),t.d(n,"hydrate",(function(){return B})),t.d(n,"createElement",(function(){return _})),t.d(n,"h",(function(){return _})),t.d(n,"Fragment",(function(){return g})),t.d(n,"createRef",(function(){return v})),t.d(n,"isValidElement",(function(){return o})),t.d(n,"Component",(function(){return y})),t.d(n,"cloneElement",(function(){return I})),t.d(n,"createContext",(function(){return T})),t.d(n,"toChildArray",(function(){return S})),t.d(n,"_unmount",(function(){return A})),t.d(n,"options",(function(){return r}));var r,o,u,i,a,l,c,s={},f=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function p(e,n){for(var t in n)e[t]=n[t];return e}function h(e){var n=e.parentNode;n&&n.removeChild(e)}function _(e,n,t){var r,o=arguments,u={};for(r in n)"key"!==r&&"ref"!==r&&(u[r]=n[r]);if(arguments.length>3)for(t=[t],r=3;r<arguments.length;r++)t.push(o[r]);if(null!=t&&(u.children=t),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===u[r]&&(u[r]=e.defaultProps[r]);return m(e,u,n&&n.key,n&&n.ref)}function m(e,n,t,o){var u={type:e,props:n,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return r.vnode&&r.vnode(u),u}function v(){return{}}function g(e){return e.children}function y(e,n){this.props=e,this.context=n}function b(e,n){if(null==n)return e.__?b(e.__,e.__.__k.indexOf(e)+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?b(e):null}function C(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return C(e)}}function k(e){(!e.__d&&(e.__d=!0)&&1===u.push(e)||a!==r.debounceRendering)&&((a=r.debounceRendering)||i)(w)}function w(){var e,n,t,r,o,i,a;for(u.sort((function(e,n){return n.__v.__b-e.__v.__b}));e=u.pop();)e.__d&&(t=void 0,r=void 0,i=(o=(n=e).__v).__e,(a=n.__P)&&(t=[],r=R(a,o,p({},o),n.__n,void 0!==a.ownerSVGElement,null,t,null==i?b(o):i),N(t,o),r!=i&&C(o)))}function x(e,n,t,r,o,u,i,a,l){var c,d,p,_,m,v,g,y=t&&t.__k||f,C=y.length;if(a==s&&(a=null!=u?u[0]:C?b(t,0):null),c=0,n.__k=S(n.__k,(function(t){if(null!=t){if(t.__=n,t.__b=n.__b+1,null===(p=y[c])||p&&t.key==p.key&&t.type===p.type)y[c]=void 0;else for(d=0;d<C;d++){if((p=y[d])&&t.key==p.key&&t.type===p.type){y[d]=void 0;break}p=null}if(_=R(e,t,p=p||s,r,o,u,i,a,l),(d=t.ref)&&p.ref!=d&&(g||(g=[]),p.ref&&g.push(p.ref,null,t),g.push(d,t.__c||_,t)),null!=_){if(null==v&&(v=_),null!=t.__d)_=t.__d,t.__d=null;else if(u==p||_!=a||null==_.parentNode){e:if(null==a||a.parentNode!==e)e.appendChild(_);else{for(m=a,d=0;(m=m.nextSibling)&&d<C;d+=2)if(m==_)break e;e.insertBefore(_,a)}"option"==n.type&&(e.value="")}a=_.nextSibling,"function"==typeof n.type&&(n.__d=_)}}return c++,t})),n.__e=v,null!=u&&"function"!=typeof n.type)for(c=u.length;c--;)null!=u[c]&&h(u[c]);for(c=C;c--;)null!=y[c]&&A(y[c],y[c]);if(g)for(c=0;c<g.length;c++)H(g[c],g[++c],g[++c])}function S(e,n,t){if(null==t&&(t=[]),null==e||"boolean"==typeof e)n&&t.push(n(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)S(e[r],n,t);else t.push(n?n("string"==typeof e||"number"==typeof e?m(null,e,null,null):null!=e.__e||null!=e.__c?m(e.type,e.props,e.key,null):e):e);return t}function O(e,n,t){"-"===n[0]?e.setProperty(n,t):e[n]="number"==typeof t&&!1===d.test(n)?t+"px":null==t?"":t}function E(e,n,t,r,o){var u,i,a,l,c;if(o?"className"===n&&(n="class"):"class"===n&&(n="className"),"key"===n||"children"===n);else if("style"===n)if(u=e.style,"string"==typeof t)u.cssText=t;else{if("string"==typeof r&&(u.cssText="",r=null),r)for(i in r)t&&i in t||O(u,i,"");if(t)for(a in t)r&&t[a]===r[a]||O(u,a,t[a])}else"o"===n[0]&&"n"===n[1]?(l=n!==(n=n.replace(/Capture$/,"")),c=n.toLowerCase(),n=(c in e?c:n).slice(2),t?(r||e.addEventListener(n,P,l),(e.l||(e.l={}))[n]=t):e.removeEventListener(n,P,l)):"list"!==n&&"tagName"!==n&&"form"!==n&&"type"!==n&&!o&&n in e?e[n]=null==t?"":t:"function"!=typeof t&&"dangerouslySetInnerHTML"!==n&&(n!==(n=n.replace(/^xlink:?/,""))?null==t||!1===t?e.removeAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",n.toLowerCase(),t):null==t||!1===t?e.removeAttribute(n):e.setAttribute(n,t))}function P(e){this.l[e.type](r.event?r.event(e):e)}function R(e,n,t,o,u,i,a,l,c){var s,f,d,h,_,m,v,b,C,k,w=n.type;if(void 0!==n.constructor)return null;(s=r.__b)&&s(n);try{e:if("function"==typeof w){if(b=n.props,C=(s=w.contextType)&&o[s.__c],k=s?C?C.props.value:s.__:o,t.__c?v=(f=n.__c=t.__c).__=f.__E:("prototype"in w&&w.prototype.render?n.__c=f=new w(b,k):(n.__c=f=new y(b,k),f.constructor=w,f.render=F),C&&C.sub(f),f.props=b,f.state||(f.state={}),f.context=k,f.__n=o,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=w.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=p({},f.__s)),p(f.__s,w.getDerivedStateFromProps(b,f.__s))),h=f.props,_=f.state,d)null==w.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==w.getDerivedStateFromProps&&b!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(b,k),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(b,f.__s,k)){for(f.props=b,f.state=f.__s,f.__d=!1,f.__v=n,n.__e=t.__e,n.__k=t.__k,f.__h.length&&a.push(f),s=0;s<n.__k.length;s++)n.__k[s]&&(n.__k[s].__=n);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(b,f.__s,k),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(h,_,m)}))}f.context=k,f.props=b,f.state=f.__s,(s=r.__r)&&s(n),f.__d=!1,f.__v=n,f.__P=e,s=f.render(f.props,f.state,f.context),n.__k=S(null!=s&&s.type==g&&null==s.key?s.props.children:s),null!=f.getChildContext&&(o=p(p({},o),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(m=f.getSnapshotBeforeUpdate(h,_)),x(e,n,t,o,u,i,a,l,c),f.base=n.__e,f.__h.length&&a.push(f),v&&(f.__E=f.__=null),f.__e=null}else n.__e=j(t.__e,n,t,o,u,i,a,c);(s=r.diffed)&&s(n)}catch(e){r.__e(e,n,t)}return n.__e}function N(e,n){r.__c&&r.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(e){e.call(n)}))}catch(e){r.__e(e,n.__v)}}))}function j(e,n,t,r,o,u,i,a){var l,c,d,p,h,_=t.props,m=n.props;if(o="svg"===n.type||o,null==e&&null!=u)for(l=0;l<u.length;l++)if(null!=(c=u[l])&&(null===n.type?3===c.nodeType:c.localName===n.type)){e=c,u[l]=null;break}if(null==e){if(null===n.type)return document.createTextNode(m);e=o?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),u=null}if(null===n.type)null!=u&&(u[u.indexOf(e)]=null),_!==m&&e.data!=m&&(e.data=m);else if(n!==t){if(null!=u&&(u=f.slice.call(e.childNodes)),d=(_=t.props||s).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!a){if(_===s)for(_={},h=0;h<e.attributes.length;h++)_[e.attributes[h].name]=e.attributes[h].value;(p||d)&&(p&&d&&p.__html==d.__html||(e.innerHTML=p&&p.__html||""))}(function(e,n,t,r,o){var u;for(u in t)u in n||E(e,u,null,t[u],r);for(u in n)o&&"function"!=typeof n[u]||"value"===u||"checked"===u||t[u]===n[u]||E(e,u,n[u],t[u],r)})(e,m,_,o,a),n.__k=n.props.children,p||x(e,n,t,r,"foreignObject"!==n.type&&o,u,i,s,a),a||("value"in m&&void 0!==m.value&&m.value!==e.value&&(e.value=null==m.value?"":m.value),"checked"in m&&void 0!==m.checked&&m.checked!==e.checked&&(e.checked=m.checked))}return e}function H(e,n,t){try{"function"==typeof e?e(n):e.current=n}catch(e){r.__e(e,t)}}function A(e,n,t){var o,u,i;if(r.unmount&&r.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||H(o,null,n)),t||"function"==typeof e.type||(t=null!=(u=e.__e)),e.__e=e.__d=null,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){r.__e(e,n)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&A(o[i],n,t);null!=u&&h(u)}function F(e,n,t){return this.constructor(e,t)}function D(e,n,t){var o,u,i;r.__&&r.__(e,n),u=(o=t===l)?null:t&&t.__k||n.__k,e=_(g,null,[e]),i=[],R(n,(o?n:t||n).__k=e,u||s,s,void 0!==n.ownerSVGElement,t&&!o?[t]:u?null:f.slice.call(n.childNodes),i,t||s,o),N(i,e)}function B(e,n){D(e,n,l)}function I(e,n){return n=p(p({},e.props),n),arguments.length>2&&(n.children=f.slice.call(arguments,2)),m(e.type,n,n.key||e.key,n.ref||e.ref)}function T(e){var n={},t={__c:"__cC"+c++,__:e,Consumer:function(e,n){return e.children(n)},Provider:function(e){var r,o=this;return this.getChildContext||(r=[],this.getChildContext=function(){return n[t.__c]=o,n},this.shouldComponentUpdate=function(n){e.value!==n.value&&r.some((function(e){e.context=n.value,k(e)}))},this.sub=function(e){r.push(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),n&&n.call(e)}}),e.children}};return t.Consumer.contextType=t,t}r={__e:function(e,n){for(var t,r;n=n.__;)if((t=n.__c)&&!t.__)try{if(t.constructor&&null!=t.constructor.getDerivedStateFromError&&(r=!0,t.setState(t.constructor.getDerivedStateFromError(e))),null!=t.componentDidCatch&&(r=!0,t.componentDidCatch(e)),r)return k(t.__E=t)}catch(n){e=n}throw e}},o=function(e){return null!=e&&void 0===e.constructor},y.prototype.setState=function(e,n){var t;t=this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(t,this.props)),e&&p(t,e),null!=e&&this.__v&&(this.__e=!1,n&&this.__h.push(n),k(this))},y.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},y.prototype.render=g,u=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=s,c=0},function(e,n,t){"use strict";t.d(n,"j",(function(){return p})),t.d(n,"h",(function(){return h})),t.d(n,"d",(function(){return _})),t.d(n,"f",(function(){return m})),t.d(n,"i",(function(){return v})),t.d(n,"e",(function(){return g})),t.d(n,"g",(function(){return y})),t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return C})),t.d(n,"c",(function(){return k}));var r,o,u,i=t(0),a=[],l=i.options.__r,c=i.options.diffed,s=i.options.__c,f=i.options.unmount;function d(e){i.options.__h&&i.options.__h(o);var n=o.__H||(o.__H={t:[],u:[]});return e>=n.t.length&&n.t.push({}),n.t[e]}function p(e){return h(E,e)}function h(e,n,t){var u=d(r++);return u.__c||(u.__c=o,u.i=[t?t(n):E(void 0,n),function(n){var t=e(u.i[0],n);u.i[0]!==t&&(u.i[0]=t,u.__c.setState({}))}]),u.i}function _(e,n){var t=d(r++);O(t.o,n)&&(t.i=e,t.o=n,o.__H.u.push(t))}function m(e,n){var t=d(r++);O(t.o,n)&&(t.i=e,t.o=n,o.__h.push(t))}function v(e){return y((function(){return{current:e}}),[])}function g(e,n,t){m((function(){"function"==typeof e?e(n()):e&&(e.current=n())}),null==t?t:t.concat(e))}function y(e,n){var t=d(r++);return O(t.o,n)?(t.o=n,t.v=e,t.i=e()):t.i}function b(e,n){return y((function(){return e}),n)}function C(e){var n=o.context[e.__c];if(!n)return e.__;var t=d(r++);return null==t.i&&(t.i=!0,n.sub(o)),n.props.value}function k(e,n){i.options.useDebugValue&&i.options.useDebugValue(n?n(e):e)}function w(){a.some((function(e){e.__P&&(e.__H.u.forEach(x),e.__H.u.forEach(S),e.__H.u=[])})),a=[]}function x(e){e.m&&e.m()}function S(e){var n=e.i();"function"==typeof n&&(e.m=n)}function O(e,n){return!e||n.some((function(n,t){return n!==e[t]}))}function E(e,n){return"function"==typeof n?n(e):n}i.options.__r=function(e){l&&l(e),r=0,(o=e.__c).__H&&(o.__H.u.forEach(x),o.__H.u.forEach(S),o.__H.u=[])},i.options.diffed=function(e){c&&c(e);var n=e.__c;if(n){var t=n.__H;t&&t.u.length&&(1!==a.push(n)&&u===i.options.requestAnimationFrame||((u=i.options.requestAnimationFrame)||function(e){var n,t=function(){clearTimeout(r),cancelAnimationFrame(n),setTimeout(e)},r=setTimeout(t,100);"undefined"!=typeof window&&(n=requestAnimationFrame(t))})(w))}},i.options.__c=function(e,n){n.some((function(e){e.__h.forEach(x),e.__h=e.__h.filter((function(e){return!e.i||S(e)}))})),s&&s(e,n)},i.options.unmount=function(e){f&&f(e);var n=e.__c;if(n){var t=n.__H;t&&t.t.forEach((function(e){return e.m&&e.m()}))}}},function(e,n,t){"use strict";t.d(n,"c",(function(){return l})),t.d(n,"b",(function(){return s}));var r=t(1);t.d(n,"d",(function(){return r.b})),t.d(n,"e",(function(){return r.d})),t.d(n,"f",(function(){return r.i}));var o=t(0);function u(e,n){for(var t in n)e[t]=n[t];return e}function i(e,n){for(var t in e)if("__source"!==t&&!(t in n))return!0;for(var r in n)if("__source"!==r&&e[r]!==n[r])return!0;return!1}var a=function(e){var n,t;function r(n){var t;return(t=e.call(this,n)||this).isPureReactComponent=!0,t}return t=e,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t,r.prototype.shouldComponentUpdate=function(e,n){return i(this.props,e)||i(this.state,n)},r}(o.Component);function l(e,n){function t(e){var t=this.props.ref,r=t==e.ref;return!r&&t&&(t.call?t(null):t.current=null),n?!n(this.props,e)||!r:i(this.props,e)}function r(n){return this.shouldComponentUpdate=t,Object(o.createElement)(e,u({},n))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(e.displayName||e.name)+")",r.t=!0,r}var c=o.options.vnode;function s(e){function n(n){var t=u({},n);return delete t.ref,e(t,n.ref)}return n.prototype.isReactComponent=!0,n.t=!0,n.displayName="ForwardRef("+(e.displayName||e.name)+")",n}o.options.vnode=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),c&&c(e)};var f=function(e,n){return e?Object(o.toChildArray)(e).map(n):null},d={map:f,forEach:f,count:function(e){return e?Object(o.toChildArray)(e).length:0},only:function(e){if(1!==(e=Object(o.toChildArray)(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:o.toChildArray},p=o.options.__e;function h(e){return e&&((e=u({},e)).__c=null,e.__k=e.__k&&e.__k.map(h)),e}function _(e){this.__u=0,this.__b=null}function m(e){var n=e.__.__c;return n&&n.o&&n.o(e)}function v(){this.u=null,this.i=null}o.options.__e=function(e,n,t){if(e.then)for(var r,o=n;o=o.__;)if((r=o.__c)&&r.l)return r.l(e,n.__c);p(e,n,t)},(_.prototype=new o.Component).l=function(e,n){var t=this,r=m(t.__v),o=!1,u=function(){o||(o=!0,r?r(i):i())};n.__c=n.componentWillUnmount,n.componentWillUnmount=function(){u(),n.__c&&n.__c()};var i=function(){--t.__u||(t.__v.__k[0]=t.state.o,t.setState({o:t.__b=null}))};t.__u++||t.setState({o:t.__b=t.__v.__k[0]}),e.then(u,u)},_.prototype.render=function(e,n){return this.__b&&(this.__v.__k[0]=h(this.__b),this.__b=null),[Object(o.createElement)(o.Component,null,n.o?null:e.children),n.o&&e.fallback]};var g=function(e,n,t){if(++t[1]===t[0]&&e.i.delete(n),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.i.size))for(t=e.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;e.u=t=t[2]}};(v.prototype=new o.Component).o=function(e){var n=this,t=m(n.__v),r=n.i.get(e);return r[0]++,function(o){var u=function(){n.props.revealOrder?(r.push(o),g(n,e,r)):o()};t?t(u):u()}},v.prototype.render=function(e){this.u=null,this.i=new Map;var n=Object(o.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&n.reverse();for(var t=n.length;t--;)this.i.set(n[t],this.u=[1,0,this.u]);return e.children},v.prototype.componentDidUpdate=v.prototype.componentDidMount=function(){var e=this;e.i.forEach((function(n,t){g(e,t,n)}))};var y=function(){function e(){}var n=e.prototype;return n.getChildContext=function(){return this.props.context},n.render=function(e){return e.children},e}();function b(e){var n=this,t=e.container,r=Object(o.createElement)(y,{context:n.context},e.vnode);return n.s&&n.s!==t&&(n.h.parentNode&&n.s.removeChild(n.h),Object(o._unmount)(n.v),n.p=!1),e.vnode?n.p?(t.__k=n.__k,Object(o.render)(r,t),n.__k=t.__k):(n.h=document.createTextNode(""),Object(o.hydrate)("",t),t.appendChild(n.h),n.p=!0,n.s=t,Object(o.render)(r,t,n.h),n.__k=this.h.__k):n.p&&(n.h.parentNode&&n.s.removeChild(n.h),Object(o._unmount)(n.v)),n.v=r,n.componentWillUnmount=function(){n.h.parentNode&&n.s.removeChild(n.h),Object(o._unmount)(n.v)},null}var C=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/;o.Component.prototype.isReactComponent={};var k="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function w(e,n,t){if(null==n.__k)for(;n.firstChild;)n.removeChild(n.firstChild);return function(e,n,t){return Object(o.render)(e,n),"function"==typeof t&&t(),e?e.__c:null}(e,n,t)}var x=o.options.event;function S(e,n){e["UNSAFE_"+n]&&!e[n]&&Object.defineProperty(e,n,{configurable:!1,get:function(){return this["UNSAFE_"+n]},set:function(e){this["UNSAFE_"+n]=e}})}o.options.event=function(e){return x&&(e=x(e)),e.persist=function(){},e.nativeEvent=e};var O={configurable:!0,get:function(){return this.class}},E=o.options.vnode;o.options.vnode=function(e){e.$$typeof=k;var n=e.type,t=e.props;if("function"!=typeof n){var r,u,i;for(i in t.defaultValue&&(t.value||0===t.value||(t.value=t.defaultValue),delete t.defaultValue),Array.isArray(t.value)&&t.multiple&&"select"===n&&(Object(o.toChildArray)(t.children).forEach((function(e){-1!=t.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete t.value),t)if(r=C.test(i))break;if(r)for(i in u=e.props={},t)u[C.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=t[i]}(t.class||t.className)&&(O.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",O)),function(n){var t=e.type,r=e.props;if(r&&"string"==typeof t){var o={};for(var u in r)/^on(Ani|Tra|Tou)/.test(u)&&(r[u.toLowerCase()]=r[u],delete r[u]),o[u.toLowerCase()]=u;if(o.ondoubleclick&&(r.ondblclick=r[o.ondoubleclick],delete r[o.ondoubleclick]),o.onbeforeinput&&(r.onbeforeinput=r[o.onbeforeinput],delete r[o.onbeforeinput]),o.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var i=o.oninput||"oninput";r[i]||(r[i]=r[o.onchange],delete r[o.onchange])}}}(),"function"==typeof n&&!n.m&&n.prototype&&(S(n.prototype,"componentWillMount"),S(n.prototype,"componentWillReceiveProps"),S(n.prototype,"componentWillUpdate"),n.m=!0),E&&E(e)};function P(e){return!!e&&e.$$typeof===k}n.a={useState:r.j,useReducer:r.h,useEffect:r.d,useLayoutEffect:r.f,useRef:r.i,useImperativeHandle:r.e,useMemo:r.g,useCallback:r.a,useContext:r.b,useDebugValue:r.c,version:"16.8.0",Children:d,render:w,hydrate:w,unmountComponentAtNode:function(e){return!!e.__k&&(Object(o.render)(null,e),!0)},createPortal:function(e,n){return Object(o.createElement)(b,{vnode:e,container:n})},createElement:o.createElement,createContext:o.createContext,createFactory:function(e){return o.createElement.bind(null,e)},cloneElement:function(e){return P(e)?o.cloneElement.apply(null,arguments):e},createRef:o.createRef,Fragment:o.Fragment,isValidElement:P,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:o.Component,PureComponent:a,memo:l,forwardRef:s,unstable_batchedUpdates:function(e,n){return e(n)},Suspense:_,SuspenseList:v,lazy:function(e){var n,t,r;function u(u){if(n||(n=e()).then((function(e){t=e.default||e}),(function(e){r=e})),r)throw r;if(!t)throw n;return Object(o.createElement)(t,u)}return u.displayName="Lazy",u.t=!0,u}}},function(e,n,t){"use strict";t.d(n,"b",(function(){return _})),t.d(n,"a",(function(){return h}));var r={data:""},o=function(e){try{var n=e?e.querySelector("#_goober"):self._goober;return n||((n=(e||document.head).appendChild(document.createElement("style"))).innerHTML=" ",n.id="_goober"),n.firstChild}catch(e){}return r},u=/(?:([a-z0-9-%@]+) *:? *([^{;]+?);|([^;}{]*?) +{)|(})/gi,i=/\/\*.*?\*\/|\s{2,}|\n/gm,a={c:0},l=function(e,n,t,r){var o=JSON.stringify(e),l=a[o]||(a[o]=t?"":".go"+o.split("").reduce((function(e,n){return e+n.charCodeAt(0)|8}),4));return function(e,n,t){n.data.indexOf(e)<0&&(n.data=t?e+n.data:n.data+e)}(a[l]||(a[l]=function e(n,t,r){var o="",u="",i="";if(/^@[k|f]/.test(r))return r+JSON.stringify(n).replace(/","/g,";").replace(/"|,"/g,"").replace(/:{/g,"{");for(var a in n){var l=n[a];if("object"==typeof l){var c=t+" "+a;/&/g.test(a)&&(c=a.replace(/&/g,t)),"@"==a[0]&&(c=t),u+=e(l,c,c==t?a:r||"")}else/^@i/.test(a)?i=a+" "+l+";":o+=a.replace(/[A-Z]/g,"-$&").toLowerCase()+":"+l+";"}if(o.charCodeAt(0)){var s=t+"{"+o+"}";return r?u+r+"{"+s+"}":i+s+u}return i+u}(e[0]?function(e){for(var n,t=[{}];n=u.exec(e.replace(i,""));)n[4]&&t.shift(),n[3]?t.unshift(t[0][n[3]]={}):n[4]||(t[0][n[1]]=n[2]);return t[0]}(e):e,l)),n,r),l.slice(1)},c=function(e,n,t){return e.reduce((function(e,r,o){var u=n[o];if(u&&u.call){var i=u(t),a=i&&i.props&&i.props.className||/^go/.test(i)&&i;u=a?"."+a:i&&i.props?"":i}return e+r+(u||"")}),"")};function s(e){var n=this||{},t=e.call?e(n.p):e;return l(t.map?c(t,[].slice.call(arguments,1),n.p):t,o(n.target),n.g,n.o)}s.bind({g:1});var f,d,p,h=function(e,n,t){f=e,d=n,p=t};function _(e){var n=this||{};return function(){var t=arguments;function r(r,o){var u=n.p=Object.assign(p?{theme:p()}:{},r),i=u.className;return n.o=/\s*go[0-9]+/g.test(i),u.className=s.apply(n,t)+(i?" "+i:""),u.ref=o,f(e,u)}return d?d(r):r}}},function(e,n){e.exports=function(e,n){return n||(n=e.slice(0)),e.raw=n,e}},function(e,n,t){var r;e.exports=(r=t(0),function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function r(){this._root=(0,i.render)(function e(n,t){if(3===n.nodeType)return n.nodeValue;if(1!==n.nodeType)return null;var r=[],o={},u=0,a=n.attributes,l=n.childNodes;for(u=a.length;u--;)o[a[u].name]=a[u].value;for(u=l.length;u--;)r[u]=e(l[u]);return(0,i.h)(t||n.nodeName.toLowerCase(),o,r)}(this,this._vdomComponent),this,this._root)}function o(){(0,i.render)((0,i.h)(a),this,this._root)}Object.defineProperty(n,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.default=function(e,n,t){var i=function(n){function i(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i);var n=Reflect.construct(HTMLElement,[],i);return n._vdomComponent=e,n}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":u(n)));e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}(i,HTMLElement),l(i,[{key:"connectedCallback",value:function(){r.apply(this)}},{key:"attributeChangedCallback",value:function(){r.apply(this)}},{key:"detachedCallback",value:function(){o.apply(this)}}],[{key:"observedAttributes",get:function(){return t}}]),i}();return window.customElements.define(n||e.displayName||e.name,i)};var i=t(1),a=function(){return null},l=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()},function(e,n){e.exports=r}]))},function(e,n,t){"use strict";var r=t(4),o=t.n(r),u=t(0),i=t(2),a=t(3),l={colors:{$D10:"#162D3D",$D20:"#32536A",$D30:"#577083",$D40:"#7A92A5",$D50:"#B6C1CD",$D55:"#CBD3DC",$D60:"#DFE5EB",$D70:"#F0F4F7",$D80:"#FFFFFF",$B00:"#2B81CB",$B05:"#308DDD",$B10:"#3899EC",$B20:"#4EB7F5",$B25:"#A1D7FB",$B27:"#B3E0FB",$B30:"#C1E4FE",$B40:"#DAEFFE",$B50:"#EAF7FF",$B60:"#F4FAFE"},sidebar:{colors:{$bg:"#23263e",$divider:"#434567",$bgHover:"#2e3249",$bgActive:"#393f59"}}};function c(){var e=o()(["\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  box-sizing: border-box;\n"]);return c=function(){return e},e}var s=Object(u.createContext)(l);Object(a.a)(u.h,i.b,(function(){return Object(i.d)(s)}));var f=Object(a.b)("div")(c());n.a=function(e){var n=e.children;return Object(u.h)(f,{__source:{fileName:"/Users/igors/Development/pc-comonents/src/App.tsx",lineNumber:13}},n)}},function(e,n){function t(){return e.exports=t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t.apply(this,arguments)}e.exports=t},function(e,n,t){"use strict";n.a=function(e){var n=e.ref,t=e.eventName;return function(e){n.current&&n.current.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0}))}}},,function(e,n,t){"use strict";t.r(n);var r=t(4),o=t.n(r),u=t(0),i=t(3),a=t(1);function l(){var e=o()(["\n\n@keyframes pulsate {\n  from {\n   background-position:200% 50%;\n  }\n\n  to {\n    background-position:-200% 50%;\n  }\n}\n\n  width: ","px;\n  background: linear-gradient(\n    270deg,\n    rgb(250, 250, 250),\n    rgb(234, 234, 234),\n    rgb(234, 234, 234),\n    rgb(250, 250, 250)\n  );\n  background-size: 400% 400%;\n  position: relative;\n  box-sizing: border-box;\n  display: block;\n  animation-timing-function: linear;\n  animation-direction: normal;\n  animation-duration: 3s;\n  animation-fill-mode: none;\n  border-radius: 0px;\n  animation-play-state: running;\n  animation-delay: initial;\n  animation-iteration-count: infinite;\n  animation-direction: initial;\n  animation-fill-mode: initial;\n  animation-play-state: initial;\n  height: ","px;\n  animation-name: pulsate;\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]);return l=function(){return e},e}var c=Object(i.b)("span")(l(),(function(e){return e.width}),(function(e){return e.height?e.height:16}));n.default=function(e){var n=e.width,t=e.height,r=n||150,o=Object(a.j)(0),i=o[0],l=o[1];return Object(a.d)((function(){var e,t;return l((e=60,t=r,Math.floor(Math.random()*(t-e+1)+e))),function(){return n}}),[]),Object(u.h)(c,{height:t,width:i,__source:{fileName:"/Users/igors/Development/pc-comonents/src/components/Skeleton/index.tsx",lineNumber:17}})}},,,,,,,,function(e,n,t){"use strict";t.r(n);var r=t(4),o=t.n(r),u=t(7),i=t.n(u),a=t(0),l=t(2),c=t(1),s=t(3),f=t(5),d=t.n(f);function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function h(e,n){if(null==e)return{};var t,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)t=u[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}var _={init:"init"},m={Cell:function(e){var n=e.cell.value;return void 0===n?"":n},width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function v(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.reduce((function(e,n){var t=n.style,r=n.className;return e=p({},e,{},h(n,["style","className"])),t&&(e.style=e.style?p({},e.style||{},{},t||{}):t),r&&(e.className=e.className?e.className+" "+r:r),""===e.className&&delete e.className,e}),{})}var g=function(e,n){return void 0===n&&(n={}),function(t){return void 0===t&&(t={}),[].concat(e,[t]).reduce((function(e,r){return function e(n,t,r){return"function"==typeof t?e({},t(n,r)):Array.isArray(t)?v.apply(void 0,[n].concat(t)):v(n,t)}(e,r,p({},n,{userProps:t}))}),{})}},y=function(e,n,t){return void 0===t&&(t={}),e.reduce((function(e,n){return n(e,t)}),n)},b=function(e,n){return void 0===n&&(n={}),e.forEach((function(e){e(n)}))};function C(e,n,t,r){e.findIndex((function(e){return e.pluginName===t}));n.forEach((function(n){e.findIndex((function(e){return e.pluginName===n}))})),r.forEach((function(n){e.findIndex((function(e){return e.pluginName===n}))}))}function k(e,n){return"function"==typeof e?e(n):e}function w(e){var n=l.a.useRef();return n.current=e,l.a.useCallback((function(){return n.current}),[])}var x="undefined"!=typeof document?l.a.useLayoutEffect:l.a.useEffect;function S(e,n){var t=l.a.useRef(!1);x((function(){t.current&&e(),t.current=!0}),n)}function O(e,n){var t=w(e[n]);return e[n]=void 0,t}function E(e,n,t){return void 0===t&&(t={}),function(r,o){void 0===o&&(o={});var u="string"==typeof r?n[r]:r;if(void 0===u)throw new Error("Renderer Error");return function(e,n){return t=e,function(e){return"function"==typeof e&&!(!(n=Object.getPrototypeOf(e)).prototype||!n.prototype.isReactComponent);var n}(t)||function(e){return"function"==typeof e}(t)||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(t)?l.a.createElement(e,n):e;var t}(u,p({},e,{column:n},t,{},o))}}function P(e,n,t,r,o){var u=e=p({},m,{},n,{},e),i=u.id,a=u.accessor,c=u.Header;if("string"==typeof a){i=i||a;var s=a.split(".");a=function(e){return function(e,n,t){if(!n)return e;var r,o="function"==typeof n?n:JSON.stringify(n),u=j.get(o)||function(){var e=function(e){return function e(n,t){void 0===t&&(t=[]);if(Array.isArray(n))for(var r=0;r<n.length;r+=1)e(n[r],t);else t.push(n);return t}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(F,".").replace(D,"").split(".")}(n);return j.set(o,e),e}();try{r=u.reduce((function(e,n){return e[n]}),e)}catch(e){}return void 0!==r?r:t}(e,s)}}if(!i&&"string"==typeof c&&c&&(i=c),!i&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!i)throw console.error(e),new Error("A column ID (or string accessor) is required!");return e=p({Header:function(){return l.a.createElement(l.a.Fragment,null,"Â ")},Footer:function(){return l.a.createElement(l.a.Fragment,null,"Â ")}},e,{id:i,accessor:a,parent:t,depth:r,index:o})}function R(e,n,t,r){return void 0===r&&(r=0),e.map((function(e,o){return(e=P(e,n,t,r,o)).columns&&(e.columns=R(e.columns,n,e,r+1)),e}))}function N(e,n){var t=[];return function e(r,o){var u={headers:[]},i=[],a=r.some((function(e){return e.parent}));r.forEach((function(e){var t=!i.length,r=[].concat(i).reverse()[0];if(e.parent){var o=i.filter((function(n){return n.originalId===e.parent.id}));(t||r.originalId!==e.parent.id)&&i.push(p({},e.parent,{originalId:e.parent.id,id:[e.parent.id,o.length].join("_")}))}else if(a){var l=[e.id,"placeholder"].join("_"),c=i.filter((function(e){return e.originalId===l})),s=P({originalId:l,id:[e.id,"placeholder",c.length].join("_"),placeholderOf:e},n);(t||r.originalId!==s.originalId)&&i.push(s)}(e.parent||a)&&((r=[].concat(i).reverse()[0]).headers=r.headers||[],r.headers.includes(e)||r.headers.push(e)),e.totalHeaderCount=e.headers?e.headers.reduce((function(e,n){return e+n.totalHeaderCount}),0):1,u.headers.push(e)})),t.push(u),i.length&&e(i)}(e),t.reverse()}var j=new Map;function H(e,n){var t=[];return function e(r){r.forEach((function(r){r[n]?e(r[n]):t.push(r)}))}(e),t}function A(e,n){var t=n.manualExpandedKey,r=n.expanded,o=n.expandSubRows,u=void 0===o||o,i=[];return e.forEach((function e(n){n.isExpanded=n.original&&n.original[t]||r[n.id],n.canExpand=n.subRows&&!!n.subRows.length,i.push(n),u&&n.subRows&&n.subRows.length&&n.isExpanded&&n.subRows.forEach(e)})),i}var F=/\[/g,D=/\]/g;var B=function(e){return e.filter((function(e){return e.column.isVisible}))},I=function(e,n){var t=n.column;return p({key:"header_"+t.id,colSpan:t.totalVisibleHeaderCount},e)},T=function(e,n){var t=n.column;return p({key:"footer_"+t.id,colSpan:t.totalVisibleHeaderCount},e)},M=function(e,n){return p({key:"headerGroup_"+n.index},e)},$=function(e,n){return p({key:"footerGroup_"+n.index},e)},W=function(e,n){return p({key:"row_"+n.row.id},e)},G=function(e,n){var t=n.cell;return p({},e,{key:"cell_"+t.row.id+"_"+t.column.id})};function z(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],flatColumns:[],flatColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],useRows:[],cells:[B],prepareRow:[],getTableProps:[],getTableBodyProps:[],getHeaderGroupProps:[M],getFooterGroupProps:[$],getHeaderProps:[I],getFooterProps:[T],getRowProps:[W],getCellProps:[G],useFinalInstance:[]}}_.resetHiddenColumns="resetHiddenColumns",_.toggleHideColumn="toggleHideColumn",_.setHiddenColumns="setHiddenColumns",_.toggleHideAllColumns="toggleHideAllColumns";var L=function(e){e.getToggleHiddenProps=[U],e.getToggleHideAllColumnsProps=[V],e.stateReducers.push(q),e.useInstanceBeforeDimensions.push(J),e.headerGroupsDeps.push((function(e,n){var t=n.instance;return[].concat(e,[t.state.hiddenColumns])})),e.useInstance.push(K)};L.pluginName="useColumnVisibility";var U=function(e,n){var t=n.column;return[e,{onChange:function(e){t.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:t.isVisible,title:"Toggle Column Visible"}]},V=function(e,n){var t=n.instance;return[e,{onChange:function(e){t.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!t.allColumnsHidden&&!t.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!t.allColumnsHidden&&t.state.hiddenColumns.length}]};function q(e,n,t,r){if(n.type===_.init)return p({hiddenColumns:[]},e);if(n.type===_.resetHiddenColumns)return p({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(n.type===_.toggleHideColumn){var o=(void 0!==n.value?n.value:!e.hiddenColumns.includes(n.columnId))?[].concat(e.hiddenColumns,[n.columnId]):e.hiddenColumns.filter((function(e){return e!==n.columnId}));return p({},e,{hiddenColumns:o})}return n.type===_.setHiddenColumns?p({},e,{hiddenColumns:k(n.value,e.hiddenColumns)}):n.type===_.toggleHideAllColumns?p({},e,{hiddenColumns:(void 0!==n.value?n.value:!e.hiddenColumns.length)?r.flatColumns.map((function(e){return e.id})):[]}):void 0}function J(e){var n=e.headers,t=e.state.hiddenColumns;l.a.useRef(!1).current;var r=0;n.forEach((function(e){return r+=function e(n,r){n.isVisible=r&&!t.includes(n.id);var o=0;return n.headers&&n.headers.length?n.headers.forEach((function(t){return o+=e(t,n.isVisible)})):o=n.isVisible?1:0,n.totalVisibleHeaderCount=o,o}(e,!0)}))}function K(e){var n=e.flatHeaders,t=e.dispatch,r=e.flatColumns,o=e.state.hiddenColumns,u=w(e),i=r.length===o.length,a=l.a.useCallback((function(e,n){return t({type:_.toggleHideColumn,columnId:e,value:n})}),[t]),c=l.a.useCallback((function(e){return t({type:_.setHiddenColumns,value:e})}),[t]),s=l.a.useCallback((function(e){return t({type:_.toggleHideAllColumns,value:e})}),[t]),f=O(u().hooks,"getToggleHideAllColumnsProps"),d=g(f(),{instance:u()}),p=O(u().hooks,"getToggleHiddenProps");n.forEach((function(e){e.toggleHidden=function(n){t({type:_.toggleHideColumn,columnId:e.id,value:n})},e.getToggleHiddenProps=g(p(),{instance:u(),column:e})})),Object.assign(e,{allColumnsHidden:i,toggleHideColumn:a,setHiddenColumns:c,toggleHideAllColumns:s,getToggleHideAllColumnsProps:d})}var Z={},X={},Y=function(e,n,t){return e},Q=function(e,n){return e.subRows||[]},ee=function(e,n,t){return""+(t?[t.id,n].join("."):n)},ne=function(e){return e};function te(e){var n=e.initialState,t=void 0===n?Z:n,r=e.defaultColumn,o=void 0===r?X:r,u=e.getSubRows,i=void 0===u?Q:u,a=e.getRowId,l=void 0===a?ee:a,c=e.stateReducer,s=void 0===c?Y:c,f=e.useControlledState,d=void 0===f?ne:f;return p({},h(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:t,defaultColumn:o,getSubRows:i,getRowId:l,stateReducer:s,useControlledState:d})}var re=function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];e=te(e),t=[L].concat(t);var o=l.a.useRef({}),u=w(o.current);Object.assign(u(),p({},e,{plugins:t,hooks:z()})),t.filter(Boolean).forEach((function(e){e(u().hooks)}));var i=O(u().hooks,"useOptions");Object.assign(u(),y(i(),te(e)));var a=u(),c=a.data,s=a.columns,f=a.initialState,d=a.defaultColumn,h=a.getSubRows,m=a.getRowId,v=a.stateReducer,C=a.useControlledState,k=O(u().hooks,"stateReducers"),x=w(v),S=l.a.useCallback((function(e,n){if(!n.type)throw console.info({action:n}),new Error("Unknown Action ðŸ‘†");return[].concat(k(),Array.isArray(x())?x():[x()]).reduce((function(t,r){return r(t,n,e,u())||t}),e)}),[k,x,u]),P=l.a.useReducer(S,void 0,(function(){return S(f,{type:_.init})})),j=P[0],A=P[1],F=O(u().hooks,"useControlledState"),D=y([].concat(F(),[C]),j,{instance:u()});Object.assign(u(),{state:D,dispatch:A});var B=O(u().hooks,"columns"),I=O(u().hooks,"columnsDeps"),T=l.a.useMemo((function(){return R(y(B(),s,{instance:u()}),d)}),[d,B,u,s].concat(y(I(),[],{instance:u()})));u().columns=T;var M=l.a.useMemo((function(){return H(T,"columns")}),[T]);u().flatColumns=M;var $=l.a.useMemo((function(){var e=[];return[c.map((function(n,t){return function n(t,r,o,u){void 0===o&&(o=0);var i=t,a={id:m(t,r,u),original:i,index:r,depth:o,cells:[{}]};e.push(a);var l=h(t,r);l&&(a.subRows=l.map((function(e,t){return n(e,t,o+1,a)})));var s=function(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")};return a.cells.map=s,a.cells.filter=s,a.cells.forEach=s,a.cells[0].getCellProps=s,a.values={},M.forEach((function(e){var n=e.id,u=e.accessor;a.values[n]=u?u(t,r,{subRows:l,depth:o,data:c}):void 0})),a}(n,t)})),e]}),[c,M,m,h]),W=$[0],G=$[1];u().rows=W,u().flatRows=G;var U=O(u().hooks,"flatColumns"),V=O(u().hooks,"flatColumnsDeps");M=l.a.useMemo((function(){return y(U(),M,{instance:u()})}),[M,U,u].concat(y(V(),[],{instance:u()}))),u().flatColumns=M;var q=O(u().hooks,"headerGroups"),J=O(u().hooks,"headerGroupsDeps"),K=l.a.useMemo((function(){return y(q(),N(M,d),u())}),[d,M,q,u].concat(y(J(),[],{instance:u()})));u().headerGroups=K;var Z=l.a.useMemo((function(){return K.length?K[0].headers:[]}),[K]);u().headers=Z,u().flatHeaders=K.reduce((function(e,n){return[].concat(e,n.headers)}),[]);var X=O(u().hooks,"useInstanceBeforeDimensions");b(X(),u());var Y=oe(Z),Q=Y[0],ee=Y[1],ne=Y[2];u().totalColumnsMinWidth=Q,u().totalColumnsWidth=ee,u().totalColumnsMaxWidth=ne;var re=O(u().hooks,"useInstance");b(re(),u());var ue=O(u().hooks,"getHeaderProps"),ie=O(u().hooks,"getFooterProps");[].concat(u().flatHeaders,u().flatColumns).forEach((function(e){e.render=E(u(),e),e.getHeaderProps=g(ue(),{instance:u(),column:e}),e.getFooterProps=g(ie(),{instance:u(),column:e})}));var ae=O(u().hooks,"getHeaderGroupProps"),le=O(u().hooks,"getFooterGroupProps");u().headerGroups=u().headerGroups.filter((function(e,n){return e.headers=e.headers.filter((function(e){return e.headers?function e(n){return n.filter((function(n){return n.headers?e(n.headers):n.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=g(ae(),{instance:u(),headerGroup:e,index:n}),e.getFooterGroupProps=g(le(),{instance:u(),headerGroup:e,index:n}),!0)})),u().footerGroups=[].concat(u().headerGroups).reverse();var ce=O(u().hooks,"useRows");u().rows=y(ce(),u().rows,{instance:u()});var se=O(u().hooks,"prepareRow"),fe=O(u().hooks,"getRowProps"),de=O(u().hooks,"getCellProps"),pe=O(u().hooks,"cells");u().prepareRow=l.a.useCallback((function(e){e.getRowProps=g(fe(),{instance:u(),row:e}),e.allCells=M.map((function(n){var t={column:n,row:e,value:e.values[n.id]};return t.getCellProps=g(de(),{instance:u(),cell:t}),t.render=E(u(),n,{row:e,cell:t}),t})),e.cells=y(pe(),e.allCells,{instance:u()}),b(se(),e,u())}),[fe,u,M,pe,se,de]);var he=O(u().hooks,"getTableProps");u().getTableProps=g(he(),{instance:u()});var _e=O(u().hooks,"getTableBodyProps");u().getTableBodyProps=g(_e(),{instance:u()});var me=O(u().hooks,"useFinalInstance");return b(me(),u()),u()};function oe(e,n){void 0===n&&(n=0);var t=0,r=0,o=0;return e.forEach((function(e){var u=e.headers;if(e.totalLeft=n,u&&u.length){var i=oe(u,n),a=i[0],l=i[1],c=i[2];e.totalMinWidth=a,e.totalWidth=l,e.totalMaxWidth=c}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth;e.isVisible&&(n+=e.totalWidth,t+=e.totalMinWidth,r+=e.totalWidth,o+=e.totalMaxWidth)})),[t,r,o]}_.toggleExpanded="toggleExpanded",_.toggleAllExpanded="toggleAllExpanded",_.setExpanded="setExpanded",_.resetExpanded="resetExpanded";var ue=function(e,n,t){return e=e.filter((function(e){return n.some((function(n){var r=e.values[n];return String(r).toLowerCase().includes(String(t).toLowerCase())}))}))};ue.autoRemove=function(e){return!e};var ie=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return void 0===r||String(r).toLowerCase()===String(t).toLowerCase()}))}))};ie.autoRemove=function(e){return!e};var ae=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return void 0===r||String(r)===String(t)}))}))};ae.autoRemove=function(e){return!e};var le=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return t.includes(r)}))}))};le.autoRemove=function(e){return!e||!e.length};var ce=function(e,n,t){return e.filter((function(e){return n.some((function(n){var r=e.values[n];return r&&r.length&&t.every((function(e){return r.includes(e)}))}))}))};ce.autoRemove=function(e){return!e||!e.length};var se=function(e,n,t){return e.filter((function(e){return n.some((function(n){return e.values[n]===t}))}))};se.autoRemove=function(e){return void 0===e};var fe=function(e,n,t){return e.filter((function(e){return n.some((function(n){return e.values[n]==t}))}))};fe.autoRemove=function(e){return null==e};var de=function(e,n,t){var r=t||[],o=r[0],u=r[1];if((o="number"==typeof o?o:-1/0)>(u="number"==typeof u?u:1/0)){var i=o;o=u,u=i}return e.filter((function(e){return n.some((function(n){var t=e.values[n];return t>=o&&t<=u}))}))};de.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};_.resetFilters="resetFilters",_.setFilter="setFilter",_.setAllFilters="setAllFilters";_.resetGlobalFilter="resetGlobalFilter",_.setGlobalFilter="setGlobalFilter";_.resetGroupBy="resetGroupBy",_.toggleGroupBy="toggleGroupBy";_.resetSortBy="resetSortBy",_.toggleSortBy="toggleSortBy",_.clearSortBy="clearSortBy",m.sortType="alphanumeric",m.sortDescFirst=!1;_.resetPage="resetPage",_.gotoPage="gotoPage",_.setPageSize="setPageSize";var pe=function(e){e.stateReducers.push(he),e.useInstance.push(_e)};function he(e,n,t,r){if(n.type===_.init)return p({pageSize:10,pageIndex:0},e);if(n.type===_.resetPage)return p({},e,{pageIndex:r.initialState.pageIndex||0});if(n.type===_.gotoPage){var o=r.pageCount,u=k(n.pageIndex,e.pageIndex);return u<0||u>o-1?e:p({},e,{pageIndex:u})}if(n.type===_.setPageSize){var i=n.pageSize,a=e.pageSize*e.pageIndex;return p({},e,{pageIndex:Math.floor(a/i),pageSize:i})}}function _e(e){var n=e.rows,t=e.autoResetPage,r=void 0===t||t,o=e.manualExpandedKey,u=void 0===o?"expanded":o,i=e.plugins,a=e.pageCount,c=e.paginateExpandedRows,s=void 0===c||c,f=e.expandSubRows,d=void 0===f||f,p=e.state,h=p.pageSize,m=p.pageIndex,v=p.expanded,g=p.filters,y=p.groupBy,b=p.sortBy,k=e.dispatch,x=e.data,O=e.manualPagination,E=e.manualFilters,P=e.manualGroupBy,R=e.manualSortBy;C(i,["useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination",[]);var N=w(r);S((function(){N()&&k({type:_.resetPage})}),[k,O?null:x,O||E?null:g,O||P?null:y,O||R?null:b]);var j=O?a:Math.ceil(n.length/h),H=l.a.useMemo((function(){return j>0?[].concat(new Array(j)).map((function(e,n){return n})):[]}),[j]),F=l.a.useMemo((function(){var e;if(O)e=n;else{var t=h*m,r=t+h;e=n.slice(t,r)}return s?e:A(e,{manualExpandedKey:u,expanded:v,expandSubRows:d})}),[d,v,u,O,m,h,s,n]),D=m>0,B=-1===j||m<j-1,I=l.a.useCallback((function(e){k({type:_.gotoPage,pageIndex:e})}),[k]),T=l.a.useCallback((function(){return I((function(e){return e-1}))}),[I]),M=l.a.useCallback((function(){return I((function(e){return e+1}))}),[I]),$=l.a.useCallback((function(e){k({type:_.setPageSize,pageSize:e})}),[k]);Object.assign(e,{pageOptions:H,pageCount:j,page:F,canPreviousPage:D,canNextPage:B,gotoPage:I,previousPage:T,nextPage:M,setPageSize:$})}pe.pluginName="usePagination";_.resetSelectedRows="resetSelectedRows",_.toggleAllRowsSelected="toggleAllRowsSelected",_.toggleRowSelected="toggleRowSelected";_.setRowState="setRowState",_.resetRowState="resetRowState";_.resetColumnOrder="resetColumnOrder",_.setColumnOrder="setColumnOrder";m.canResize=!0,_.columnStartResizing="columnStartResizing",_.columnResizing="columnResizing",_.columnDoneResizing="columnDoneResizing";var me={position:"absolute",top:0},ve=function(e){e.getTableBodyProps.push(ge),e.getRowProps.push(ge),e.getHeaderGroupProps.push(ge),e.useInstance.push(ye),e.getHeaderProps.push((function(e,n){var t=n.column;return[e,{style:p({},me,{left:t.totalLeft+"px",width:t.totalWidth+"px"})}]})),e.getCellProps.push((function(e,n){var t=n.cell;return[e,{style:p({},me,{left:t.column.totalLeft+"px",width:t.column.totalWidth+"px"})}]}))};ve.pluginName="useAbsoluteLayout";var ge=function(e,n){return[e,{style:{position:"relative",width:n.instance.totalColumnsWidth+"px"}}]};function ye(e){C(e.plugins,[],ve.pluginName,["useResizeColumns"])}var be=t(6),Ce=t(8),ke=t(10),we="/Users/igors/Development/pc-comonents/src/components/Table/index.tsx";function xe(){var e=o()(["\n  .table {\n    font-size: 14px;\n    background: ",";\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.1);\n    width: 100%;\n    overflow: hidden;\n\n    .tr.header {\n      background: ",";\n      height: 42px;\n      &:hover {\n        background: ",";\n        cursor: default;\n      }\n    }\n\n    .tr {\n      height: 54px;\n      width: 100%;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      border-bottom: 1px solid ",";\n\n      &:hover {\n        background: ",";\n        cursor: pointer;\n        transition: all 120ms ease;\n      }\n\n      .th,\n      .td {\n        display: block;\n        flex: 1;\n        text-align: left;\n        overflow-x: hidden;\n        text-overflow: ellipsis;\n        padding: 0 30px 0 0;\n        align-items: center;\n      }\n\n      .th:first-child,\n      .td:first-child {\n        padding: 0 0 0 30px;\n      }\n    }\n  }\n"]);return xe=function(){return e},e}var Se=new Array(4).fill({}).map((function(e,n){return{accessor:""+n}})),Oe=new Array(4).fill({}),Ee=Object(l.c)((function(e){var n=e.columns,t=e.data,r=e.loading,o=(e.pageCount,e.pageCount),u=re({columns:n,data:t,initialState:{pageIndex:0,pageSize:10},manualPagination:!0,pageCount:o},pe),l=u.getTableProps,s=u.getTableBodyProps,f=u.headerGroups,d=u.page,p=u.prepareRow,h=(u.setPageSize,u.state),_=(h.pageIndex,h.pageSize,Object(c.i)()),m=Object(Ce.a)({ref:_,eventName:"tableRowClicked"});return Object(a.h)(Pe,{__source:{fileName:we,lineNumber:86}},Object(a.h)("div",i()({ref:_},l(),{className:"table",__source:{fileName:we,lineNumber:87}}),Object(a.h)("div",{__source:{fileName:we,lineNumber:88}},f.map((function(e){return Object(a.h)("div",i()({key:e.id},e.getHeaderGroupProps(),{className:"tr header",__source:{fileName:we,lineNumber:90}}),e.headers.map((function(e){return Object(a.h)("div",i()({key:e.id},e.getHeaderProps(),{className:"th",__source:{fileName:we,lineNumber:92}}),!r&&e.render("Header"))})))}))),Object(a.h)("div",i()({},s(),{__source:{fileName:we,lineNumber:101}}),d.map((function(e){return p(e),Object(a.h)("div",i()({onClick:function(){return m(e.values)},key:e.id},e.getRowProps(),{className:"tr",__source:{fileName:we,lineNumber:106}}),e.cells.map((function(e){return Object(a.h)("div",i()({key:e.value},e.getCellProps(),{className:"td",__source:{fileName:we,lineNumber:108}}),r?Object(a.h)(ke.default,{height:16,__source:{fileName:we,lineNumber:109}}):e.render("Cell"))})))})))))})),Pe=Object(s.b)("div")(xe(),(function(e){return e.theme.colors.$D80}),(function(e){return e.theme.colors.$B40}),(function(e){return e.theme.colors.$B40}),(function(e){return e.theme.colors.$D60}),(function(e){return e.theme.colors.$B50}));d()((function(e){var n=e.data,t=e.columns,r=Object(c.j)(Oe),o=r[0],u=r[1],i=Object(c.j)(Se),l=i[0],s=i[1],f=Object(c.j)(!0),d=f[0],p=f[1],h=Object(c.j)(0),_=h[0],m=(h[1],Object(c.a)((function(e){var n=e.parsedData,t=e.parsedColumns;u(n),s(t),p(!1)}),[o,l,d]));return Object(c.d)((function(){if(n&&t){var e=JSON.parse(n),r=JSON.parse(t);m({parsedData:e,parsedColumns:r})}}),[n,t]),Object(a.h)(be.a,{__source:{fileName:we,lineNumber:44}},Object(a.h)(Ee,{columns:l,data:o,loading:d,pageCount:_,__source:{fileName:we,lineNumber:45}}))}),"x-table",["columns","data"])}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9vcHRpb25zLmpzIiwid2VicGFjazovLy8uLi9zcmMvY3JlYXRlLWVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jcmVhdGUtY29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9kaWZmL2NoaWxkcmVuLmpzIiwid2VicGFjazovLy8uLi9zcmMvZGlmZi9wcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RpZmYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jbG9uZS1lbGVtZW50LmpzIiwid2VicGFjazovLy8uLi9zcmMvZGlmZi9jYXRjaC1lcnJvci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9zcmMvUHVyZUNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lbW8uanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9mb3J3YXJkUmVmLmpzIiwid2VicGFjazovLy8uLi9zcmMvQ2hpbGRyZW4uanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zdXNwZW5zZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3N1c3BlbnNlLWxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9wb3J0YWxzLmpzIiwid2VicGFjazovLy8uLi9zcmMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbmtzYXJhZi9nb29iZXIvZGlzdC9nb29iZXIubW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcmVhY3QtY3VzdG9tLWVsZW1lbnQvZGlzdC9idW5kbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2dsb2JhbFN0eWxlcy50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcC50c3giLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdXNlQ3VzdG9tRXZlbnQudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1NrZWxldG9uL2luZGV4LnRzeCIsIndlYnBhY2s6Ly8vLi4vc3JjL3B1YmxpY1V0aWxzLmpzIiwid2VicGFjazovLy8uLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9tYWtlRGVmYXVsdFBsdWdpbkhvb2tzLmpzIiwid2VicGFjazovLy8uLi9zcmMvaG9va3MvdXNlQ29sdW1uVmlzaWJpbGl0eS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2hvb2tzL3VzZVRhYmxlLmpzIiwid2VicGFjazovLy8uLi9zcmMvcGx1Z2luLWhvb2tzL3VzZUV4cGFuZGVkLmpzIiwid2VicGFjazovLy8uLi9zcmMvZmlsdGVyVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9wbHVnaW4taG9va3MvdXNlRmlsdGVycy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VHbG9iYWxGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9wbHVnaW4taG9va3MvdXNlR3JvdXBCeS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VTb3J0QnkuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9wbHVnaW4taG9va3MvdXNlUGFnaW5hdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VSb3dTZWxlY3QuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9wbHVnaW4taG9va3MvdXNlUm93U3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9wbHVnaW4taG9va3MvdXNlQ29sdW1uT3JkZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9wbHVnaW4taG9va3MvdXNlUmVzaXplQ29sdW1ucy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VBYnNvbHV0ZUxheW91dC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3BsdWdpbi1ob29rcy91c2VGbGV4TGF5b3V0LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1RhYmxlL2luZGV4LnRzeCJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIm9wdGlvbnMiLCJpc1ZhbGlkRWxlbWVudCIsInEiLCJkZWZlciIsInByZXZEZWJvdW5jZSIsIklTX0hZRFJBVEUiLCJFTVBUWV9PQkoiLCJFTVBUWV9BUlIiLCJJU19OT05fRElNRU5TSU9OQUwiLCJhc3NpZ24iLCJvYmoiLCJwcm9wcyIsInJlbW92ZU5vZGUiLCJub2RlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJjaGlsZHJlbiIsIm5vcm1hbGl6ZWRQcm9wcyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInB1c2giLCJkZWZhdWx0UHJvcHMiLCJjcmVhdGVWTm9kZSIsInJlZiIsInZub2RlIiwiX2NoaWxkcmVuIiwiX3BhcmVudCIsIl9kZXB0aCIsIl9kb20iLCJfbGFzdERvbUNoaWxkIiwiX2NvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwidW5kZWZpbmVkIiwiY3JlYXRlUmVmIiwiRnJhZ21lbnQiLCJDb21wb25lbnQiLCJjb250ZXh0IiwiZ2V0RG9tU2libGluZyIsImNoaWxkSW5kZXgiLCJpbmRleE9mIiwic2libGluZyIsInVwZGF0ZVBhcmVudERvbVBvaW50ZXJzIiwiY2hpbGQiLCJiYXNlIiwiZW5xdWV1ZVJlbmRlciIsIl9kaXJ0eSIsImRlYm91bmNlUmVuZGVyaW5nIiwicHJvY2VzcyIsImNvbXBvbmVudCIsImNvbW1pdFF1ZXVlIiwibmV3RG9tIiwib2xkRG9tIiwicGFyZW50RG9tIiwic29ydCIsImEiLCJiIiwiX3Zub2RlIiwicG9wIiwiX3BhcmVudERvbSIsImRpZmYiLCJfY29udGV4dCIsIm93bmVyU1ZHRWxlbWVudCIsImNvbW1pdFJvb3QiLCJkaWZmQ2hpbGRyZW4iLCJuZXdQYXJlbnRWTm9kZSIsIm9sZFBhcmVudFZOb2RlIiwiaXNTdmciLCJleGNlc3NEb21DaGlsZHJlbiIsImlzSHlkcmF0aW5nIiwiaiIsIm9sZFZOb2RlIiwic2liRG9tIiwiZmlyc3RDaGlsZERvbSIsInJlZnMiLCJvbGRDaGlsZHJlbiIsIm9sZENoaWxkcmVuTGVuZ3RoIiwidG9DaGlsZEFycmF5IiwiY2hpbGRWTm9kZSIsIm91dGVyIiwiYXBwZW5kQ2hpbGQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsInVubW91bnQiLCJhcHBseVJlZiIsImNhbGxiYWNrIiwiZmxhdHRlbmVkIiwiQXJyYXkiLCJpc0FycmF5Iiwic2V0U3R5bGUiLCJzdHlsZSIsInNldFByb3BlcnR5IiwidGVzdCIsImRvbSIsIm9sZFZhbHVlIiwidXNlQ2FwdHVyZSIsIm5hbWVMb3dlciIsImNzc1RleHQiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJzbGljZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudFByb3h5IiwiX2xpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZU5TIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiZSIsImV2ZW50IiwibmV3Vk5vZGUiLCJ0bXAiLCJpc05ldyIsIm9sZFByb3BzIiwib2xkU3RhdGUiLCJzbmFwc2hvdCIsImNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbiIsIm5ld1Byb3BzIiwicHJvdmlkZXIiLCJjY3R4IiwibmV3VHlwZSIsIl9kaWZmIiwiY29udGV4dFR5cGUiLCJfaWQiLCJfZGVmYXVsdFZhbHVlIiwiX3Byb2Nlc3NpbmdFeGNlcHRpb24iLCJfcGVuZGluZ0Vycm9yIiwicmVuZGVyIiwiZG9SZW5kZXIiLCJzdWIiLCJzdGF0ZSIsIl9yZW5kZXJDYWxsYmFja3MiLCJfbmV4dFN0YXRlIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiY29tcG9uZW50V2lsbE1vdW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwiX2ZvcmNlIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsIl9yZW5kZXIiLCJnZXRDaGlsZENvbnRleHQiLCJnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSIsImRpZmZFbGVtZW50Tm9kZXMiLCJkaWZmZWQiLCJfY2F0Y2hFcnJvciIsInJvb3QiLCJfY29tbWl0Iiwic29tZSIsImNiIiwib2xkSHRtbCIsIm5ld0h0bWwiLCJub2RlVHlwZSIsImxvY2FsTmFtZSIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiLCJjcmVhdGVFbGVtZW50TlMiLCJkYXRhIiwiY2hpbGROb2RlcyIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiYXR0cmlidXRlcyIsIl9faHRtbCIsImlubmVySFRNTCIsImh5ZHJhdGUiLCJkaWZmUHJvcHMiLCJjaGVja2VkIiwiY3VycmVudCIsInBhcmVudFZOb2RlIiwic2tpcFJlbW92ZSIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwidGhpcyIsInJlcGxhY2VOb2RlIiwiX3Jvb3QiLCJjbG9uZUVsZW1lbnQiLCJjcmVhdGVDb250ZXh0IiwiZGVmYXVsdFZhbHVlIiwiY3R4IiwiQ29uc3VtZXIiLCJQcm92aWRlciIsInN1YnMiLCJfdGhpcyIsIl9wcm9wcyIsIm9sZCIsInNwbGljZSIsImVycm9yIiwiaGFzQ2F1Z2h0IiwiZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yIiwic2V0U3RhdGUiLCJjb21wb25lbnREaWRDYXRjaCIsInVwZGF0ZSIsImZvcmNlVXBkYXRlIiwiUHJvbWlzZSIsInRoZW4iLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImN1cnJlbnRJbmRleCIsImN1cnJlbnRDb21wb25lbnQiLCJwcmV2UmFmIiwiYWZ0ZXJQYWludEVmZmVjdHMiLCJvbGRCZWZvcmVSZW5kZXIiLCJvbGRBZnRlckRpZmYiLCJvbGRDb21taXQiLCJvbGRCZWZvcmVVbm1vdW50IiwiZ2V0SG9va1N0YXRlIiwiaW5kZXgiLCJfaG9vayIsImhvb2tzIiwiX19ob29rcyIsIl9saXN0IiwiX3BlbmRpbmdFZmZlY3RzIiwidXNlU3RhdGUiLCJpbml0aWFsU3RhdGUiLCJ1c2VSZWR1Y2VyIiwiaW52b2tlT3JSZXR1cm4iLCJyZWR1Y2VyIiwiaW5pdCIsImhvb2tTdGF0ZSIsIl92YWx1ZSIsIm5leHRWYWx1ZSIsImFjdGlvbiIsInVzZUVmZmVjdCIsImFyZ3MiLCJhcmdzQ2hhbmdlZCIsIl9hcmdzIiwidXNlTGF5b3V0RWZmZWN0IiwidXNlUmVmIiwiaW5pdGlhbFZhbHVlIiwidXNlTWVtbyIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJjcmVhdGVIYW5kbGUiLCJjb25jYXQiLCJmYWN0b3J5IiwiX2ZhY3RvcnkiLCJ1c2VDYWxsYmFjayIsInVzZUNvbnRleHQiLCJ1c2VEZWJ1Z1ZhbHVlIiwiZm9ybWF0dGVyIiwiZmx1c2hBZnRlclBhaW50RWZmZWN0cyIsImZvckVhY2giLCJpbnZva2VDbGVhbnVwIiwiaW52b2tlRWZmZWN0IiwiaG9vayIsIl9jbGVhbnVwIiwicmVzdWx0Iiwib2xkQXJncyIsIm5ld0FyZ3MiLCJhcmciLCJmIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmFmIiwiZG9uZSIsImNsZWFyVGltZW91dCIsInRpbWVvdXQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIndpbmRvdyIsImZpbHRlciIsInNoYWxsb3dEaWZmZXJzIiwiUHVyZUNvbXBvbmVudCIsImlzUHVyZVJlYWN0Q29tcG9uZW50IiwibWVtbyIsImNvbXBhcmVyIiwic2hvdWxkVXBkYXRlIiwibmV4dFByb3BzIiwidXBkYXRlUmVmIiwiTWVtb2VkIiwiaXNSZWFjdENvbXBvbmVudCIsImRpc3BsYXlOYW1lIiwiX2ZvcndhcmRlZCIsIm9sZFZOb2RlSG9vayIsImZvcndhcmRSZWYiLCJmbiIsIkZvcndhcmRlZCIsImNsb25lIiwibWFwRm4iLCJtYXAiLCJDaGlsZHJlbiIsImNvdW50Iiwib25seSIsIkVycm9yIiwidG9BcnJheSIsIm9sZENhdGNoRXJyb3IiLCJkZXRhY2hlZENsb25lIiwiU3VzcGVuc2UiLCJfc3VzcGVuc2lvbnMiLCJfZGV0YWNoT25OZXh0UmVuZGVyIiwic3VzcGVuZGVkIiwiX3N1c3BlbmRlZCIsIlN1c3BlbnNlTGlzdCIsIl9uZXh0IiwiX21hcCIsIl9jaGlsZERpZFN1c3BlbmQiLCJwcm9taXNlIiwic3VzcGVuZGluZ0NvbXBvbmVudCIsInJlc29sdmVkIiwib25SZXNvbHZlZCIsIm9uU3VzcGVuc2lvbkNvbXBsZXRlIiwiX3N1c3BlbmRlZENvbXBvbmVudFdpbGxVbm1vdW50IiwiZmFsbGJhY2siLCJsaXN0IiwiZGVsZXRlIiwicmV2ZWFsT3JkZXIiLCJzaXplIiwiZGVsZWdhdGVkIiwid3JhcHBlZFVuc3VzcGVuZCIsInVuc3VzcGVuZCIsIk1hcCIsInJldmVyc2UiLCJzZXQiLCJDb250ZXh0UHJvdmlkZXIiLCJQb3J0YWwiLCJjb250YWluZXIiLCJ3cmFwIiwiX2NvbnRhaW5lciIsIl90ZW1wIiwiX3VubW91bnQiLCJfd3JhcCIsIl9oYXNNb3VudGVkIiwiQ0FNRUxfUFJPUFMiLCJSRUFDVF9FTEVNRU5UX1RZUEUiLCJmb3IiLCJwYXJlbnQiLCJmaXJzdENoaWxkIiwicHJlYWN0UmVuZGVyIiwib2xkRXZlbnRIb29rIiwic2V0U2FmZURlc2NyaXB0b3IiLCJwcm90byIsImNvbmZpZ3VyYWJsZSIsInYiLCJwZXJzaXN0IiwibmF0aXZlRXZlbnQiLCJjbGFzc05hbWVEZXNjcmlwdG9yIiwiY2xhc3MiLCIkJHR5cGVvZiIsInNob3VsZFNhbml0aXplIiwiYXR0cnMiLCJtdWx0aXBsZSIsInNlbGVjdGVkIiwiY2xhc3NOYW1lIiwib25kb3VibGVjbGljayIsIm9uZGJsY2xpY2siLCJvbmJlZm9yZWlucHV0Iiwib25jaGFuZ2UiLCJub3JtYWxpemVkIiwib25pbnB1dCIsIl9wYXRjaGVkTGlmZWN5Y2xlcyIsImVsZW1lbnQiLCJ2ZXJzaW9uIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsImNyZWF0ZVBvcnRhbCIsImNyZWF0ZUZhY3RvcnkiLCJwcmVhY3RDbG9uZUVsZW1lbnQiLCJhcHBseSIsImZpbmRET01Ob2RlIiwidW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMiLCJsYXp5IiwibG9hZGVyIiwicHJvbSIsIkxhenkiLCJkZWZhdWx0IiwicXVlcnlTZWxlY3RvciIsInNlbGYiLCJfZ29vYmVyIiwiaGVhZCIsImlkIiwidSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzcGxpdCIsInJlZHVjZSIsImNoYXJDb2RlQXQiLCJleGVjIiwic2hpZnQiLCJ1bnNoaWZ0IiwidGFyZ2V0IiwiZyIsInRoZW1lIiwic3RyaW5ncyIsInJhdyIsInJlcXVpcmUiLCJsb2FkZWQiLCJub2RlVmFsdWUiLCJoIiwibm9kZU5hbWUiLCJfdmRvbUNvbXBvbmVudCIsIml0ZXJhdG9yIiwiVHlwZUVycm9yIiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsIkhUTUxFbGVtZW50Iiwid3JpdGFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIiwiY29sb3JzIiwiJEQxMCIsIiREMjAiLCIkRDMwIiwiJEQ0MCIsIiRENTAiLCIkRDU1IiwiJEQ2MCIsIiRENzAiLCIkRDgwIiwiJEIwMCIsIiRCMDUiLCIkQjEwIiwiJEIyMCIsIiRCMjUiLCIkQjI3IiwiJEIzMCIsIiRCNDAiLCIkQjUwIiwiJEI2MCIsInNpZGViYXIiLCIkYmciLCIkZGl2aWRlciIsIiRiZ0hvdmVyIiwiJGJnQWN0aXZlIiwiVGhlbWVDb250ZXh0Iiwic2V0dXAiLCJTdHlsZWRCYXNlIiwic3R5bGVkIiwiQXBwIiwiX2V4dGVuZHMiLCJzb3VyY2UiLCJ1c2VDdXN0b21FdmVudCIsImV2ZW50TmFtZSIsImV2RGF0YSIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImRldGFpbCIsImJ1YmJsZXMiLCJSZWN0YW5nbGUiLCJ3aWR0aCIsImhlaWdodCIsIlNrZWxldG9uIiwibWF4V2lkdGgiLCJjdXJyZW50V2lkdGgiLCJzZXRXaWR0aCIsIm1pbiIsIm1heCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImFjdGlvbnMiLCJkZWZhdWx0Q29sdW1uIiwiQ2VsbCIsIm1pbldpZHRoIiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsIm1lcmdlUHJvcHMiLCJwcm9wTGlzdCIsIm5leHQiLCJtYWtlUHJvcEdldHRlciIsIm1ldGEiLCJ1c2VyUHJvcHMiLCJoYW5kbGVQcm9wR2V0dGVyIiwicHJldlByb3BzIiwicHJldiIsInJlZHVjZUhvb2tzIiwiaW5pdGlhbCIsImxvb3BIb29rcyIsImVuc3VyZVBsdWdpbk9yZGVyIiwicGx1Z2lucyIsImJlZm9yZXMiLCJwbHVnaW5OYW1lIiwiYWZ0ZXJzIiwicGx1Z2luIiwiYmVmb3JlIiwiYWZ0ZXIiLCJmdW5jdGlvbmFsVXBkYXRlIiwidXBkYXRlciIsInVzZUdldExhdGVzdCIsIlJlYWN0Iiwic2FmZVVzZUxheW91dEVmZmVjdCIsInVzZU1vdW50ZWRMYXlvdXRFZmZlY3QiLCJkZXBzIiwibW91bnRlZFJlZiIsInVzZUNvbnN1bWVIb29rR2V0dGVyIiwiaG9va05hbWUiLCJtYWtlUmVuZGVyZXIiLCJpbnN0YW5jZSIsImNvbHVtbiIsIkNvbXAiLCJpc0NsYXNzQ29tcG9uZW50IiwiaXNGdW5jdGlvbkNvbXBvbmVudCIsImluY2x1ZGVzIiwiaXNFeG90aWNDb21wb25lbnQiLCJmbGV4UmVuZGVyIiwiZGVjb3JhdGVDb2x1bW4iLCJ1c2VyRGVmYXVsdENvbHVtbiIsImRlcHRoIiwiYWNjZXNzb3IiLCJIZWFkZXIiLCJhY2Nlc3NvclBhdGgiLCJyb3ciLCJwYXRoIiwiZGVmIiwiY2FjaGVLZXkiLCJwYXRoT2JqIiwicGF0aE9iakNhY2hlIiwiZmxhdHRlbkRlZXAiLCJhcnIiLCJuZXdBcnIiLCJTdHJpbmciLCJtYWtlUGF0aEFycmF5IiwidmFsIiwiY3Vyc29yIiwiZ2V0QnkiLCJjb25zb2xlIiwiRm9vdGVyIiwiZGVjb3JhdGVDb2x1bW5UcmVlIiwiY29sdW1ucyIsIm1ha2VIZWFkZXJHcm91cHMiLCJmbGF0Q29sdW1ucyIsImhlYWRlckdyb3VwcyIsImJ1aWxkR3JvdXAiLCJoZWFkZXJHcm91cCIsImhlYWRlcnMiLCJwYXJlbnRDb2x1bW5zIiwiaGFzUGFyZW50cyIsImNvbCIsImlzRmlyc3QiLCJsYXRlc3RQYXJlbnRDb2x1bW4iLCJzaW1pbGFyUGFyZW50Q29sdW1ucyIsIm9yaWdpbmFsSWQiLCJwbGFjZWhvbGRlckNvbHVtbiIsInBsYWNlaG9sZGVyT2YiLCJzdW0iLCJoZWFkZXIiLCJmbGF0dGVuQnkiLCJjaGlsZEtleSIsInJlY3Vyc2UiLCJleHBhbmRSb3dzIiwibWFudWFsRXhwYW5kZWRLZXkiLCJleHBhbmRlZCIsImV4cGFuZFN1YlJvd3MiLCJleHBhbmRlZFJvd3MiLCJyb3dzIiwiaGFuZGxlUm93IiwicmVPcGVuQnJhY2tldCIsInJlQ2xvc2VCcmFja2V0IiwiZGVmYXVsdENlbGxzIiwiY2VsbCIsImRlZmF1bHRHZXRIZWFkZXJQcm9wcyIsImNvbFNwYW4iLCJ0b3RhbFZpc2libGVIZWFkZXJDb3VudCIsImRlZmF1bHRHZXRGb290ZXJQcm9wcyIsImRlZmF1bHRHZXRIZWFkZXJHcm91cFByb3BzIiwiZGVmYXVsdEdldEZvb3Rlckdyb3VwUHJvcHMiLCJkZWZhdWx0R2V0Um93UHJvcHMiLCJkZWZhdWx0R2V0Q2VsbFByb3BzIiwibWFrZURlZmF1bHRQbHVnaW5Ib29rcyIsInVzZU9wdGlvbnMiLCJzdGF0ZVJlZHVjZXJzIiwidXNlQ29udHJvbGxlZFN0YXRlIiwiY29sdW1uc0RlcHMiLCJmbGF0Q29sdW1uc0RlcHMiLCJoZWFkZXJHcm91cHNEZXBzIiwidXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zIiwidXNlSW5zdGFuY2UiLCJ1c2VSb3dzIiwiY2VsbHMiLCJwcmVwYXJlUm93IiwiZ2V0VGFibGVQcm9wcyIsImdldFRhYmxlQm9keVByb3BzIiwiZ2V0SGVhZGVyR3JvdXBQcm9wcyIsImdldEZvb3Rlckdyb3VwUHJvcHMiLCJnZXRIZWFkZXJQcm9wcyIsImdldEZvb3RlclByb3BzIiwiZ2V0Um93UHJvcHMiLCJnZXRDZWxsUHJvcHMiLCJ1c2VGaW5hbEluc3RhbmNlIiwidXNlQ29sdW1uVmlzaWJpbGl0eSIsImRlZmF1bHRHZXRUb2dnbGVIaWRkZW5Qcm9wcyIsIm9uQ2hhbmdlIiwidGl0bGUiLCJkZWZhdWx0R2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wcyIsImluZGV0ZXJtaW5hdGUiLCJoaWRkZW5Db2x1bW5zIiwic3ViSGVhZGVyIiwiaGFuZGxlQ29sdW1uIiwicGFyZW50VmlzaWJsZSIsInN1YkNvbHVtbiIsImZsYXRIZWFkZXJzIiwiZGlzcGF0Y2giLCJnZXRJbnN0YW5jZSIsImFsbENvbHVtbnNIaWRkZW4iLCJ0b2dnbGVIaWRlQ29sdW1uIiwiY29sdW1uSWQiLCJzZXRIaWRkZW5Db2x1bW5zIiwidG9nZ2xlSGlkZUFsbENvbHVtbnMiLCJnZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzSG9va3MiLCJnZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzIiwiZ2V0VG9nZ2xlSGlkZGVuUHJvcHNIb29rcyIsImRlZmF1bHRJbml0aWFsU3RhdGUiLCJkZWZhdWx0Q29sdW1uSW5zdGFuY2UiLCJkZWZhdWx0UmVkdWNlciIsInByZXZTdGF0ZSIsImRlZmF1bHRHZXRTdWJSb3dzIiwiZGVmYXVsdEdldFJvd0lkIiwiZGVmYXVsdFVzZUNvbnRyb2xsZWRTdGF0ZSIsImFwcGx5RGVmYXVsdHMiLCJnZXRTdWJSb3dzIiwiZ2V0Um93SWQiLCJzdGF0ZVJlZHVjZXIiLCJ1c2VUYWJsZSIsImluc3RhbmNlUmVmIiwiZ2V0VXNlT3B0aW9uc0hvb2tzIiwidXNlckNvbHVtbnMiLCJnZXRTdGF0ZVJlZHVjZXJzIiwiZ2V0U3RhdGVSZWR1Y2VyIiwiaGFuZGxlciIsInJlZHVjZXJTdGF0ZSIsImdldFVzZUNvbnRyb2xsZWRTdGF0ZUhvb2tzIiwiZ2V0Q29sdW1uc0hvb2tzIiwiZ2V0Q29sdW1uc0RlcHNIb29rcyIsImZsYXRSb3dzIiwiYWNjZXNzUm93Iiwib3JpZ2luYWxSb3ciLCJvcmlnaW5hbCIsInN1YlJvd3MiLCJ1bnByZXBhcmVkQWNjZXNzV2FybmluZyIsImZsYXRDb2x1bW5zSG9va3MiLCJmbGF0Q29sdW1uc0RlcHNIb29rcyIsImdldEhlYWRlckdyb3VwcyIsImdldEhlYWRlckdyb3Vwc0RlcHMiLCJnZXRVc2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMiLCJjYWxjdWxhdGVIZWFkZXJXaWR0aHMiLCJ0b3RhbENvbHVtbnNNaW5XaWR0aCIsInRvdGFsQ29sdW1uc1dpZHRoIiwidG90YWxDb2x1bW5zTWF4V2lkdGgiLCJnZXRVc2VJbnN0YW5jZSIsImdldEhlYWRlclByb3BzSG9va3MiLCJnZXRGb290ZXJQcm9wc0hvb2tzIiwiZ2V0SGVhZGVyR3JvdXBQcm9wc0hvb2tzIiwiZ2V0Rm9vdGVyR3JvdXBQcm9wc0hvb2tzIiwiZ2V0VXNlUm93c0hvb2tzIiwiZ2V0UHJlcGFyZVJvd0hvb2tzIiwiZ2V0Um93UHJvcHNIb29rcyIsImdldENlbGxQcm9wc0hvb2tzIiwiY2VsbHNIb29rcyIsImdldFRhYmxlUHJvcHNIb29rcyIsImdldFRhYmxlQm9keVByb3BzSG9va3MiLCJnZXRVc2VGaW5hbEluc3RhbmNlSG9va3MiLCJsZWZ0Iiwic3VtVG90YWxNaW5XaWR0aCIsInN1bVRvdGFsV2lkdGgiLCJzdW1Ub3RhbE1heFdpZHRoIiwic3ViSGVhZGVycyIsInRvdGFsTWluV2lkdGgiLCJ0b3RhbFdpZHRoIiwidG90YWxNYXhXaWR0aCIsInRleHQiLCJpZHMiLCJmaWx0ZXJWYWx1ZSIsInJvd1ZhbHVlIiwiZXhhY3RUZXh0IiwiZXhhY3RUZXh0Q2FzZSIsImluY2x1ZGVzQWxsIiwiZXhhY3QiLCJlcXVhbHMiLCJiZXR3ZWVuIiwidGVtcCIsInVzZVBhZ2luYXRpb24iLCJwYWdlU2l6ZSIsInBhZ2VJbmRleCIsInBhZ2VDb3VudCIsIm5ld1BhZ2VJbmRleCIsInRvcFJvd0luZGV4IiwiYXV0b1Jlc2V0UGFnZSIsInVzZXJQYWdlQ291bnQiLCJwYWdpbmF0ZUV4cGFuZGVkUm93cyIsImZpbHRlcnMiLCJncm91cEJ5Iiwic29ydEJ5IiwibWFudWFsUGFnaW5hdGlvbiIsIm1hbnVhbEZpbHRlcnMiLCJtYW51YWxHcm91cEJ5IiwibWFudWFsU29ydEJ5IiwiZ2V0QXV0b1Jlc2V0UGFnZSIsInJlc2V0UGFnZSIsInBhZ2VPcHRpb25zIiwicGFnZSIsInBhZ2VTdGFydCIsInBhZ2VFbmQiLCJjYW5QcmV2aW91c1BhZ2UiLCJjYW5OZXh0UGFnZSIsImdvdG9QYWdlIiwicHJldmlvdXNQYWdlIiwibmV4dFBhZ2UiLCJzZXRQYWdlU2l6ZSIsImNlbGxTdHlsZXMiLCJwb3NpdGlvbiIsInRvcCIsInVzZUFic29sdXRlTGF5b3V0IiwiZ2V0Um93U3R5bGVzIiwiZHVtbXlDb2x1bW5zIiwiZmlsbCIsIml0ZW0iLCJkdW1teURhdGEiLCJUYWJsZSIsImxvYWRpbmciLCJjb250cm9sbGVkUGFnZUNvdW50IiwiY29tcG9uZW50UmVmIiwiU3R5bGVzIiwib25DbGljayIsInZhbHVlcyIsInJlZ2lzdGVyIiwiZGF0YVN0YXRlIiwic2V0RGF0YSIsImNvbHVtbnNTdGF0ZSIsInNldENvbHVtbnMiLCJzZXRMb2FkaW5nIiwicnVuIiwicGFyc2VkRGF0YSIsInBhcnNlZENvbHVtbnMiLCJwYXJzZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJ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K1csTUFBTW1CLE9BQU9pQixRQUc1QixTQUFDblosR0FBRCxPQUFXQSxFQUFNK1csTUFBTW1CLE9BQU9pQixRQVduQixTQUFDblosR0FBRCxPQUFXQSxFQUFNK1csTUFBTW1CLE9BQU9PLFFBR3pDLFNBQUN6WSxHQUFELE9BQVdBLEVBQU0rVyxNQUFNbUIsT0FBT2tCLFFBd0JwRHlTLEtBM0p1RSxTQUFDLEdBQXNCLElBQXBCeGlCLEVBQW9CLEVBQXBCQSxLQUFNb1csRUFBYyxFQUFkQSxRQUFjLEVBQzdEL1MsWUFBUzJlLElBQS9CUyxFQURtRixLQUN4RUMsRUFEd0UsT0FFdkRyZixZQUFTd2UsSUFBckNjLEVBRm1GLEtBRXJFQyxFQUZxRSxPQUc1RHZmLGFBQVMsR0FBaEM2ZSxFQUhtRixLQUcxRVcsRUFIMEUsT0FJeER4ZixZQUFTLEdBQXBDMGMsRUFKbUYsS0FPcEYrQyxHQVBvRixLQU85RWxlLGFBQVksWUFBbUMsSUFBaENtZSxFQUFnQyxFQUFoQ0EsV0FBWUMsRUFBb0IsRUFBcEJBLGNBQ25DTixFQUFRSyxHQUNSSCxFQUFXSSxHQUNYSCxHQUFXLEtBQ1osQ0FBQ0osRUFBV0UsRUFBY1QsS0FZN0IsT0FUQW5lLGFBQVUsV0FDTixHQUFJL0QsR0FBUW9XLEVBQVMsQ0FDakIsSUFBTTJNLEVBQXlCL1YsS0FBS2lXLE1BQU1qakIsR0FDcENnakIsRUFBNEJoVyxLQUFLaVcsTUFBTTdNLEdBQzdDME0sRUFBSSxDQUFFQyxhQUFZQyxxQkFFdkIsQ0FBQ2hqQixFQUFNb1csSUFJUixZQUFDMUYsR0FBQSxFQUFELHVDQUNFLFlBQUN1UixHQUFELENBQ0U3TCxRQUFTdU0sRUFDVDNpQixLQUFNeWlCLEVBQ05QLFFBQVNBLEVBQ1RuQyxVQUFXQSxFQUpiLDBDQWtJWSxVQUFXLENBQUMsVUFBVyIsImZpbGUiOiJUYWJsZS9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxOCk7XG4iLCJleHBvcnQgY29uc3QgRU1QVFlfT0JKID0ge307XG5leHBvcnQgY29uc3QgRU1QVFlfQVJSID0gW107XG5leHBvcnQgY29uc3QgSVNfTk9OX0RJTUVOU0lPTkFMID0gL2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmQvaTtcbiIsImltcG9ydCB7IF9jYXRjaEVycm9yIH0gZnJvbSAnLi9kaWZmL2NhdGNoLWVycm9yJztcblxuLyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5PcHRpb25zfSAgKi9cbmNvbnN0IG9wdGlvbnMgPSB7XG5cdF9jYXRjaEVycm9yXG59O1xuXG5leHBvcnQgZGVmYXVsdCBvcHRpb25zO1xuIiwiaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcblxuLyoqXG4gKiBDcmVhdGUgYW4gdmlydHVhbCBub2RlICh1c2VkIGZvciBKU1gpXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlW1widHlwZVwiXX0gdHlwZSBUaGUgbm9kZSBuYW1lIG9yIENvbXBvbmVudFxuICogY29uc3RydWN0b3IgZm9yIHRoaXMgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge29iamVjdCB8IG51bGwgfCB1bmRlZmluZWR9IFtwcm9wc10gVGhlIHByb3BlcnRpZXMgb2YgdGhlIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4nKS5Db21wb25lbnRDaGlsZHJlbj59IFtjaGlsZHJlbl0gVGhlIGNoaWxkcmVuIG9mIHRoZSB2aXJ0dWFsIG5vZGVcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodHlwZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG5cdGxldCBub3JtYWxpemVkUHJvcHMgPSB7fSxcblx0XHRpO1xuXHRmb3IgKGkgaW4gcHJvcHMpIHtcblx0XHRpZiAoaSAhPT0gJ2tleScgJiYgaSAhPT0gJ3JlZicpIG5vcm1hbGl6ZWRQcm9wc1tpXSA9IHByb3BzW2ldO1xuXHR9XG5cblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAzKSB7XG5cdFx0Y2hpbGRyZW4gPSBbY2hpbGRyZW5dO1xuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wcmVhY3Rqcy9wcmVhY3QvaXNzdWVzLzE5MTZcblx0XHRmb3IgKGkgPSAzOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjaGlsZHJlbi5wdXNoKGFyZ3VtZW50c1tpXSk7XG5cdFx0fVxuXHR9XG5cdGlmIChjaGlsZHJlbiAhPSBudWxsKSB7XG5cdFx0bm9ybWFsaXplZFByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG5cdH1cblxuXHQvLyBJZiBhIENvbXBvbmVudCBWTm9kZSwgY2hlY2sgZm9yIGFuZCBhcHBseSBkZWZhdWx0UHJvcHNcblx0Ly8gTm90ZTogdHlwZSBtYXkgYmUgdW5kZWZpbmVkIGluIGRldmVsb3BtZW50LCBtdXN0IG5ldmVyIGVycm9yIGhlcmUuXG5cdGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlLmRlZmF1bHRQcm9wcyAhPSBudWxsKSB7XG5cdFx0Zm9yIChpIGluIHR5cGUuZGVmYXVsdFByb3BzKSB7XG5cdFx0XHRpZiAobm9ybWFsaXplZFByb3BzW2ldID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bm9ybWFsaXplZFByb3BzW2ldID0gdHlwZS5kZWZhdWx0UHJvcHNbaV07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNyZWF0ZVZOb2RlKFxuXHRcdHR5cGUsXG5cdFx0bm9ybWFsaXplZFByb3BzLFxuXHRcdHByb3BzICYmIHByb3BzLmtleSxcblx0XHRwcm9wcyAmJiBwcm9wcy5yZWZcblx0KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBWTm9kZSAodXNlZCBpbnRlcm5hbGx5IGJ5IFByZWFjdClcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGVbXCJ0eXBlXCJdfSB0eXBlIFRoZSBub2RlIG5hbWUgb3IgQ29tcG9uZW50XG4gKiBDb25zdHJ1Y3RvciBmb3IgdGhpcyB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0IHwgc3RyaW5nIHwgbnVtYmVyIHwgbnVsbH0gcHJvcHMgVGhlIHByb3BlcnRpZXMgb2YgdGhpcyB2aXJ0dWFsIG5vZGUuXG4gKiBJZiB0aGlzIHZpcnR1YWwgbm9kZSByZXByZXNlbnRzIGEgdGV4dCBub2RlLCB0aGlzIGlzIHRoZSB0ZXh0IG9mIHRoZSBub2RlIChzdHJpbmcgb3IgbnVtYmVyKS5cbiAqIEBwYXJhbSB7c3RyaW5nIHwgbnVtYmVyIHwgbnVsbH0ga2V5IFRoZSBrZXkgZm9yIHRoaXMgdmlydHVhbCBub2RlLCB1c2VkIHdoZW5cbiAqIGRpZmZpbmcgaXQgYWdhaW5zdCBpdHMgY2hpbGRyZW5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGVbXCJyZWZcIl19IHJlZiBUaGUgcmVmIHByb3BlcnR5IHRoYXQgd2lsbFxuICogcmVjZWl2ZSBhIHJlZmVyZW5jZSB0byBpdHMgY3JlYXRlZCBjaGlsZFxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMsIGtleSwgcmVmKSB7XG5cdC8vIFY4IHNlZW1zIHRvIGJlIGJldHRlciBhdCBkZXRlY3RpbmcgdHlwZSBzaGFwZXMgaWYgdGhlIG9iamVjdCBpcyBhbGxvY2F0ZWQgZnJvbSB0aGUgc2FtZSBjYWxsIHNpdGVcblx0Ly8gRG8gbm90IGlubGluZSBpbnRvIGNyZWF0ZUVsZW1lbnQgYW5kIGNvZXJjZVRvVk5vZGUhXG5cdGNvbnN0IHZub2RlID0ge1xuXHRcdHR5cGUsXG5cdFx0cHJvcHMsXG5cdFx0a2V5LFxuXHRcdHJlZixcblx0XHRfY2hpbGRyZW46IG51bGwsXG5cdFx0X3BhcmVudDogbnVsbCxcblx0XHRfZGVwdGg6IDAsXG5cdFx0X2RvbTogbnVsbCxcblx0XHRfbGFzdERvbUNoaWxkOiBudWxsLFxuXHRcdF9jb21wb25lbnQ6IG51bGwsXG5cdFx0Y29uc3RydWN0b3I6IHVuZGVmaW5lZFxuXHR9O1xuXG5cdGlmIChvcHRpb25zLnZub2RlKSBvcHRpb25zLnZub2RlKHZub2RlKTtcblxuXHRyZXR1cm4gdm5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWYoKSB7XG5cdHJldHVybiB7fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEZyYWdtZW50KHByb3BzKSB7XG5cdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHRoZSBhcmd1bWVudCBpcyBhIHZhbGlkIFByZWFjdCBWTm9kZS5cbiAqIEBwYXJhbSB7Kn0gdm5vZGVcbiAqIEByZXR1cm5zIHt2bm9kZSBpcyBpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGlzVmFsaWRFbGVtZW50ID0gdm5vZGUgPT5cblx0dm5vZGUgIT0gbnVsbCAmJiB2bm9kZS5jb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkO1xuIiwiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGRpZmYsIGNvbW1pdFJvb3QgfSBmcm9tICcuL2RpZmYvaW5kZXgnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAnLi9jcmVhdGUtZWxlbWVudCc7XG5cbi8qKlxuICogQmFzZSBDb21wb25lbnQgY2xhc3MuIFByb3ZpZGVzIGBzZXRTdGF0ZSgpYCBhbmQgYGZvcmNlVXBkYXRlKClgLCB3aGljaFxuICogdHJpZ2dlciByZW5kZXJpbmdcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBUaGUgaW5pdGlhbCBjb21wb25lbnQgcHJvcHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IFRoZSBpbml0aWFsIGNvbnRleHQgZnJvbSBwYXJlbnQgY29tcG9uZW50cydcbiAqIGdldENoaWxkQ29udGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KSB7XG5cdHRoaXMucHJvcHMgPSBwcm9wcztcblx0dGhpcy5jb250ZXh0ID0gY29udGV4dDtcbn1cblxuLyoqXG4gKiBVcGRhdGUgY29tcG9uZW50IHN0YXRlIGFuZCBzY2hlZHVsZSBhIHJlLXJlbmRlci5cbiAqIEBwYXJhbSB7b2JqZWN0IHwgKChzOiBvYmplY3QsIHA6IG9iamVjdCkgPT4gb2JqZWN0KX0gdXBkYXRlIEEgaGFzaCBvZiBzdGF0ZVxuICogcHJvcGVydGllcyB0byB1cGRhdGUgd2l0aCBuZXcgdmFsdWVzIG9yIGEgZnVuY3Rpb24gdGhhdCBnaXZlbiB0aGUgY3VycmVudFxuICogc3RhdGUgYW5kIHByb3BzIHJldHVybnMgYSBuZXcgcGFydGlhbCBzdGF0ZVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uY2UgY29tcG9uZW50IHN0YXRlIGlzXG4gKiB1cGRhdGVkXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbih1cGRhdGUsIGNhbGxiYWNrKSB7XG5cdC8vIG9ubHkgY2xvbmUgc3RhdGUgd2hlbiBjb3B5aW5nIHRvIG5leHRTdGF0ZSB0aGUgZmlyc3QgdGltZS5cblx0bGV0IHM7XG5cdGlmICh0aGlzLl9uZXh0U3RhdGUgIT09IHRoaXMuc3RhdGUpIHtcblx0XHRzID0gdGhpcy5fbmV4dFN0YXRlO1xuXHR9IGVsc2Uge1xuXHRcdHMgPSB0aGlzLl9uZXh0U3RhdGUgPSBhc3NpZ24oe30sIHRoaXMuc3RhdGUpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiB1cGRhdGUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZShzLCB0aGlzLnByb3BzKTtcblx0fVxuXG5cdGlmICh1cGRhdGUpIHtcblx0XHRhc3NpZ24ocywgdXBkYXRlKTtcblx0fVxuXG5cdC8vIFNraXAgdXBkYXRlIGlmIHVwZGF0ZXIgZnVuY3Rpb24gcmV0dXJuZWQgbnVsbFxuXHRpZiAodXBkYXRlID09IG51bGwpIHJldHVybjtcblxuXHRpZiAodGhpcy5fdm5vZGUpIHtcblx0XHR0aGlzLl9mb3JjZSA9IGZhbHNlO1xuXHRcdGlmIChjYWxsYmFjaykgdGhpcy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXHRcdGVucXVldWVSZW5kZXIodGhpcyk7XG5cdH1cbn07XG5cbi8qKlxuICogSW1tZWRpYXRlbHkgcGVyZm9ybSBhIHN5bmNocm9ub3VzIHJlLXJlbmRlciBvZiB0aGUgY29tcG9uZW50XG4gKiBAcGFyYW0geygpID0+IHZvaWR9IFtjYWxsYmFja10gQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgYWZ0ZXIgY29tcG9uZW50IGlzXG4gKiByZS1yZW5kZXJlZFxuICovXG5Db21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0aWYgKHRoaXMuX3Zub2RlKSB7XG5cdFx0Ly8gU2V0IHJlbmRlciBtb2RlIHNvIHRoYXQgd2UgY2FuIGRpZmZlcmVudGlhdGUgd2hlcmUgdGhlIHJlbmRlciByZXF1ZXN0XG5cdFx0Ly8gaXMgY29taW5nIGZyb20uIFdlIG5lZWQgdGhpcyBiZWNhdXNlIGZvcmNlVXBkYXRlIHNob3VsZCBuZXZlciBjYWxsXG5cdFx0Ly8gc2hvdWxkQ29tcG9uZW50VXBkYXRlXG5cdFx0dGhpcy5fZm9yY2UgPSB0cnVlO1xuXHRcdGlmIChjYWxsYmFjaykgdGhpcy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXHRcdGVucXVldWVSZW5kZXIodGhpcyk7XG5cdH1cbn07XG5cbi8qKlxuICogQWNjZXB0cyBgcHJvcHNgIGFuZCBgc3RhdGVgLCBhbmQgcmV0dXJucyBhIG5ldyBWaXJ0dWFsIERPTSB0cmVlIHRvIGJ1aWxkLlxuICogVmlydHVhbCBET00gaXMgZ2VuZXJhbGx5IGNvbnN0cnVjdGVkIHZpYSBbSlNYXShodHRwOi8vamFzb25mb3JtYXQuY29tL3d0Zi1pcy1qc3gpLlxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIFByb3BzIChlZzogSlNYIGF0dHJpYnV0ZXMpIHJlY2VpdmVkIGZyb20gcGFyZW50XG4gKiBlbGVtZW50L2NvbXBvbmVudFxuICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIFRoZSBjb21wb25lbnQncyBjdXJyZW50IHN0YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBDb250ZXh0IG9iamVjdCwgYXMgcmV0dXJuZWQgYnkgdGhlIG5lYXJlc3RcbiAqIGFuY2VzdG9yJ3MgYGdldENoaWxkQ29udGV4dCgpYFxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbmRleCcpLkNvbXBvbmVudENoaWxkcmVuIHwgdm9pZH1cbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPSBGcmFnbWVudDtcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZVxuICogQHBhcmFtIHtudW1iZXIgfCBudWxsfSBbY2hpbGRJbmRleF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERvbVNpYmxpbmcodm5vZGUsIGNoaWxkSW5kZXgpIHtcblx0aWYgKGNoaWxkSW5kZXggPT0gbnVsbCkge1xuXHRcdC8vIFVzZSBjaGlsZEluZGV4PT1udWxsIGFzIGEgc2lnbmFsIHRvIHJlc3VtZSB0aGUgc2VhcmNoIGZyb20gdGhlIHZub2RlJ3Mgc2libGluZ1xuXHRcdHJldHVybiB2bm9kZS5fcGFyZW50XG5cdFx0XHQ/IGdldERvbVNpYmxpbmcodm5vZGUuX3BhcmVudCwgdm5vZGUuX3BhcmVudC5fY2hpbGRyZW4uaW5kZXhPZih2bm9kZSkgKyAxKVxuXHRcdFx0OiBudWxsO1xuXHR9XG5cblx0bGV0IHNpYmxpbmc7XG5cdGZvciAoOyBjaGlsZEluZGV4IDwgdm5vZGUuX2NoaWxkcmVuLmxlbmd0aDsgY2hpbGRJbmRleCsrKSB7XG5cdFx0c2libGluZyA9IHZub2RlLl9jaGlsZHJlbltjaGlsZEluZGV4XTtcblxuXHRcdGlmIChzaWJsaW5nICE9IG51bGwgJiYgc2libGluZy5fZG9tICE9IG51bGwpIHtcblx0XHRcdC8vIFNpbmNlIHVwZGF0ZVBhcmVudERvbVBvaW50ZXJzIGtlZXBzIF9kb20gcG9pbnRlciBjb3JyZWN0LFxuXHRcdFx0Ly8gd2UgY2FuIHJlbHkgb24gX2RvbSB0byB0ZWxsIHVzIGlmIHRoaXMgc3VidHJlZSBjb250YWlucyBhXG5cdFx0XHQvLyByZW5kZXJlZCBET00gbm9kZSwgYW5kIHdoYXQgdGhlIGZpcnN0IHJlbmRlcmVkIERPTSBub2RlIGlzXG5cdFx0XHRyZXR1cm4gc2libGluZy5fZG9tO1xuXHRcdH1cblx0fVxuXG5cdC8vIElmIHdlIGdldCBoZXJlLCB3ZSBoYXZlIG5vdCBmb3VuZCBhIERPTSBub2RlIGluIHRoaXMgdm5vZGUncyBjaGlsZHJlbi5cblx0Ly8gV2UgbXVzdCByZXN1bWUgZnJvbSB0aGlzIHZub2RlJ3Mgc2libGluZyAoaW4gaXQncyBwYXJlbnQgX2NoaWxkcmVuIGFycmF5KVxuXHQvLyBPbmx5IGNsaW1iIHVwIGFuZCBzZWFyY2ggdGhlIHBhcmVudCBpZiB3ZSBhcmVuJ3Qgc2VhcmNoaW5nIHRocm91Z2ggYSBET01cblx0Ly8gVk5vZGUgKG1lYW5pbmcgd2UgcmVhY2hlZCB0aGUgRE9NIHBhcmVudCBvZiB0aGUgb3JpZ2luYWwgdm5vZGUgdGhhdCBiZWdhblxuXHQvLyB0aGUgc2VhcmNoKVxuXHRyZXR1cm4gdHlwZW9mIHZub2RlLnR5cGUgPT09ICdmdW5jdGlvbicgPyBnZXREb21TaWJsaW5nKHZub2RlKSA6IG51bGw7XG59XG5cbi8qKlxuICogVHJpZ2dlciBpbi1wbGFjZSByZS1yZW5kZXJpbmcgb2YgYSBjb21wb25lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gY29tcG9uZW50IFRoZSBjb21wb25lbnQgdG8gcmVyZW5kZXJcbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRsZXQgdm5vZGUgPSBjb21wb25lbnQuX3Zub2RlLFxuXHRcdG9sZERvbSA9IHZub2RlLl9kb20sXG5cdFx0cGFyZW50RG9tID0gY29tcG9uZW50Ll9wYXJlbnREb207XG5cblx0aWYgKHBhcmVudERvbSkge1xuXHRcdGxldCBjb21taXRRdWV1ZSA9IFtdO1xuXHRcdGxldCBuZXdEb20gPSBkaWZmKFxuXHRcdFx0cGFyZW50RG9tLFxuXHRcdFx0dm5vZGUsXG5cdFx0XHRhc3NpZ24oe30sIHZub2RlKSxcblx0XHRcdGNvbXBvbmVudC5fY29udGV4dCxcblx0XHRcdHBhcmVudERvbS5vd25lclNWR0VsZW1lbnQgIT09IHVuZGVmaW5lZCxcblx0XHRcdG51bGwsXG5cdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdG9sZERvbSA9PSBudWxsID8gZ2V0RG9tU2libGluZyh2bm9kZSkgOiBvbGREb21cblx0XHQpO1xuXHRcdGNvbW1pdFJvb3QoY29tbWl0UXVldWUsIHZub2RlKTtcblxuXHRcdGlmIChuZXdEb20gIT0gb2xkRG9tKSB7XG5cdFx0XHR1cGRhdGVQYXJlbnREb21Qb2ludGVycyh2bm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqL1xuZnVuY3Rpb24gdXBkYXRlUGFyZW50RG9tUG9pbnRlcnModm5vZGUpIHtcblx0aWYgKCh2bm9kZSA9IHZub2RlLl9wYXJlbnQpICE9IG51bGwgJiYgdm5vZGUuX2NvbXBvbmVudCAhPSBudWxsKSB7XG5cdFx0dm5vZGUuX2RvbSA9IHZub2RlLl9jb21wb25lbnQuYmFzZSA9IG51bGw7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB2bm9kZS5fY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBjaGlsZCA9IHZub2RlLl9jaGlsZHJlbltpXTtcblx0XHRcdGlmIChjaGlsZCAhPSBudWxsICYmIGNoaWxkLl9kb20gIT0gbnVsbCkge1xuXHRcdFx0XHR2bm9kZS5fZG9tID0gdm5vZGUuX2NvbXBvbmVudC5iYXNlID0gY2hpbGQuX2RvbTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVwZGF0ZVBhcmVudERvbVBvaW50ZXJzKHZub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSByZW5kZXIgcXVldWVcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fVxuICovXG5sZXQgcSA9IFtdO1xuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHNjaGVkdWxlIGEgY2FsbGJhY2tcbiAqIEB0eXBlIHsoY2I6ICgpID0+IHZvaWQpID0+IHZvaWR9XG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vLyBOb3RlIHRoZSBmb2xsb3dpbmcgbGluZSBpc24ndCB0cmVlLXNoYWtlbiBieSByb2xsdXAgY3V6IG9mIHJvbGx1cC9yb2xsdXAjMjU2NlxuY29uc3QgZGVmZXIgPVxuXHR0eXBlb2YgUHJvbWlzZSA9PSAnZnVuY3Rpb24nXG5cdFx0PyBQcm9taXNlLnByb3RvdHlwZS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpXG5cdFx0OiBzZXRUaW1lb3V0O1xuXG4vKlxuICogVGhlIHZhbHVlIG9mIGBDb21wb25lbnQuZGVib3VuY2VgIG11c3QgYXN5bmNocm9ub3VzbHkgaW52b2tlIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2suIEl0IGlzXG4gKiBpbXBvcnRhbnQgdGhhdCBjb250cmlidXRvcnMgdG8gUHJlYWN0IGNhbiBjb25zaXN0ZW50bHkgcmVhc29uIGFib3V0IHdoYXQgY2FsbHMgdG8gYHNldFN0YXRlYCwgZXRjLlxuICogZG8sIGFuZCB3aGVuIHRoZWlyIGVmZmVjdHMgd2lsbCBiZSBhcHBsaWVkLiBTZWUgdGhlIGxpbmtzIGJlbG93IGZvciBzb21lIGZ1cnRoZXIgcmVhZGluZyBvbiBkZXNpZ25pbmdcbiAqIGFzeW5jaHJvbm91cyBBUElzLlxuICogKiBbRGVzaWduaW5nIEFQSXMgZm9yIEFzeW5jaHJvbnldKGh0dHBzOi8vYmxvZy5penMubWUvMjAxMy8wOC9kZXNpZ25pbmctYXBpcy1mb3ItYXN5bmNocm9ueSlcbiAqICogW0NhbGxiYWNrcyBzeW5jaHJvbm91cyBhbmQgYXN5bmNocm9ub3VzXShodHRwczovL2Jsb2cub21ldGVyLmNvbS8yMDExLzA3LzI0L2NhbGxiYWNrcy1zeW5jaHJvbm91cy1hbmQtYXN5bmNocm9ub3VzLylcbiAqL1xuXG5sZXQgcHJldkRlYm91bmNlO1xuXG4vKipcbiAqIEVucXVldWUgYSByZXJlbmRlciBvZiBhIGNvbXBvbmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9IGMgVGhlIGNvbXBvbmVudCB0byByZXJlbmRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5xdWV1ZVJlbmRlcihjKSB7XG5cdGlmIChcblx0XHQoIWMuX2RpcnR5ICYmIChjLl9kaXJ0eSA9IHRydWUpICYmIHEucHVzaChjKSA9PT0gMSkgfHxcblx0XHRwcmV2RGVib3VuY2UgIT09IG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmdcblx0KSB7XG5cdFx0cHJldkRlYm91bmNlID0gb3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZztcblx0XHQocHJldkRlYm91bmNlIHx8IGRlZmVyKShwcm9jZXNzKTtcblx0fVxufVxuXG4vKiogRmx1c2ggdGhlIHJlbmRlciBxdWV1ZSBieSByZXJlbmRlcmluZyBhbGwgcXVldWVkIGNvbXBvbmVudHMgKi9cbmZ1bmN0aW9uIHByb2Nlc3MoKSB7XG5cdGxldCBwO1xuXHRxLnNvcnQoKGEsIGIpID0+IGIuX3Zub2RlLl9kZXB0aCAtIGEuX3Zub2RlLl9kZXB0aCk7XG5cdHdoaWxlICgocCA9IHEucG9wKCkpKSB7XG5cdFx0Ly8gZm9yY2VVcGRhdGUncyBjYWxsYmFjayBhcmd1bWVudCBpcyByZXVzZWQgaGVyZSB0byBpbmRpY2F0ZSBhIG5vbi1mb3JjZWQgdXBkYXRlLlxuXHRcdGlmIChwLl9kaXJ0eSkgcmVuZGVyQ29tcG9uZW50KHApO1xuXHR9XG59XG4iLCJpbXBvcnQge1xuXHRyZW5kZXIgYXMgcHJlYWN0UmVuZGVyLFxuXHRvcHRpb25zLFxuXHR0b0NoaWxkQXJyYXksXG5cdENvbXBvbmVudFxufSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgYXBwbHlFdmVudE5vcm1hbGl6YXRpb24gfSBmcm9tICcuL2V2ZW50cyc7XG5cbmNvbnN0IENBTUVMX1BST1BTID0gL14oPzphY2NlbnR8YWxpZ25tZW50fGFyYWJpY3xiYXNlbGluZXxjYXB8Y2xpcHxjb2xvcnxmaWxsfGZsb29kfGZvbnR8Z2x5cGh8aG9yaXp8bWFya2VyfG92ZXJsaW5lfHBhaW50fHN0b3B8c3RyaWtldGhyb3VnaHxzdHJva2V8dGV4dHx1bmRlcmxpbmV8dW5pY29kZXx1bml0c3x2fHZlY3Rvcnx2ZXJ0fHdvcmR8d3JpdGluZ3x4KVtBLVpdLztcblxuLy8gU29tZSBsaWJyYXJpZXMgbGlrZSBgcmVhY3QtdmlydHVhbGl6ZWRgIGV4cGxpY2l0bHkgY2hlY2sgZm9yIHRoaXMuXG5Db21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBSRUFDVF9FTEVNRU5UX1RZUEUgPVxuXHQodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0XHRTeW1ib2wuZm9yICYmXG5cdFx0U3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuXHQweGVhYzc7XG5cbi8qKlxuICogUHJveHkgcmVuZGVyKCkgc2luY2UgUmVhY3QgcmV0dXJucyBhIENvbXBvbmVudCByZWZlcmVuY2UuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBWTm9kZSB0cmVlIHRvIHJlbmRlclxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBwYXJlbnQgRE9NIG5vZGUgdG8gcmVuZGVyIHZub2RlIHRyZWUgaW50b1xuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIE9wdGlvbmFsIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgcmVuZGVyaW5nXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50IHwgbnVsbH0gVGhlIHJvb3QgY29tcG9uZW50IHJlZmVyZW5jZSBvciBudWxsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgY2FsbGJhY2spIHtcblx0Ly8gUmVhY3QgZGVzdHJveXMgYW55IGV4aXN0aW5nIERPTSBub2Rlcywgc2VlICMxNzI3XG5cdC8vIC4uLmJ1dCBvbmx5IG9uIHRoZSBmaXJzdCByZW5kZXIsIHNlZSAjMTgyOFxuXHRpZiAocGFyZW50Ll9jaGlsZHJlbiA9PSBudWxsKSB7XG5cdFx0d2hpbGUgKHBhcmVudC5maXJzdENoaWxkKSB7XG5cdFx0XHRwYXJlbnQucmVtb3ZlQ2hpbGQocGFyZW50LmZpcnN0Q2hpbGQpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBoeWRyYXRlKHZub2RlLCBwYXJlbnQsIGNhbGxiYWNrKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUodm5vZGUsIHBhcmVudCwgY2FsbGJhY2spIHtcblx0cHJlYWN0UmVuZGVyKHZub2RlLCBwYXJlbnQpO1xuXHRpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuXG5cdHJldHVybiB2bm9kZSA/IHZub2RlLl9jb21wb25lbnQgOiBudWxsO1xufVxuXG5sZXQgb2xkRXZlbnRIb29rID0gb3B0aW9ucy5ldmVudDtcbm9wdGlvbnMuZXZlbnQgPSBlID0+IHtcblx0aWYgKG9sZEV2ZW50SG9vaykgZSA9IG9sZEV2ZW50SG9vayhlKTtcblx0ZS5wZXJzaXN0ID0gKCkgPT4ge307XG5cdHJldHVybiAoZS5uYXRpdmVFdmVudCA9IGUpO1xufTtcblxuLy8gUGF0Y2ggaW4gYFVOU0FGRV8qYCBsaWZlY3ljbGUgaG9va3NcbmZ1bmN0aW9uIHNldFNhZmVEZXNjcmlwdG9yKHByb3RvLCBrZXkpIHtcblx0aWYgKHByb3RvWydVTlNBRkVfJyArIGtleV0gJiYgIXByb3RvW2tleV0pIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIGtleSwge1xuXHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcblx0XHRcdGdldCgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXNbJ1VOU0FGRV8nICsga2V5XTtcblx0XHRcdH0sXG5cdFx0XHQvLyBUaGlzIGBzZXRgIGlzIG9ubHkgdXNlZCBpZiBhIHVzZXIgc2V0cyBhIGxpZmVjeWNsZSBsaWtlIGNXVVxuXHRcdFx0Ly8gYWZ0ZXIgc2V0dGluZyBhIGxpZmVjeWNsZSBsaWtlIFVOU0FGRV9jV1UuIEkgZG91YnQgYW55b25lXG5cdFx0XHQvLyBhY3R1YWxseSBkb2VzIHRoaXMgaW4gcHJhY3RpY2Ugc28gbm90IHRlc3RpbmcgaXRcblx0XHRcdC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5cdFx0XHRzZXQodikge1xuXHRcdFx0XHR0aGlzWydVTlNBRkVfJyArIGtleV0gPSB2O1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG59XG5cbmxldCBjbGFzc05hbWVEZXNjcmlwdG9yID0ge1xuXHRjb25maWd1cmFibGU6IHRydWUsXG5cdGdldCgpIHtcblx0XHRyZXR1cm4gdGhpcy5jbGFzcztcblx0fVxufTtcblxubGV0IG9sZFZOb2RlSG9vayA9IG9wdGlvbnMudm5vZGU7XG5vcHRpb25zLnZub2RlID0gdm5vZGUgPT4ge1xuXHR2bm9kZS4kJHR5cGVvZiA9IFJFQUNUX0VMRU1FTlRfVFlQRTtcblxuXHRsZXQgdHlwZSA9IHZub2RlLnR5cGU7XG5cdGxldCBwcm9wcyA9IHZub2RlLnByb3BzO1xuXG5cdC8vIEFwcGx5IERPTSBWTm9kZSBjb21wYXRcblx0aWYgKHR5cGVvZiB0eXBlICE9ICdmdW5jdGlvbicpIHtcblx0XHQvLyBBcHBseSBkZWZhdWx0VmFsdWUgdG8gdmFsdWVcblx0XHRpZiAocHJvcHMuZGVmYXVsdFZhbHVlKSB7XG5cdFx0XHRpZiAoIXByb3BzLnZhbHVlICYmIHByb3BzLnZhbHVlICE9PSAwKSB7XG5cdFx0XHRcdHByb3BzLnZhbHVlID0gcHJvcHMuZGVmYXVsdFZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0ZGVsZXRlIHByb3BzLmRlZmF1bHRWYWx1ZTtcblx0XHR9XG5cblx0XHQvLyBBZGQgc3VwcG9ydCBmb3IgYXJyYXkgc2VsZWN0IHZhbHVlczogPHNlbGVjdCB2YWx1ZT17W119IC8+XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkocHJvcHMudmFsdWUpICYmIHByb3BzLm11bHRpcGxlICYmIHR5cGUgPT09ICdzZWxlY3QnKSB7XG5cdFx0XHR0b0NoaWxkQXJyYXkocHJvcHMuY2hpbGRyZW4pLmZvckVhY2goY2hpbGQgPT4ge1xuXHRcdFx0XHRpZiAocHJvcHMudmFsdWUuaW5kZXhPZihjaGlsZC5wcm9wcy52YWx1ZSkgIT0gLTEpIHtcblx0XHRcdFx0XHRjaGlsZC5wcm9wcy5zZWxlY3RlZCA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0ZGVsZXRlIHByb3BzLnZhbHVlO1xuXHRcdH1cblxuXHRcdC8vIE5vcm1hbGl6ZSBET00gdm5vZGUgcHJvcGVydGllcy5cblx0XHRsZXQgc2hvdWxkU2FuaXRpemUsIGF0dHJzLCBpO1xuXHRcdGZvciAoaSBpbiBwcm9wcykgaWYgKChzaG91bGRTYW5pdGl6ZSA9IENBTUVMX1BST1BTLnRlc3QoaSkpKSBicmVhaztcblx0XHRpZiAoc2hvdWxkU2FuaXRpemUpIHtcblx0XHRcdGF0dHJzID0gdm5vZGUucHJvcHMgPSB7fTtcblx0XHRcdGZvciAoaSBpbiBwcm9wcykge1xuXHRcdFx0XHRhdHRyc1tcblx0XHRcdFx0XHRDQU1FTF9QUk9QUy50ZXN0KGkpID8gaS5yZXBsYWNlKC8oW0EtWjAtOV0pLywgJy0kMScpLnRvTG93ZXJDYXNlKCkgOiBpXG5cdFx0XHRcdF0gPSBwcm9wc1tpXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBbGlhcyBgY2xhc3NgIHByb3AgdG8gYGNsYXNzTmFtZWAgaWYgYXZhaWxhYmxlXG5cdGlmIChwcm9wcy5jbGFzcyB8fCBwcm9wcy5jbGFzc05hbWUpIHtcblx0XHRjbGFzc05hbWVEZXNjcmlwdG9yLmVudW1lcmFibGUgPSAnY2xhc3NOYW1lJyBpbiBwcm9wcztcblx0XHRpZiAocHJvcHMuY2xhc3NOYW1lKSBwcm9wcy5jbGFzcyA9IHByb3BzLmNsYXNzTmFtZTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdjbGFzc05hbWUnLCBjbGFzc05hbWVEZXNjcmlwdG9yKTtcblx0fVxuXG5cdC8vIEV2ZW50c1xuXHRhcHBseUV2ZW50Tm9ybWFsaXphdGlvbih2bm9kZSk7XG5cblx0Ly8gQ29tcG9uZW50IGJhc2UgY2xhc3MgY29tcGF0XG5cdC8vIFdlIGNhbid0IGp1c3QgcGF0Y2ggdGhlIGJhc2UgY29tcG9uZW50IGNsYXNzLCBiZWNhdXNlIGNvbXBvbmVudHMgdGhhdCB1c2Vcblx0Ly8gaW5oZXJpdGFuY2UgYW5kIGFyZSB0cmFuc3BpbGVkIGRvd24gdG8gRVM1IHdpbGwgb3ZlcndyaXRlIG91ciBwYXRjaGVkXG5cdC8vIGdldHRlcnMgYW5kIHNldHRlcnMuIFNlZSAjMTk0MVxuXHRpZiAoXG5cdFx0dHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiZcblx0XHQhdHlwZS5fcGF0Y2hlZExpZmVjeWNsZXMgJiZcblx0XHR0eXBlLnByb3RvdHlwZVxuXHQpIHtcblx0XHRzZXRTYWZlRGVzY3JpcHRvcih0eXBlLnByb3RvdHlwZSwgJ2NvbXBvbmVudFdpbGxNb3VudCcpO1xuXHRcdHNldFNhZmVEZXNjcmlwdG9yKHR5cGUucHJvdG90eXBlLCAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycpO1xuXHRcdHNldFNhZmVEZXNjcmlwdG9yKHR5cGUucHJvdG90eXBlLCAnY29tcG9uZW50V2lsbFVwZGF0ZScpO1xuXHRcdHR5cGUuX3BhdGNoZWRMaWZlY3ljbGVzID0gdHJ1ZTtcblx0fVxuXG5cdGlmIChvbGRWTm9kZUhvb2spIG9sZFZOb2RlSG9vayh2bm9kZSk7XG59O1xuIiwiaW1wb3J0IHsgZW5xdWV1ZVJlbmRlciB9IGZyb20gJy4vY29tcG9uZW50JztcblxuZXhwb3J0IGxldCBpID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlKSB7XG5cdGNvbnN0IGN0eCA9IHt9O1xuXG5cdGNvbnN0IGNvbnRleHQgPSB7XG5cdFx0X2lkOiAnX19jQycgKyBpKyssXG5cdFx0X2RlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuXHRcdENvbnN1bWVyKHByb3BzLCBjb250ZXh0KSB7XG5cdFx0XHRyZXR1cm4gcHJvcHMuY2hpbGRyZW4oY29udGV4dCk7XG5cdFx0fSxcblx0XHRQcm92aWRlcihwcm9wcykge1xuXHRcdFx0aWYgKCF0aGlzLmdldENoaWxkQ29udGV4dCkge1xuXHRcdFx0XHRjb25zdCBzdWJzID0gW107XG5cdFx0XHRcdHRoaXMuZ2V0Q2hpbGRDb250ZXh0ID0gKCkgPT4ge1xuXHRcdFx0XHRcdGN0eFtjb250ZXh0Ll9pZF0gPSB0aGlzO1xuXHRcdFx0XHRcdHJldHVybiBjdHg7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gX3Byb3BzID0+IHtcblx0XHRcdFx0XHRpZiAocHJvcHMudmFsdWUgIT09IF9wcm9wcy52YWx1ZSkge1xuXHRcdFx0XHRcdFx0c3Vicy5zb21lKGMgPT4ge1xuXHRcdFx0XHRcdFx0XHRjLmNvbnRleHQgPSBfcHJvcHMudmFsdWU7XG5cdFx0XHRcdFx0XHRcdGVucXVldWVSZW5kZXIoYyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdHRoaXMuc3ViID0gYyA9PiB7XG5cdFx0XHRcdFx0c3Vicy5wdXNoKGMpO1xuXHRcdFx0XHRcdGxldCBvbGQgPSBjLmNvbXBvbmVudFdpbGxVbm1vdW50O1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFVubW91bnQgPSAoKSA9PiB7XG5cdFx0XHRcdFx0XHRzdWJzLnNwbGljZShzdWJzLmluZGV4T2YoYyksIDEpO1xuXHRcdFx0XHRcdFx0b2xkICYmIG9sZC5jYWxsKGMpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcHJvcHMuY2hpbGRyZW47XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnRleHQuQ29uc3VtZXIuY29udGV4dFR5cGUgPSBjb250ZXh0O1xuXG5cdHJldHVybiBjb250ZXh0O1xufVxuIiwiLyoqXG4gKiBBc3NpZ24gcHJvcGVydGllcyBmcm9tIGBwcm9wc2AgdG8gYG9iamBcbiAqIEB0ZW1wbGF0ZSBPLCBQIFRoZSBvYmogYW5kIHByb3BzIHR5cGVzXG4gKiBAcGFyYW0ge099IG9iaiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0b1xuICogQHBhcmFtIHtQfSBwcm9wcyBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcmV0dXJucyB7TyAmIFB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24ob2JqLCBwcm9wcykge1xuXHRmb3IgKGxldCBpIGluIHByb3BzKSBvYmpbaV0gPSBwcm9wc1tpXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7TyAmIFB9ICovIChvYmopO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHR3byBvYmplY3RzIGhhdmUgYSBkaWZmZXJlbnQgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBhXG4gKiBAcGFyYW0ge29iamVjdH0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFsbG93RGlmZmVycyhhLCBiKSB7XG5cdGZvciAobGV0IGkgaW4gYSkgaWYgKGkgIT09ICdfX3NvdXJjZScgJiYgIShpIGluIGIpKSByZXR1cm4gdHJ1ZTtcblx0Zm9yIChsZXQgaSBpbiBiKSBpZiAoaSAhPT0gJ19fc291cmNlJyAmJiBhW2ldICE9PSBiW2ldKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuIiwiaW1wb3J0IHsgZGlmZiwgdW5tb3VudCwgYXBwbHlSZWYgfSBmcm9tICcuL2luZGV4JztcbmltcG9ydCB7IGNyZWF0ZVZOb2RlIH0gZnJvbSAnLi4vY3JlYXRlLWVsZW1lbnQnO1xuaW1wb3J0IHsgRU1QVFlfT0JKLCBFTVBUWV9BUlIgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgZ2V0RG9tU2libGluZyB9IGZyb20gJy4uL2NvbXBvbmVudCc7XG5cbi8qKlxuICogRGlmZiB0aGUgY2hpbGRyZW4gb2YgYSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgRE9NIGVsZW1lbnQgd2hvc2VcbiAqIGNoaWxkcmVuIGFyZSBiZWluZyBkaWZmZWRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBuZXdQYXJlbnRWTm9kZSBUaGUgbmV3IHZpcnR1YWxcbiAqIG5vZGUgd2hvc2UgY2hpbGRyZW4gc2hvdWxkIGJlIGRpZmYnZWQgYWdhaW5zdCBvbGRQYXJlbnRWTm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG9sZFBhcmVudFZOb2RlIFRoZSBvbGQgdmlydHVhbFxuICogbm9kZSB3aG9zZSBjaGlsZHJlbiBzaG91bGQgYmUgZGlmZidlZCBhZ2FpbnN0IG5ld1BhcmVudFZOb2RlXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBUaGUgY3VycmVudCBjb250ZXh0IG9iamVjdFxuICogQHBhcmFtIHtib29sZWFufSBpc1N2ZyBXaGV0aGVyIG9yIG5vdCB0aGlzIERPTSBub2RlIGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50Pn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7Tm9kZSB8IFRleHR9IG9sZERvbSBUaGUgY3VycmVudCBhdHRhY2hlZCBET01cbiAqIGVsZW1lbnQgYW55IG5ldyBkb20gZWxlbWVudHMgc2hvdWxkIGJlIHBsYWNlZCBhcm91bmQuIExpa2VseSBgbnVsbGAgb24gZmlyc3RcbiAqIHJlbmRlciAoZXhjZXB0IHdoZW4gaHlkcmF0aW5nKS4gQ2FuIGJlIGEgc2libGluZyBET00gZWxlbWVudCB3aGVuIGRpZmZpbmdcbiAqIEZyYWdtZW50cyB0aGF0IGhhdmUgc2libGluZ3MuIEluIG1vc3QgY2FzZXMsIGl0IHN0YXJ0cyBvdXQgYXMgYG9sZENoaWxkcmVuWzBdLl9kb21gLlxuICogQHBhcmFtIHtib29sZWFufSBpc0h5ZHJhdGluZyBXaGV0aGVyIG9yIG5vdCB3ZSBhcmUgaW4gaHlkcmF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmQ2hpbGRyZW4oXG5cdHBhcmVudERvbSxcblx0bmV3UGFyZW50Vk5vZGUsXG5cdG9sZFBhcmVudFZOb2RlLFxuXHRjb250ZXh0LFxuXHRpc1N2Zyxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRvbGREb20sXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IGksIGosIG9sZFZOb2RlLCBuZXdEb20sIHNpYkRvbSwgZmlyc3RDaGlsZERvbSwgcmVmcztcblxuXHQvLyBUaGlzIGlzIGEgY29tcHJlc3Npb24gb2Ygb2xkUGFyZW50Vk5vZGUhPW51bGwgJiYgb2xkUGFyZW50Vk5vZGUgIT0gRU1QVFlfT0JKICYmIG9sZFBhcmVudFZOb2RlLl9jaGlsZHJlbiB8fCBFTVBUWV9BUlJcblx0Ly8gYXMgRU1QVFlfT0JKLl9jaGlsZHJlbiBzaG91bGQgYmUgYHVuZGVmaW5lZGAuXG5cdGxldCBvbGRDaGlsZHJlbiA9IChvbGRQYXJlbnRWTm9kZSAmJiBvbGRQYXJlbnRWTm9kZS5fY2hpbGRyZW4pIHx8IEVNUFRZX0FSUjtcblxuXHRsZXQgb2xkQ2hpbGRyZW5MZW5ndGggPSBvbGRDaGlsZHJlbi5sZW5ndGg7XG5cblx0Ly8gT25seSBpbiB2ZXJ5IHNwZWNpZmljIHBsYWNlcyBzaG91bGQgdGhpcyBsb2dpYyBiZSBpbnZva2VkICh0b3AgbGV2ZWwgYHJlbmRlcmAgYW5kIGBkaWZmRWxlbWVudE5vZGVzYCkuXG5cdC8vIEknbSB1c2luZyBgRU1QVFlfT0JKYCB0byBzaWduYWwgd2hlbiBgZGlmZkNoaWxkcmVuYCBpcyBpbnZva2VkIGluIHRoZXNlIHNpdHVhdGlvbnMuIEkgY2FuJ3QgdXNlIGBudWxsYFxuXHQvLyBmb3IgdGhpcyBwdXJwb3NlLCBiZWNhdXNlIGBudWxsYCBpcyBhIHZhbGlkIHZhbHVlIGZvciBgb2xkRG9tYCB3aGljaCBjYW4gbWVhbiB0byBza2lwIHRvIHRoaXMgbG9naWNcblx0Ly8gKGUuZy4gaWYgbW91bnRpbmcgYSBuZXcgdHJlZSBpbiB3aGljaCB0aGUgb2xkIERPTSBzaG91bGQgYmUgaWdub3JlZCAodXN1YWxseSBmb3IgRnJhZ21lbnRzKS5cblx0aWYgKG9sZERvbSA9PSBFTVBUWV9PQkopIHtcblx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0b2xkRG9tID0gZXhjZXNzRG9tQ2hpbGRyZW5bMF07XG5cdFx0fSBlbHNlIGlmIChvbGRDaGlsZHJlbkxlbmd0aCkge1xuXHRcdFx0b2xkRG9tID0gZ2V0RG9tU2libGluZyhvbGRQYXJlbnRWTm9kZSwgMCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9sZERvbSA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0aSA9IDA7XG5cdG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbiA9IHRvQ2hpbGRBcnJheShcblx0XHRuZXdQYXJlbnRWTm9kZS5fY2hpbGRyZW4sXG5cdFx0Y2hpbGRWTm9kZSA9PiB7XG5cdFx0XHRpZiAoY2hpbGRWTm9kZSAhPSBudWxsKSB7XG5cdFx0XHRcdGNoaWxkVk5vZGUuX3BhcmVudCA9IG5ld1BhcmVudFZOb2RlO1xuXHRcdFx0XHRjaGlsZFZOb2RlLl9kZXB0aCA9IG5ld1BhcmVudFZOb2RlLl9kZXB0aCArIDE7XG5cblx0XHRcdFx0Ly8gQ2hlY2sgaWYgd2UgZmluZCBhIGNvcnJlc3BvbmRpbmcgZWxlbWVudCBpbiBvbGRDaGlsZHJlbi5cblx0XHRcdFx0Ly8gSWYgZm91bmQsIGRlbGV0ZSB0aGUgYXJyYXkgaXRlbSBieSBzZXR0aW5nIHRvIGB1bmRlZmluZWRgLlxuXHRcdFx0XHQvLyBXZSB1c2UgYHVuZGVmaW5lZGAsIGFzIGBudWxsYCBpcyByZXNlcnZlZCBmb3IgZW1wdHkgcGxhY2Vob2xkZXJzXG5cdFx0XHRcdC8vIChob2xlcykuXG5cdFx0XHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5baV07XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdG9sZFZOb2RlID09PSBudWxsIHx8XG5cdFx0XHRcdFx0KG9sZFZOb2RlICYmXG5cdFx0XHRcdFx0XHRjaGlsZFZOb2RlLmtleSA9PSBvbGRWTm9kZS5rZXkgJiZcblx0XHRcdFx0XHRcdGNoaWxkVk5vZGUudHlwZSA9PT0gb2xkVk5vZGUudHlwZSlcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0b2xkQ2hpbGRyZW5baV0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gRWl0aGVyIG9sZFZOb2RlID09PSB1bmRlZmluZWQgb3Igb2xkQ2hpbGRyZW5MZW5ndGggPiAwLFxuXHRcdFx0XHRcdC8vIHNvIGFmdGVyIHRoaXMgbG9vcCBvbGRWTm9kZSA9PSBudWxsIG9yIG9sZFZOb2RlIGlzIGEgdmFsaWQgdmFsdWUuXG5cdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG9sZENoaWxkcmVuTGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5bal07XG5cdFx0XHRcdFx0XHQvLyBJZiBjaGlsZFZOb2RlIGlzIHVua2V5ZWQsIHdlIG9ubHkgbWF0Y2ggc2ltaWxhcmx5IHVua2V5ZWQgbm9kZXMsIG90aGVyd2lzZSB3ZSBtYXRjaCBieSBrZXkuXG5cdFx0XHRcdFx0XHQvLyBXZSBhbHdheXMgbWF0Y2ggYnkgdHlwZSAoaW4gZWl0aGVyIGNhc2UpLlxuXHRcdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0XHRvbGRWTm9kZSAmJlxuXHRcdFx0XHRcdFx0XHRjaGlsZFZOb2RlLmtleSA9PSBvbGRWTm9kZS5rZXkgJiZcblx0XHRcdFx0XHRcdFx0Y2hpbGRWTm9kZS50eXBlID09PSBvbGRWTm9kZS50eXBlXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0b2xkQ2hpbGRyZW5bal0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0b2xkVk5vZGUgPSBudWxsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdG9sZFZOb2RlID0gb2xkVk5vZGUgfHwgRU1QVFlfT0JKO1xuXG5cdFx0XHRcdC8vIE1vcnBoIHRoZSBvbGQgZWxlbWVudCBpbnRvIHRoZSBuZXcgb25lLCBidXQgZG9uJ3QgYXBwZW5kIGl0IHRvIHRoZSBkb20geWV0XG5cdFx0XHRcdG5ld0RvbSA9IGRpZmYoXG5cdFx0XHRcdFx0cGFyZW50RG9tLFxuXHRcdFx0XHRcdGNoaWxkVk5vZGUsXG5cdFx0XHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRcdFx0Y29udGV4dCxcblx0XHRcdFx0XHRpc1N2Zyxcblx0XHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0XHRvbGREb20sXG5cdFx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoKGogPSBjaGlsZFZOb2RlLnJlZikgJiYgb2xkVk5vZGUucmVmICE9IGopIHtcblx0XHRcdFx0XHRpZiAoIXJlZnMpIHJlZnMgPSBbXTtcblx0XHRcdFx0XHRpZiAob2xkVk5vZGUucmVmKSByZWZzLnB1c2gob2xkVk5vZGUucmVmLCBudWxsLCBjaGlsZFZOb2RlKTtcblx0XHRcdFx0XHRyZWZzLnB1c2goaiwgY2hpbGRWTm9kZS5fY29tcG9uZW50IHx8IG5ld0RvbSwgY2hpbGRWTm9kZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBPbmx5IHByb2NlZWQgaWYgdGhlIHZub2RlIGhhcyBub3QgYmVlbiB1bm1vdW50ZWQgYnkgYGRpZmYoKWAgYWJvdmUuXG5cdFx0XHRcdGlmIChuZXdEb20gIT0gbnVsbCkge1xuXHRcdFx0XHRcdGlmIChmaXJzdENoaWxkRG9tID09IG51bGwpIHtcblx0XHRcdFx0XHRcdGZpcnN0Q2hpbGREb20gPSBuZXdEb207XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGNoaWxkVk5vZGUuX2xhc3REb21DaGlsZCAhPSBudWxsKSB7XG5cdFx0XHRcdFx0XHQvLyBPbmx5IEZyYWdtZW50cyBvciBjb21wb25lbnRzIHRoYXQgcmV0dXJuIEZyYWdtZW50IGxpa2UgVk5vZGVzIHdpbGxcblx0XHRcdFx0XHRcdC8vIGhhdmUgYSBub24tbnVsbCBfbGFzdERvbUNoaWxkLiBDb250aW51ZSB0aGUgZGlmZiBmcm9tIHRoZSBlbmQgb2Zcblx0XHRcdFx0XHRcdC8vIHRoaXMgRnJhZ21lbnQncyBET00gdHJlZS5cblx0XHRcdFx0XHRcdG5ld0RvbSA9IGNoaWxkVk5vZGUuX2xhc3REb21DaGlsZDtcblxuXHRcdFx0XHRcdFx0Ly8gRWFnZXJseSBjbGVhbnVwIF9sYXN0RG9tQ2hpbGQuIFdlIGRvbid0IG5lZWQgdG8gcGVyc2lzdCB0aGUgdmFsdWUgYmVjYXVzZVxuXHRcdFx0XHRcdFx0Ly8gaXQgaXMgb25seSB1c2VkIGJ5IGBkaWZmQ2hpbGRyZW5gIHRvIGRldGVybWluZSB3aGVyZSB0byByZXN1bWUgdGhlIGRpZmYgYWZ0ZXJcblx0XHRcdFx0XHRcdC8vIGRpZmZpbmcgQ29tcG9uZW50cyBhbmQgRnJhZ21lbnRzLlxuXHRcdFx0XHRcdFx0Y2hpbGRWTm9kZS5fbGFzdERvbUNoaWxkID0gbnVsbDtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4gPT0gb2xkVk5vZGUgfHxcblx0XHRcdFx0XHRcdG5ld0RvbSAhPSBvbGREb20gfHxcblx0XHRcdFx0XHRcdG5ld0RvbS5wYXJlbnROb2RlID09IG51bGxcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdC8vIE5PVEU6IGV4Y2Vzc0RvbUNoaWxkcmVuPT1vbGRWTm9kZSBhYm92ZTpcblx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgYSBjb21wcmVzc2lvbiBvZiBleGNlc3NEb21DaGlsZHJlbj09bnVsbCAmJiBvbGRWTm9kZT09bnVsbCFcblx0XHRcdFx0XHRcdC8vIFRoZSB2YWx1ZXMgb25seSBoYXZlIHRoZSBzYW1lIHR5cGUgd2hlbiBgbnVsbGAuXG5cblx0XHRcdFx0XHRcdG91dGVyOiBpZiAob2xkRG9tID09IG51bGwgfHwgb2xkRG9tLnBhcmVudE5vZGUgIT09IHBhcmVudERvbSkge1xuXHRcdFx0XHRcdFx0XHRwYXJlbnREb20uYXBwZW5kQ2hpbGQobmV3RG9tKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIGBqPG9sZENoaWxkcmVuTGVuZ3RoOyBqKz0yYCBpcyBhbiBhbHRlcm5hdGl2ZSB0byBgaisrPG9sZENoaWxkcmVuTGVuZ3RoLzJgXG5cdFx0XHRcdFx0XHRcdGZvciAoXG5cdFx0XHRcdFx0XHRcdFx0c2liRG9tID0gb2xkRG9tLCBqID0gMDtcblx0XHRcdFx0XHRcdFx0XHQoc2liRG9tID0gc2liRG9tLm5leHRTaWJsaW5nKSAmJiBqIDwgb2xkQ2hpbGRyZW5MZW5ndGg7XG5cdFx0XHRcdFx0XHRcdFx0aiArPSAyXG5cdFx0XHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChzaWJEb20gPT0gbmV3RG9tKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhayBvdXRlcjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0cGFyZW50RG9tLmluc2VydEJlZm9yZShuZXdEb20sIG9sZERvbSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEJyb3dzZXJzIHdpbGwgaW5mZXIgYW4gb3B0aW9uJ3MgYHZhbHVlYCBmcm9tIGB0ZXh0Q29udGVudGAgd2hlblxuXHRcdFx0XHRcdFx0Ly8gbm8gdmFsdWUgaXMgcHJlc2VudC4gVGhpcyBlc3NlbnRpYWxseSBieXBhc3NlcyBvdXIgY29kZSB0byBzZXQgaXRcblx0XHRcdFx0XHRcdC8vIGxhdGVyIGluIGBkaWZmKClgLiBJdCB3b3JrcyBmaW5lIGluIGFsbCBicm93c2VycyBleGNlcHQgZm9yIElFMTFcblx0XHRcdFx0XHRcdC8vIHdoZXJlIGl0IGJyZWFrcyBzZXR0aW5nIGBzZWxlY3QudmFsdWVgLiBUaGVyZSBpdCB3aWxsIGJlIGFsd2F5cyBzZXRcblx0XHRcdFx0XHRcdC8vIHRvIGFuIGVtcHR5IHN0cmluZy4gUmUtYXBwbHlpbmcgYW4gb3B0aW9ucyB2YWx1ZSB3aWxsIGZpeCB0aGF0LCBzb1xuXHRcdFx0XHRcdFx0Ly8gdGhlcmUgYXJlIHByb2JhYmx5IHNvbWUgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmVzIHRoYXQgYXJlbid0XG5cdFx0XHRcdFx0XHQvLyB1cGRhdGVkIHByb3Blcmx5LlxuXHRcdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHRcdC8vIFRvIGZpeCBpdCB3ZSBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIGluZmVycmVkIHZhbHVlLCBzbyB0aGF0IG91ciBvd25cblx0XHRcdFx0XHRcdC8vIHZhbHVlIGNoZWNrIGluIGBkaWZmKClgIHdvbid0IGJlIHNraXBwZWQuXG5cdFx0XHRcdFx0XHRpZiAobmV3UGFyZW50Vk5vZGUudHlwZSA9PSAnb3B0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRwYXJlbnREb20udmFsdWUgPSAnJztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvbGREb20gPSBuZXdEb20ubmV4dFNpYmxpbmc7XG5cblx0XHRcdFx0XHRpZiAodHlwZW9mIG5ld1BhcmVudFZOb2RlLnR5cGUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgaWYgY2hpbGRWTm9kZS5fbGFzdERvbUNoaWxkIGV4aXN0ZWQsIHRoZW5cblx0XHRcdFx0XHRcdC8vIG5ld0RvbSA9IGNoaWxkVk5vZGUuX2xhc3REb21DaGlsZCBwZXIgbGluZSAxMDEuIEVsc2UgaXQgaXNcblx0XHRcdFx0XHRcdC8vIHRoZSBzYW1lIGFzIGNoaWxkVk5vZGUuX2RvbSwgbWVhbmluZyB0aGlzIGNvbXBvbmVudCByZXR1cm5lZFxuXHRcdFx0XHRcdFx0Ly8gb25seSBhIHNpbmdsZSBET00gbm9kZVxuXHRcdFx0XHRcdFx0bmV3UGFyZW50Vk5vZGUuX2xhc3REb21DaGlsZCA9IG5ld0RvbTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aSsrO1xuXHRcdFx0cmV0dXJuIGNoaWxkVk5vZGU7XG5cdFx0fVxuXHQpO1xuXG5cdG5ld1BhcmVudFZOb2RlLl9kb20gPSBmaXJzdENoaWxkRG9tO1xuXG5cdC8vIFJlbW92ZSBjaGlsZHJlbiB0aGF0IGFyZSBub3QgcGFydCBvZiBhbnkgdm5vZGUuXG5cdGlmIChleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsICYmIHR5cGVvZiBuZXdQYXJlbnRWTm9kZS50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0Zm9yIChpID0gZXhjZXNzRG9tQ2hpbGRyZW4ubGVuZ3RoOyBpLS07ICkge1xuXHRcdFx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuW2ldICE9IG51bGwpIHJlbW92ZU5vZGUoZXhjZXNzRG9tQ2hpbGRyZW5baV0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJlbW92ZSByZW1haW5pbmcgb2xkQ2hpbGRyZW4gaWYgdGhlcmUgYXJlIGFueS5cblx0Zm9yIChpID0gb2xkQ2hpbGRyZW5MZW5ndGg7IGktLTsgKSB7XG5cdFx0aWYgKG9sZENoaWxkcmVuW2ldICE9IG51bGwpIHVubW91bnQob2xkQ2hpbGRyZW5baV0sIG9sZENoaWxkcmVuW2ldKTtcblx0fVxuXG5cdC8vIFNldCByZWZzIG9ubHkgYWZ0ZXIgdW5tb3VudFxuXHRpZiAocmVmcykge1xuXHRcdGZvciAoaSA9IDA7IGkgPCByZWZzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRhcHBseVJlZihyZWZzW2ldLCByZWZzWysraV0sIHJlZnNbKytpXSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogRmxhdHRlbiBhbmQgbG9vcCB0aHJvdWdoIHRoZSBjaGlsZHJlbiBvZiBhIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2luZGV4JykuQ29tcG9uZW50Q2hpbGRyZW59IGNoaWxkcmVuIFRoZSB1bmZsYXR0ZW5lZFxuICogY2hpbGRyZW4gb2YgYSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7KHZub2RlOiBpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGUpID0+IGltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gW2NhbGxiYWNrXVxuICogQSBmdW5jdGlvbiB0byBpbnZva2UgZm9yIGVhY2ggY2hpbGQgYmVmb3JlIGl0IGlzIGFkZGVkIHRvIHRoZSBmbGF0dGVuZWQgbGlzdC5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlIHwgc3RyaW5nIHwgbnVtYmVyPn0gW2ZsYXR0ZW5lZF0gQW4gZmxhdCBhcnJheSBvZiBjaGlsZHJlbiB0byBtb2RpZnlcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGVbXX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQ2hpbGRBcnJheShjaGlsZHJlbiwgY2FsbGJhY2ssIGZsYXR0ZW5lZCkge1xuXHRpZiAoZmxhdHRlbmVkID09IG51bGwpIGZsYXR0ZW5lZCA9IFtdO1xuXG5cdGlmIChjaGlsZHJlbiA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0aWYgKGNhbGxiYWNrKSBmbGF0dGVuZWQucHVzaChjYWxsYmFjayhudWxsKSk7XG5cdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR0b0NoaWxkQXJyYXkoY2hpbGRyZW5baV0sIGNhbGxiYWNrLCBmbGF0dGVuZWQpO1xuXHRcdH1cblx0fSBlbHNlIGlmICghY2FsbGJhY2spIHtcblx0XHRmbGF0dGVuZWQucHVzaChjaGlsZHJlbik7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGNoaWxkcmVuID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgY2hpbGRyZW4gPT09ICdudW1iZXInKSB7XG5cdFx0ZmxhdHRlbmVkLnB1c2goY2FsbGJhY2soY3JlYXRlVk5vZGUobnVsbCwgY2hpbGRyZW4sIG51bGwsIG51bGwpKSk7XG5cdH0gZWxzZSBpZiAoY2hpbGRyZW4uX2RvbSAhPSBudWxsIHx8IGNoaWxkcmVuLl9jb21wb25lbnQgIT0gbnVsbCkge1xuXHRcdGZsYXR0ZW5lZC5wdXNoKFxuXHRcdFx0Y2FsbGJhY2soY3JlYXRlVk5vZGUoY2hpbGRyZW4udHlwZSwgY2hpbGRyZW4ucHJvcHMsIGNoaWxkcmVuLmtleSwgbnVsbCkpXG5cdFx0KTtcblx0fSBlbHNlIHtcblx0XHRmbGF0dGVuZWQucHVzaChjYWxsYmFjayhjaGlsZHJlbikpO1xuXHR9XG5cblx0cmV0dXJuIGZsYXR0ZW5lZDtcbn1cbiIsImltcG9ydCB7IElTX05PTl9ESU1FTlNJT05BTCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuLi9vcHRpb25zJztcblxuLyoqXG4gKiBEaWZmIHRoZSBvbGQgYW5kIG5ldyBwcm9wZXJ0aWVzIG9mIGEgVk5vZGUgYW5kIGFwcGx5IGNoYW5nZXMgdG8gdGhlIERPTSBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBkb20gVGhlIERPTSBub2RlIHRvIGFwcGx5XG4gKiBjaGFuZ2VzIHRvXG4gKiBAcGFyYW0ge29iamVjdH0gbmV3UHJvcHMgVGhlIG5ldyBwcm9wc1xuICogQHBhcmFtIHtvYmplY3R9IG9sZFByb3BzIFRoZSBvbGQgcHJvcHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBub2RlIGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGh5ZHJhdGUgV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvbiBtb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmUHJvcHMoZG9tLCBuZXdQcm9wcywgb2xkUHJvcHMsIGlzU3ZnLCBoeWRyYXRlKSB7XG5cdGxldCBpO1xuXG5cdGZvciAoaSBpbiBvbGRQcm9wcykge1xuXHRcdGlmICghKGkgaW4gbmV3UHJvcHMpKSB7XG5cdFx0XHRzZXRQcm9wZXJ0eShkb20sIGksIG51bGwsIG9sZFByb3BzW2ldLCBpc1N2Zyk7XG5cdFx0fVxuXHR9XG5cblx0Zm9yIChpIGluIG5ld1Byb3BzKSB7XG5cdFx0aWYgKFxuXHRcdFx0KCFoeWRyYXRlIHx8IHR5cGVvZiBuZXdQcm9wc1tpXSA9PSAnZnVuY3Rpb24nKSAmJlxuXHRcdFx0aSAhPT0gJ3ZhbHVlJyAmJlxuXHRcdFx0aSAhPT0gJ2NoZWNrZWQnICYmXG5cdFx0XHRvbGRQcm9wc1tpXSAhPT0gbmV3UHJvcHNbaV1cblx0XHQpIHtcblx0XHRcdHNldFByb3BlcnR5KGRvbSwgaSwgbmV3UHJvcHNbaV0sIG9sZFByb3BzW2ldLCBpc1N2Zyk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBrZXksIHZhbHVlKSB7XG5cdGlmIChrZXlbMF0gPT09ICctJykge1xuXHRcdHN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUpO1xuXHR9IGVsc2UgaWYgKFxuXHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiZcblx0XHRJU19OT05fRElNRU5TSU9OQUwudGVzdChrZXkpID09PSBmYWxzZVxuXHQpIHtcblx0XHRzdHlsZVtrZXldID0gdmFsdWUgKyAncHgnO1xuXHR9IGVsc2UgaWYgKHZhbHVlID09IG51bGwpIHtcblx0XHRzdHlsZVtrZXldID0gJyc7XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGVba2V5XSA9IHZhbHVlO1xuXHR9XG59XG5cbi8qKlxuICogU2V0IGEgcHJvcGVydHkgdmFsdWUgb24gYSBET00gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gZG9tIFRoZSBET00gbm9kZSB0byBtb2RpZnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXRcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldCB0aGUgcHJvcGVydHkgdG9cbiAqIEBwYXJhbSB7Kn0gb2xkVmFsdWUgVGhlIG9sZCB2YWx1ZSB0aGUgcHJvcGVydHkgaGFkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgRE9NIG5vZGUgaXMgYW4gU1ZHIG5vZGUgb3Igbm90XG4gKi9cbmZ1bmN0aW9uIHNldFByb3BlcnR5KGRvbSwgbmFtZSwgdmFsdWUsIG9sZFZhbHVlLCBpc1N2Zykge1xuXHRpZiAoaXNTdmcpIHtcblx0XHRpZiAobmFtZSA9PT0gJ2NsYXNzTmFtZScpIHtcblx0XHRcdG5hbWUgPSAnY2xhc3MnO1xuXHRcdH1cblx0fSBlbHNlIGlmIChuYW1lID09PSAnY2xhc3MnKSB7XG5cdFx0bmFtZSA9ICdjbGFzc05hbWUnO1xuXHR9XG5cblx0aWYgKG5hbWUgPT09ICdrZXknIHx8IG5hbWUgPT09ICdjaGlsZHJlbicpIHtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnc3R5bGUnKSB7XG5cdFx0Y29uc3QgcyA9IGRvbS5zdHlsZTtcblxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRzLmNzc1RleHQgPSB2YWx1ZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHR5cGVvZiBvbGRWYWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0cy5jc3NUZXh0ID0gJyc7XG5cdFx0XHRcdG9sZFZhbHVlID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9sZFZhbHVlKSB7XG5cdFx0XHRcdGZvciAobGV0IGkgaW4gb2xkVmFsdWUpIHtcblx0XHRcdFx0XHRpZiAoISh2YWx1ZSAmJiBpIGluIHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0c2V0U3R5bGUocywgaSwgJycpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0Zm9yIChsZXQgaSBpbiB2YWx1ZSkge1xuXHRcdFx0XHRcdGlmICghb2xkVmFsdWUgfHwgdmFsdWVbaV0gIT09IG9sZFZhbHVlW2ldKSB7XG5cdFx0XHRcdFx0XHRzZXRTdHlsZShzLCBpLCB2YWx1ZVtpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdC8vIEJlbmNobWFyayBmb3IgY29tcGFyaXNvbjogaHR0cHM6Ly9lc2JlbmNoLmNvbS9iZW5jaC81NzRjOTU0YmRiOTY1YjlhMDA5NjVhYzZcblx0ZWxzZSBpZiAobmFtZVswXSA9PT0gJ28nICYmIG5hbWVbMV0gPT09ICduJykge1xuXHRcdGxldCB1c2VDYXB0dXJlID0gbmFtZSAhPT0gKG5hbWUgPSBuYW1lLnJlcGxhY2UoL0NhcHR1cmUkLywgJycpKTtcblx0XHRsZXQgbmFtZUxvd2VyID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdG5hbWUgPSAobmFtZUxvd2VyIGluIGRvbSA/IG5hbWVMb3dlciA6IG5hbWUpLnNsaWNlKDIpO1xuXG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAoIW9sZFZhbHVlKSBkb20uYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5LCB1c2VDYXB0dXJlKTtcblx0XHRcdChkb20uX2xpc3RlbmVycyB8fCAoZG9tLl9saXN0ZW5lcnMgPSB7fSkpW25hbWVdID0gdmFsdWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50UHJveHksIHVzZUNhcHR1cmUpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChcblx0XHRuYW1lICE9PSAnbGlzdCcgJiZcblx0XHRuYW1lICE9PSAndGFnTmFtZScgJiZcblx0XHQvLyBIVE1MQnV0dG9uRWxlbWVudC5mb3JtIGFuZCBIVE1MSW5wdXRFbGVtZW50LmZvcm0gYXJlIHJlYWQtb25seSBidXQgY2FuIGJlIHNldCB1c2luZ1xuXHRcdC8vIHNldEF0dHJpYnV0ZVxuXHRcdG5hbWUgIT09ICdmb3JtJyAmJlxuXHRcdG5hbWUgIT09ICd0eXBlJyAmJlxuXHRcdCFpc1N2ZyAmJlxuXHRcdG5hbWUgaW4gZG9tXG5cdCkge1xuXHRcdGRvbVtuYW1lXSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xuXHR9IGVsc2UgaWYgKFxuXHRcdHR5cGVvZiB2YWx1ZSAhPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdG5hbWUgIT09ICdkYW5nZXJvdXNseVNldElubmVySFRNTCdcblx0KSB7XG5cdFx0aWYgKG5hbWUgIT09IChuYW1lID0gbmFtZS5yZXBsYWNlKC9eeGxpbms6Py8sICcnKSkpIHtcblx0XHRcdGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBmYWxzZSkge1xuXHRcdFx0XHRkb20ucmVtb3ZlQXR0cmlidXRlTlMoXG5cdFx0XHRcdFx0J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuXHRcdFx0XHRcdG5hbWUudG9Mb3dlckNhc2UoKVxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZG9tLnNldEF0dHJpYnV0ZU5TKFxuXHRcdFx0XHRcdCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyxcblx0XHRcdFx0XHRuYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRcdFx0dmFsdWVcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09IGZhbHNlKSB7XG5cdFx0XHRkb20ucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkb20uc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBQcm94eSBhbiBldmVudCB0byBob29rZWQgZXZlbnQgaGFuZGxlcnNcbiAqIEBwYXJhbSB7RXZlbnR9IGUgVGhlIGV2ZW50IG9iamVjdCBmcm9tIHRoZSBicm93c2VyXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBldmVudFByb3h5KGUpIHtcblx0dGhpcy5fbGlzdGVuZXJzW2UudHlwZV0ob3B0aW9ucy5ldmVudCA/IG9wdGlvbnMuZXZlbnQoZSkgOiBlKTtcbn1cbiIsImltcG9ydCB7IEVNUFRZX09CSiwgRU1QVFlfQVJSIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJy4uL2NyZWF0ZS1lbGVtZW50JztcbmltcG9ydCB7IGRpZmZDaGlsZHJlbiwgdG9DaGlsZEFycmF5IH0gZnJvbSAnLi9jaGlsZHJlbic7XG5pbXBvcnQgeyBkaWZmUHJvcHMgfSBmcm9tICcuL3Byb3BzJztcbmltcG9ydCB7IGFzc2lnbiwgcmVtb3ZlTm9kZSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi4vb3B0aW9ucyc7XG5cbi8qKlxuICogRGlmZiB0d28gdmlydHVhbCBub2RlcyBhbmQgYXBwbHkgcHJvcGVyIGNoYW5nZXMgdG8gdGhlIERPTVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gcGFyZW50RG9tIFRoZSBwYXJlbnQgb2YgdGhlIERPTSBlbGVtZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gbmV3Vk5vZGUgVGhlIG5ldyB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBvbGRWTm9kZSBUaGUgb2xkIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgVGhlIGN1cnJlbnQgY29udGV4dCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBlbGVtZW50IGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50Pn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7RWxlbWVudCB8IFRleHR9IG9sZERvbSBUaGUgY3VycmVudCBhdHRhY2hlZCBET01cbiAqIGVsZW1lbnQgYW55IG5ldyBkb20gZWxlbWVudHMgc2hvdWxkIGJlIHBsYWNlZCBhcm91bmQuIExpa2VseSBgbnVsbGAgb24gZmlyc3RcbiAqIHJlbmRlciAoZXhjZXB0IHdoZW4gaHlkcmF0aW5nKS4gQ2FuIGJlIGEgc2libGluZyBET00gZWxlbWVudCB3aGVuIGRpZmZpbmdcbiAqIEZyYWdtZW50cyB0aGF0IGhhdmUgc2libGluZ3MuIEluIG1vc3QgY2FzZXMsIGl0IHN0YXJ0cyBvdXQgYXMgYG9sZENoaWxkcmVuWzBdLl9kb21gLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNIeWRyYXRpbmddIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmYoXG5cdHBhcmVudERvbSxcblx0bmV3Vk5vZGUsXG5cdG9sZFZOb2RlLFxuXHRjb250ZXh0LFxuXHRpc1N2Zyxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRvbGREb20sXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IHRtcCxcblx0XHRuZXdUeXBlID0gbmV3Vk5vZGUudHlwZTtcblxuXHQvLyBXaGVuIHBhc3NpbmcgdGhyb3VnaCBjcmVhdGVFbGVtZW50IGl0IGFzc2lnbnMgdGhlIG9iamVjdFxuXHQvLyBjb25zdHJ1Y3RvciBhcyB1bmRlZmluZWQuIFRoaXMgdG8gcHJldmVudCBKU09OLWluamVjdGlvbi5cblx0aWYgKG5ld1ZOb2RlLmNvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuXG5cdGlmICgodG1wID0gb3B0aW9ucy5fZGlmZikpIHRtcChuZXdWTm9kZSk7XG5cblx0dHJ5IHtcblx0XHRvdXRlcjogaWYgKHR5cGVvZiBuZXdUeXBlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRsZXQgYywgaXNOZXcsIG9sZFByb3BzLCBvbGRTdGF0ZSwgc25hcHNob3QsIGNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbjtcblx0XHRcdGxldCBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xuXG5cdFx0XHQvLyBOZWNlc3NhcnkgZm9yIGNyZWF0ZUNvbnRleHQgYXBpLiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgd2lsbCBwYXNzXG5cdFx0XHQvLyB0aGUgY29udGV4dCB2YWx1ZSBhcyBgdGhpcy5jb250ZXh0YCBqdXN0IGZvciB0aGlzIGNvbXBvbmVudC5cblx0XHRcdHRtcCA9IG5ld1R5cGUuY29udGV4dFR5cGU7XG5cdFx0XHRsZXQgcHJvdmlkZXIgPSB0bXAgJiYgY29udGV4dFt0bXAuX2lkXTtcblx0XHRcdGxldCBjY3R4ID0gdG1wXG5cdFx0XHRcdD8gcHJvdmlkZXJcblx0XHRcdFx0XHQ/IHByb3ZpZGVyLnByb3BzLnZhbHVlXG5cdFx0XHRcdFx0OiB0bXAuX2RlZmF1bHRWYWx1ZVxuXHRcdFx0XHQ6IGNvbnRleHQ7XG5cblx0XHRcdC8vIEdldCBjb21wb25lbnQgYW5kIHNldCBpdCB0byBgY2Bcblx0XHRcdGlmIChvbGRWTm9kZS5fY29tcG9uZW50KSB7XG5cdFx0XHRcdGMgPSBuZXdWTm9kZS5fY29tcG9uZW50ID0gb2xkVk5vZGUuX2NvbXBvbmVudDtcblx0XHRcdFx0Y2xlYXJQcm9jZXNzaW5nRXhjZXB0aW9uID0gYy5fcHJvY2Vzc2luZ0V4Y2VwdGlvbiA9IGMuX3BlbmRpbmdFcnJvcjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEluc3RhbnRpYXRlIHRoZSBuZXcgY29tcG9uZW50XG5cdFx0XHRcdGlmICgncHJvdG90eXBlJyBpbiBuZXdUeXBlICYmIG5ld1R5cGUucHJvdG90eXBlLnJlbmRlcikge1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jb21wb25lbnQgPSBjID0gbmV3IG5ld1R5cGUobmV3UHJvcHMsIGNjdHgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXdWTm9kZS5fY29tcG9uZW50ID0gYyA9IG5ldyBDb21wb25lbnQobmV3UHJvcHMsIGNjdHgpO1xuXHRcdFx0XHRcdGMuY29uc3RydWN0b3IgPSBuZXdUeXBlO1xuXHRcdFx0XHRcdGMucmVuZGVyID0gZG9SZW5kZXI7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHByb3ZpZGVyKSBwcm92aWRlci5zdWIoYyk7XG5cblx0XHRcdFx0Yy5wcm9wcyA9IG5ld1Byb3BzO1xuXHRcdFx0XHRpZiAoIWMuc3RhdGUpIGMuc3RhdGUgPSB7fTtcblx0XHRcdFx0Yy5jb250ZXh0ID0gY2N0eDtcblx0XHRcdFx0Yy5fY29udGV4dCA9IGNvbnRleHQ7XG5cdFx0XHRcdGlzTmV3ID0gYy5fZGlydHkgPSB0cnVlO1xuXHRcdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSW52b2tlIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc1xuXHRcdFx0aWYgKGMuX25leHRTdGF0ZSA9PSBudWxsKSB7XG5cdFx0XHRcdGMuX25leHRTdGF0ZSA9IGMuc3RhdGU7XG5cdFx0XHR9XG5cdFx0XHRpZiAobmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgIT0gbnVsbCkge1xuXHRcdFx0XHRpZiAoYy5fbmV4dFN0YXRlID09IGMuc3RhdGUpIHtcblx0XHRcdFx0XHRjLl9uZXh0U3RhdGUgPSBhc3NpZ24oe30sIGMuX25leHRTdGF0ZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhc3NpZ24oXG5cdFx0XHRcdFx0Yy5fbmV4dFN0YXRlLFxuXHRcdFx0XHRcdG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5ld1Byb3BzLCBjLl9uZXh0U3RhdGUpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdG9sZFByb3BzID0gYy5wcm9wcztcblx0XHRcdG9sZFN0YXRlID0gYy5zdGF0ZTtcblxuXHRcdFx0Ly8gSW52b2tlIHByZS1yZW5kZXIgbGlmZWN5Y2xlIG1ldGhvZHNcblx0XHRcdGlmIChpc05ldykge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0bmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT0gbnVsbCAmJlxuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbE1vdW50ICE9IG51bGxcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsTW91bnQoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjLmNvbXBvbmVudERpZE1vdW50ICE9IG51bGwpIHtcblx0XHRcdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MucHVzaChjLmNvbXBvbmVudERpZE1vdW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09IG51bGwgJiZcblx0XHRcdFx0XHRuZXdQcm9wcyAhPT0gb2xkUHJvcHMgJiZcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgIT0gbnVsbFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHMsIGNjdHgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdCFjLl9mb3JjZSAmJlxuXHRcdFx0XHRcdGMuc2hvdWxkQ29tcG9uZW50VXBkYXRlICE9IG51bGwgJiZcblx0XHRcdFx0XHRjLnNob3VsZENvbXBvbmVudFVwZGF0ZShuZXdQcm9wcywgYy5fbmV4dFN0YXRlLCBjY3R4KSA9PT0gZmFsc2Vcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Yy5wcm9wcyA9IG5ld1Byb3BzO1xuXHRcdFx0XHRcdGMuc3RhdGUgPSBjLl9uZXh0U3RhdGU7XG5cdFx0XHRcdFx0Yy5fZGlydHkgPSBmYWxzZTtcblx0XHRcdFx0XHRjLl92bm9kZSA9IG5ld1ZOb2RlO1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9kb20gPSBvbGRWTm9kZS5fZG9tO1xuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IG9sZFZOb2RlLl9jaGlsZHJlbjtcblx0XHRcdFx0XHRpZiAoYy5fcmVuZGVyQ2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Y29tbWl0UXVldWUucHVzaChjKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Zm9yICh0bXAgPSAwOyB0bXAgPCBuZXdWTm9kZS5fY2hpbGRyZW4ubGVuZ3RoOyB0bXArKykge1xuXHRcdFx0XHRcdFx0aWYgKG5ld1ZOb2RlLl9jaGlsZHJlblt0bXBdKSB7XG5cdFx0XHRcdFx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlblt0bXBdLl9wYXJlbnQgPSBuZXdWTm9kZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWsgb3V0ZXI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYy5jb21wb25lbnRXaWxsVXBkYXRlICE9IG51bGwpIHtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxVcGRhdGUobmV3UHJvcHMsIGMuX25leHRTdGF0ZSwgY2N0eCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYy5jb21wb25lbnREaWRVcGRhdGUgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKCgpID0+IHtcblx0XHRcdFx0XHRcdGMuY29tcG9uZW50RGlkVXBkYXRlKG9sZFByb3BzLCBvbGRTdGF0ZSwgc25hcHNob3QpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGMuY29udGV4dCA9IGNjdHg7XG5cdFx0XHRjLnByb3BzID0gbmV3UHJvcHM7XG5cdFx0XHRjLnN0YXRlID0gYy5fbmV4dFN0YXRlO1xuXG5cdFx0XHRpZiAoKHRtcCA9IG9wdGlvbnMuX3JlbmRlcikpIHRtcChuZXdWTm9kZSk7XG5cblx0XHRcdGMuX2RpcnR5ID0gZmFsc2U7XG5cdFx0XHRjLl92bm9kZSA9IG5ld1ZOb2RlO1xuXHRcdFx0Yy5fcGFyZW50RG9tID0gcGFyZW50RG9tO1xuXG5cdFx0XHR0bXAgPSBjLnJlbmRlcihjLnByb3BzLCBjLnN0YXRlLCBjLmNvbnRleHQpO1xuXHRcdFx0bGV0IGlzVG9wTGV2ZWxGcmFnbWVudCA9XG5cdFx0XHRcdHRtcCAhPSBudWxsICYmIHRtcC50eXBlID09IEZyYWdtZW50ICYmIHRtcC5rZXkgPT0gbnVsbDtcblx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IHRvQ2hpbGRBcnJheShcblx0XHRcdFx0aXNUb3BMZXZlbEZyYWdtZW50ID8gdG1wLnByb3BzLmNoaWxkcmVuIDogdG1wXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAoYy5nZXRDaGlsZENvbnRleHQgIT0gbnVsbCkge1xuXHRcdFx0XHRjb250ZXh0ID0gYXNzaWduKGFzc2lnbih7fSwgY29udGV4dCksIGMuZ2V0Q2hpbGRDb250ZXh0KCkpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWlzTmV3ICYmIGMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgIT0gbnVsbCkge1xuXHRcdFx0XHRzbmFwc2hvdCA9IGMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUob2xkUHJvcHMsIG9sZFN0YXRlKTtcblx0XHRcdH1cblxuXHRcdFx0ZGlmZkNoaWxkcmVuKFxuXHRcdFx0XHRwYXJlbnREb20sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Y29udGV4dCxcblx0XHRcdFx0aXNTdmcsXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0b2xkRG9tLFxuXHRcdFx0XHRpc0h5ZHJhdGluZ1xuXHRcdFx0KTtcblxuXHRcdFx0Yy5iYXNlID0gbmV3Vk5vZGUuX2RvbTtcblxuXHRcdFx0aWYgKGMuX3JlbmRlckNhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRcdFx0Y29tbWl0UXVldWUucHVzaChjKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbikge1xuXHRcdFx0XHRjLl9wZW5kaW5nRXJyb3IgPSBjLl9wcm9jZXNzaW5nRXhjZXB0aW9uID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Yy5fZm9yY2UgPSBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRuZXdWTm9kZS5fZG9tID0gZGlmZkVsZW1lbnROb2Rlcyhcblx0XHRcdFx0b2xkVk5vZGUuX2RvbSxcblx0XHRcdFx0bmV3Vk5vZGUsXG5cdFx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0XHRjb250ZXh0LFxuXHRcdFx0XHRpc1N2Zyxcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0XHRpc0h5ZHJhdGluZ1xuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRpZiAoKHRtcCA9IG9wdGlvbnMuZGlmZmVkKSkgdG1wKG5ld1ZOb2RlKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgbmV3Vk5vZGUsIG9sZFZOb2RlKTtcblx0fVxuXG5cdHJldHVybiBuZXdWTm9kZS5fZG9tO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSByb290XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21taXRSb290KGNvbW1pdFF1ZXVlLCByb290KSB7XG5cdGlmIChvcHRpb25zLl9jb21taXQpIG9wdGlvbnMuX2NvbW1pdChyb290LCBjb21taXRRdWV1ZSk7XG5cblx0Y29tbWl0UXVldWUuc29tZShjID0+IHtcblx0XHR0cnkge1xuXHRcdFx0Y29tbWl0UXVldWUgPSBjLl9yZW5kZXJDYWxsYmFja3M7XG5cdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdGNvbW1pdFF1ZXVlLnNvbWUoY2IgPT4ge1xuXHRcdFx0XHRjYi5jYWxsKGMpO1xuXHRcdFx0fSk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0b3B0aW9ucy5fY2F0Y2hFcnJvcihlLCBjLl92bm9kZSk7XG5cdFx0fVxuXHR9KTtcbn1cblxuLyoqXG4gKiBEaWZmIHR3byB2aXJ0dWFsIG5vZGVzIHJlcHJlc2VudGluZyBET00gZWxlbWVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gZG9tIFRoZSBET00gZWxlbWVudCByZXByZXNlbnRpbmdcbiAqIHRoZSB2aXJ0dWFsIG5vZGVzIGJlaW5nIGRpZmZlZFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG5ld1ZOb2RlIFRoZSBuZXcgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gb2xkVk5vZGUgVGhlIG9sZCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0IFRoZSBjdXJyZW50IGNvbnRleHQgb2JqZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgRE9NIG5vZGUgaXMgYW4gU1ZHIG5vZGVcbiAqIEBwYXJhbSB7Kn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNIeWRyYXRpbmcgV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvblxuICogQHJldHVybnMge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fVxuICovXG5mdW5jdGlvbiBkaWZmRWxlbWVudE5vZGVzKFxuXHRkb20sXG5cdG5ld1ZOb2RlLFxuXHRvbGRWTm9kZSxcblx0Y29udGV4dCxcblx0aXNTdmcsXG5cdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRjb21taXRRdWV1ZSxcblx0aXNIeWRyYXRpbmdcbikge1xuXHRsZXQgaTtcblx0bGV0IG9sZFByb3BzID0gb2xkVk5vZGUucHJvcHM7XG5cdGxldCBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xuXG5cdC8vIFRyYWNrcyBlbnRlcmluZyBhbmQgZXhpdGluZyBTVkcgbmFtZXNwYWNlIHdoZW4gZGVzY2VuZGluZyB0aHJvdWdoIHRoZSB0cmVlLlxuXHRpc1N2ZyA9IG5ld1ZOb2RlLnR5cGUgPT09ICdzdmcnIHx8IGlzU3ZnO1xuXG5cdGlmIChkb20gPT0gbnVsbCAmJiBleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsKSB7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGV4Y2Vzc0RvbUNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjaGlsZCA9IGV4Y2Vzc0RvbUNoaWxkcmVuW2ldO1xuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGNoaWxkICE9IG51bGwgJiZcblx0XHRcdFx0KG5ld1ZOb2RlLnR5cGUgPT09IG51bGxcblx0XHRcdFx0XHQ/IGNoaWxkLm5vZGVUeXBlID09PSAzXG5cdFx0XHRcdFx0OiBjaGlsZC5sb2NhbE5hbWUgPT09IG5ld1ZOb2RlLnR5cGUpXG5cdFx0XHQpIHtcblx0XHRcdFx0ZG9tID0gY2hpbGQ7XG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuW2ldID0gbnVsbDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKGRvbSA9PSBudWxsKSB7XG5cdFx0aWYgKG5ld1ZOb2RlLnR5cGUgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuZXdQcm9wcyk7XG5cdFx0fVxuXHRcdGRvbSA9IGlzU3ZnXG5cdFx0XHQ/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBuZXdWTm9kZS50eXBlKVxuXHRcdFx0OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5ld1ZOb2RlLnR5cGUpO1xuXHRcdC8vIHdlIGNyZWF0ZWQgYSBuZXcgcGFyZW50LCBzbyBub25lIG9mIHRoZSBwcmV2aW91c2x5IGF0dGFjaGVkIGNoaWxkcmVuIGNhbiBiZSByZXVzZWQ6XG5cdFx0ZXhjZXNzRG9tQ2hpbGRyZW4gPSBudWxsO1xuXHR9XG5cblx0aWYgKG5ld1ZOb2RlLnR5cGUgPT09IG51bGwpIHtcblx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW5bZXhjZXNzRG9tQ2hpbGRyZW4uaW5kZXhPZihkb20pXSA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcyAmJiBkb20uZGF0YSAhPSBuZXdQcm9wcykge1xuXHRcdFx0ZG9tLmRhdGEgPSBuZXdQcm9wcztcblx0XHR9XG5cdH0gZWxzZSBpZiAobmV3Vk5vZGUgIT09IG9sZFZOb2RlKSB7XG5cdFx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID0gRU1QVFlfQVJSLnNsaWNlLmNhbGwoZG9tLmNoaWxkTm9kZXMpO1xuXHRcdH1cblxuXHRcdG9sZFByb3BzID0gb2xkVk5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xuXG5cdFx0bGV0IG9sZEh0bWwgPSBvbGRQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTDtcblx0XHRsZXQgbmV3SHRtbCA9IG5ld1Byb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MO1xuXG5cdFx0Ly8gRHVyaW5nIGh5ZHJhdGlvbiwgcHJvcHMgYXJlIG5vdCBkaWZmZWQgYXQgYWxsIChpbmNsdWRpbmcgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpXG5cdFx0Ly8gQFRPRE8gd2Ugc2hvdWxkIHdhcm4gaW4gZGVidWcgbW9kZSB3aGVuIHByb3BzIGRvbid0IG1hdGNoIGhlcmUuXG5cdFx0aWYgKCFpc0h5ZHJhdGluZykge1xuXHRcdFx0aWYgKG9sZFByb3BzID09PSBFTVBUWV9PQkopIHtcblx0XHRcdFx0b2xkUHJvcHMgPSB7fTtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkb20uYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdG9sZFByb3BzW2RvbS5hdHRyaWJ1dGVzW2ldLm5hbWVdID0gZG9tLmF0dHJpYnV0ZXNbaV0udmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKG5ld0h0bWwgfHwgb2xkSHRtbCkge1xuXHRcdFx0XHQvLyBBdm9pZCByZS1hcHBseWluZyB0aGUgc2FtZSAnX19odG1sJyBpZiBpdCBkaWQgbm90IGNoYW5nZWQgYmV0d2VlbiByZS1yZW5kZXJcblx0XHRcdFx0aWYgKCFuZXdIdG1sIHx8ICFvbGRIdG1sIHx8IG5ld0h0bWwuX19odG1sICE9IG9sZEh0bWwuX19odG1sKSB7XG5cdFx0XHRcdFx0ZG9tLmlubmVySFRNTCA9IChuZXdIdG1sICYmIG5ld0h0bWwuX19odG1sKSB8fCAnJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRpZmZQcm9wcyhkb20sIG5ld1Byb3BzLCBvbGRQcm9wcywgaXNTdmcsIGlzSHlkcmF0aW5nKTtcblxuXHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IG5ld1ZOb2RlLnByb3BzLmNoaWxkcmVuO1xuXG5cdFx0Ly8gSWYgdGhlIG5ldyB2bm9kZSBkaWRuJ3QgaGF2ZSBkYW5nZXJvdXNseVNldElubmVySFRNTCwgZGlmZiBpdHMgY2hpbGRyZW5cblx0XHRpZiAoIW5ld0h0bWwpIHtcblx0XHRcdGRpZmZDaGlsZHJlbihcblx0XHRcdFx0ZG9tLFxuXHRcdFx0XHRuZXdWTm9kZSxcblx0XHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRcdGNvbnRleHQsXG5cdFx0XHRcdG5ld1ZOb2RlLnR5cGUgPT09ICdmb3JlaWduT2JqZWN0JyA/IGZhbHNlIDogaXNTdmcsXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0RU1QVFlfT0JKLFxuXHRcdFx0XHRpc0h5ZHJhdGluZ1xuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyAoYXMgYWJvdmUsIGRvbid0IGRpZmYgcHJvcHMgZHVyaW5nIGh5ZHJhdGlvbilcblx0XHRpZiAoIWlzSHlkcmF0aW5nKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCd2YWx1ZScgaW4gbmV3UHJvcHMgJiZcblx0XHRcdFx0bmV3UHJvcHMudmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRuZXdQcm9wcy52YWx1ZSAhPT0gZG9tLnZhbHVlXG5cdFx0XHQpIHtcblx0XHRcdFx0ZG9tLnZhbHVlID0gbmV3UHJvcHMudmFsdWUgPT0gbnVsbCA/ICcnIDogbmV3UHJvcHMudmFsdWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCdjaGVja2VkJyBpbiBuZXdQcm9wcyAmJlxuXHRcdFx0XHRuZXdQcm9wcy5jaGVja2VkICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0bmV3UHJvcHMuY2hlY2tlZCAhPT0gZG9tLmNoZWNrZWRcblx0XHRcdCkge1xuXHRcdFx0XHRkb20uY2hlY2tlZCA9IG5ld1Byb3BzLmNoZWNrZWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGRvbTtcbn1cblxuLyoqXG4gKiBJbnZva2Ugb3IgdXBkYXRlIGEgcmVmLCBkZXBlbmRpbmcgb24gd2hldGhlciBpdCBpcyBhIGZ1bmN0aW9uIG9yIG9iamVjdCByZWYuXG4gKiBAcGFyYW0ge29iamVjdHxmdW5jdGlvbn0gcmVmXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlSZWYocmVmLCB2YWx1ZSwgdm5vZGUpIHtcblx0dHJ5IHtcblx0XHRpZiAodHlwZW9mIHJlZiA9PSAnZnVuY3Rpb24nKSByZWYodmFsdWUpO1xuXHRcdGVsc2UgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgdm5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogVW5tb3VudCBhIHZpcnR1YWwgbm9kZSBmcm9tIHRoZSB0cmVlIGFuZCBhcHBseSBET00gY2hhbmdlc1xuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IHZub2RlIFRoZSB2aXJ0dWFsIG5vZGUgdG8gdW5tb3VudFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IHBhcmVudFZOb2RlIFRoZSBwYXJlbnQgb2YgdGhlIFZOb2RlIHRoYXRcbiAqIGluaXRpYXRlZCB0aGUgdW5tb3VudFxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZV0gRmxhZyB0aGF0IGluZGljYXRlcyB0aGF0IGEgcGFyZW50IG5vZGUgb2YgdGhlXG4gKiBjdXJyZW50IGVsZW1lbnQgaXMgYWxyZWFkeSBkZXRhY2hlZCBmcm9tIHRoZSBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bm1vdW50KHZub2RlLCBwYXJlbnRWTm9kZSwgc2tpcFJlbW92ZSkge1xuXHRsZXQgcjtcblx0aWYgKG9wdGlvbnMudW5tb3VudCkgb3B0aW9ucy51bm1vdW50KHZub2RlKTtcblxuXHRpZiAoKHIgPSB2bm9kZS5yZWYpKSB7XG5cdFx0aWYgKCFyLmN1cnJlbnQgfHwgci5jdXJyZW50ID09PSB2bm9kZS5fZG9tKSBhcHBseVJlZihyLCBudWxsLCBwYXJlbnRWTm9kZSk7XG5cdH1cblxuXHRsZXQgZG9tO1xuXHRpZiAoIXNraXBSZW1vdmUgJiYgdHlwZW9mIHZub2RlLnR5cGUgIT09ICdmdW5jdGlvbicpIHtcblx0XHRza2lwUmVtb3ZlID0gKGRvbSA9IHZub2RlLl9kb20pICE9IG51bGw7XG5cdH1cblxuXHR2bm9kZS5fZG9tID0gdm5vZGUuX2xhc3REb21DaGlsZCA9IG51bGw7XG5cblx0aWYgKChyID0gdm5vZGUuX2NvbXBvbmVudCkgIT0gbnVsbCkge1xuXHRcdGlmIChyLmNvbXBvbmVudFdpbGxVbm1vdW50KSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgcGFyZW50Vk5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHIuYmFzZSA9IHIuX3BhcmVudERvbSA9IG51bGw7XG5cdH1cblxuXHRpZiAoKHIgPSB2bm9kZS5fY2hpbGRyZW4pKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAocltpXSkgdW5tb3VudChyW2ldLCBwYXJlbnRWTm9kZSwgc2tpcFJlbW92ZSk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGRvbSAhPSBudWxsKSByZW1vdmVOb2RlKGRvbSk7XG59XG5cbi8qKiBUaGUgYC5yZW5kZXIoKWAgbWV0aG9kIGZvciBhIFBGQyBiYWNraW5nIGluc3RhbmNlLiAqL1xuZnVuY3Rpb24gZG9SZW5kZXIocHJvcHMsIHN0YXRlLCBjb250ZXh0KSB7XG5cdHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KTtcbn1cbiIsImltcG9ydCB7IGFzc2lnbiB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgeyBFTVBUWV9BUlIgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjcmVhdGVWTm9kZSB9IGZyb20gJy4vY3JlYXRlLWVsZW1lbnQnO1xuXG4vKipcbiAqIENsb25lcyB0aGUgZ2l2ZW4gVk5vZGUsIG9wdGlvbmFsbHkgYWRkaW5nIGF0dHJpYnV0ZXMvcHJvcHMgYW5kIHJlcGxhY2luZyBpdHMgY2hpbGRyZW4uXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdmlydHVhbCBET00gZWxlbWVudCB0byBjbG9uZVxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIEF0dHJpYnV0ZXMvcHJvcHMgdG8gYWRkIHdoZW4gY2xvbmluZ1xuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4vaW5kZXgnKS5Db21wb25lbnRDaGlsZHJlbj59IHJlc3QgQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIHdpbGwgYmUgdXNlZCBhcyByZXBsYWNlbWVudCBjaGlsZHJlbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRWxlbWVudCh2bm9kZSwgcHJvcHMpIHtcblx0cHJvcHMgPSBhc3NpZ24oYXNzaWduKHt9LCB2bm9kZS5wcm9wcyksIHByb3BzKTtcblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKSBwcm9wcy5jaGlsZHJlbiA9IEVNUFRZX0FSUi5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG5cdHJldHVybiBjcmVhdGVWTm9kZShcblx0XHR2bm9kZS50eXBlLFxuXHRcdHByb3BzLFxuXHRcdHByb3BzLmtleSB8fCB2bm9kZS5rZXksXG5cdFx0cHJvcHMucmVmIHx8IHZub2RlLnJlZlxuXHQpO1xufVxuIiwiaW1wb3J0IHsgZW5xdWV1ZVJlbmRlciB9IGZyb20gJy4uL2NvbXBvbmVudCc7XG5cbi8qKlxuICogRmluZCB0aGUgY2xvc2VzdCBlcnJvciBib3VuZGFyeSB0byBhIHRocm93biBlcnJvciBhbmQgY2FsbCBpdFxuICogQHBhcmFtIHtvYmplY3R9IGVycm9yIFRoZSB0aHJvd24gdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdm5vZGUgdGhhdCB0aHJld1xuICogdGhlIGVycm9yIHRoYXQgd2FzIGNhdWdodCAoZXhjZXB0IGZvciB1bm1vdW50aW5nIHdoZW4gdGhpcyBwYXJhbWV0ZXJcbiAqIGlzIHRoZSBoaWdoZXN0IHBhcmVudCB0aGF0IHdhcyBiZWluZyB1bm1vdW50ZWQpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfY2F0Y2hFcnJvcihlcnJvciwgdm5vZGUpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50fSAqL1xuXHRsZXQgY29tcG9uZW50LCBoYXNDYXVnaHQ7XG5cblx0Zm9yICg7ICh2bm9kZSA9IHZub2RlLl9wYXJlbnQpOyApIHtcblx0XHRpZiAoKGNvbXBvbmVudCA9IHZub2RlLl9jb21wb25lbnQpICYmICFjb21wb25lbnQuX3Byb2Nlc3NpbmdFeGNlcHRpb24pIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRjb21wb25lbnQuY29uc3RydWN0b3IgJiZcblx0XHRcdFx0XHRjb21wb25lbnQuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yICE9IG51bGxcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0aGFzQ2F1Z2h0ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb21wb25lbnQuc2V0U3RhdGUoXG5cdFx0XHRcdFx0XHRjb21wb25lbnQuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZENhdGNoICE9IG51bGwpIHtcblx0XHRcdFx0XHRoYXNDYXVnaHQgPSB0cnVlO1xuXHRcdFx0XHRcdGNvbXBvbmVudC5jb21wb25lbnREaWRDYXRjaChlcnJvcik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaGFzQ2F1Z2h0KVxuXHRcdFx0XHRcdHJldHVybiBlbnF1ZXVlUmVuZGVyKChjb21wb25lbnQuX3BlbmRpbmdFcnJvciA9IGNvbXBvbmVudCkpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRlcnJvciA9IGU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0dGhyb3cgZXJyb3I7XG59XG4iLCJpbXBvcnQge1xuXHRjcmVhdGVFbGVtZW50LFxuXHRyZW5kZXIgYXMgcHJlYWN0UmVuZGVyLFxuXHRjbG9uZUVsZW1lbnQgYXMgcHJlYWN0Q2xvbmVFbGVtZW50LFxuXHRjcmVhdGVSZWYsXG5cdENvbXBvbmVudCxcblx0Y3JlYXRlQ29udGV4dCxcblx0RnJhZ21lbnRcbn0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7XG5cdHVzZVN0YXRlLFxuXHR1c2VSZWR1Y2VyLFxuXHR1c2VFZmZlY3QsXG5cdHVzZUxheW91dEVmZmVjdCxcblx0dXNlUmVmLFxuXHR1c2VJbXBlcmF0aXZlSGFuZGxlLFxuXHR1c2VNZW1vLFxuXHR1c2VDYWxsYmFjayxcblx0dXNlQ29udGV4dCxcblx0dXNlRGVidWdWYWx1ZVxufSBmcm9tICdwcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgUHVyZUNvbXBvbmVudCB9IGZyb20gJy4vUHVyZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBtZW1vIH0gZnJvbSAnLi9tZW1vJztcbmltcG9ydCB7IGZvcndhcmRSZWYgfSBmcm9tICcuL2ZvcndhcmRSZWYnO1xuaW1wb3J0IHsgQ2hpbGRyZW4gfSBmcm9tICcuL0NoaWxkcmVuJztcbmltcG9ydCB7IFN1c3BlbnNlLCBsYXp5IH0gZnJvbSAnLi9zdXNwZW5zZSc7XG5pbXBvcnQgeyBTdXNwZW5zZUxpc3QgfSBmcm9tICcuL3N1c3BlbnNlLWxpc3QnO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAnLi9wb3J0YWxzJztcbmltcG9ydCB7IGh5ZHJhdGUsIHJlbmRlciwgUkVBQ1RfRUxFTUVOVF9UWVBFIH0gZnJvbSAnLi9yZW5kZXInO1xuXG5jb25zdCB2ZXJzaW9uID0gJzE2LjguMCc7IC8vIHRyaWNrIGxpYnJhcmllcyB0byB0aGluayB3ZSBhcmUgcmVhY3RcblxuLyoqXG4gKiBMZWdhY3kgdmVyc2lvbiBvZiBjcmVhdGVFbGVtZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZVtcInR5cGVcIl19IHR5cGUgVGhlIG5vZGUgbmFtZSBvciBDb21wb25lbnQgY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gY3JlYXRlRmFjdG9yeSh0eXBlKSB7XG5cdHJldHVybiBjcmVhdGVFbGVtZW50LmJpbmQobnVsbCwgdHlwZSk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHBhc3NlZCBlbGVtZW50IGlzIGEgdmFsaWQgKHApcmVhY3Qgbm9kZS5cbiAqIEBwYXJhbSB7Kn0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBjaGVja1xuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KGVsZW1lbnQpIHtcblx0cmV0dXJuICEhZWxlbWVudCAmJiBlbGVtZW50LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG5cbi8qKlxuICogV3JhcCBgY2xvbmVFbGVtZW50YCB0byBhYm9ydCBpZiB0aGUgcGFzc2VkIGVsZW1lbnQgaXMgbm90IGEgdmFsaWQgZWxlbWVudCBhbmQgYXBwbHlcbiAqIGFsbCB2bm9kZSBub3JtYWxpemF0aW9ucy5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IGVsZW1lbnQgVGhlIHZub2RlIHRvIGNsb25lXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgUHJvcHMgdG8gYWRkIHdoZW4gY2xvbmluZ1xuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnRDaGlsZHJlbj59IHJlc3QgT3B0aW9uYWwgY29tcG9uZW50IGNoaWxkcmVuXG4gKi9cbmZ1bmN0aW9uIGNsb25lRWxlbWVudChlbGVtZW50KSB7XG5cdGlmICghaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHJldHVybiBlbGVtZW50O1xuXHRyZXR1cm4gcHJlYWN0Q2xvbmVFbGVtZW50LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgY29tcG9uZW50IHRyZWUgZnJvbSB0aGUgRE9NLCBpbmNsdWRpbmcgc3RhdGUgYW5kIGV2ZW50IGhhbmRsZXJzLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBjb250YWluZXJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50QXROb2RlKGNvbnRhaW5lcikge1xuXHRpZiAoY29udGFpbmVyLl9jaGlsZHJlbikge1xuXHRcdHByZWFjdFJlbmRlcihudWxsLCBjb250YWluZXIpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG1hdGNoaW5nIERPTSBub2RlIGZvciBhIGNvbXBvbmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9IGNvbXBvbmVudFxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnQgfCBudWxsfVxuICovXG5mdW5jdGlvbiBmaW5kRE9NTm9kZShjb21wb25lbnQpIHtcblx0cmV0dXJuIChcblx0XHQoY29tcG9uZW50ICYmXG5cdFx0XHQoY29tcG9uZW50LmJhc2UgfHwgKGNvbXBvbmVudC5ub2RlVHlwZSA9PT0gMSAmJiBjb21wb25lbnQpKSkgfHxcblx0XHRudWxsXG5cdCk7XG59XG5cbi8qKlxuICogRGVwcmVjYXRlZCB3YXkgdG8gY29udHJvbCBiYXRjaGVkIHJlbmRlcmluZyBpbnNpZGUgdGhlIHJlY29uY2lsZXIsIGJ1dCB3ZVxuICogYWxyZWFkeSBzY2hlZHVsZSBpbiBiYXRjaGVzIGluc2lkZSBvdXIgcmVuZGVyaW5nIGNvZGVcbiAqIEB0ZW1wbGF0ZSBBcmdcbiAqIEBwYXJhbSB7KGFyZzogQXJnKSA9PiB2b2lkfSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHRyaWdnZXJzIHRoZSB1cGRhdGVkXG4gKiBAcGFyYW0ge0FyZ30gW2FyZ10gT3B0aW9uYWwgYXJndW1lbnQgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBjYWxsYmFja1xuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5jb25zdCB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyA9IChjYWxsYmFjaywgYXJnKSA9PiBjYWxsYmFjayhhcmcpO1xuXG5leHBvcnQgKiBmcm9tICdwcmVhY3QvaG9va3MnO1xuZXhwb3J0IHtcblx0dmVyc2lvbixcblx0Q2hpbGRyZW4sXG5cdHJlbmRlcixcblx0aHlkcmF0ZSxcblx0dW5tb3VudENvbXBvbmVudEF0Tm9kZSxcblx0Y3JlYXRlUG9ydGFsLFxuXHRjcmVhdGVFbGVtZW50LFxuXHRjcmVhdGVDb250ZXh0LFxuXHRjcmVhdGVGYWN0b3J5LFxuXHRjbG9uZUVsZW1lbnQsXG5cdGNyZWF0ZVJlZixcblx0RnJhZ21lbnQsXG5cdGlzVmFsaWRFbGVtZW50LFxuXHRmaW5kRE9NTm9kZSxcblx0Q29tcG9uZW50LFxuXHRQdXJlQ29tcG9uZW50LFxuXHRtZW1vLFxuXHRmb3J3YXJkUmVmLFxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5cdHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzLFxuXHRTdXNwZW5zZSxcblx0U3VzcGVuc2VMaXN0LFxuXHRsYXp5XG59O1xuXG4vLyBSZWFjdCBjb3BpZXMgdGhlIG5hbWVkIGV4cG9ydHMgdG8gdGhlIGRlZmF1bHQgb25lLlxuZXhwb3J0IGRlZmF1bHQge1xuXHR1c2VTdGF0ZSxcblx0dXNlUmVkdWNlcixcblx0dXNlRWZmZWN0LFxuXHR1c2VMYXlvdXRFZmZlY3QsXG5cdHVzZVJlZixcblx0dXNlSW1wZXJhdGl2ZUhhbmRsZSxcblx0dXNlTWVtbyxcblx0dXNlQ2FsbGJhY2ssXG5cdHVzZUNvbnRleHQsXG5cdHVzZURlYnVnVmFsdWUsXG5cdHZlcnNpb24sXG5cdENoaWxkcmVuLFxuXHRyZW5kZXIsXG5cdGh5ZHJhdGU6IHJlbmRlcixcblx0dW5tb3VudENvbXBvbmVudEF0Tm9kZSxcblx0Y3JlYXRlUG9ydGFsLFxuXHRjcmVhdGVFbGVtZW50LFxuXHRjcmVhdGVDb250ZXh0LFxuXHRjcmVhdGVGYWN0b3J5LFxuXHRjbG9uZUVsZW1lbnQsXG5cdGNyZWF0ZVJlZixcblx0RnJhZ21lbnQsXG5cdGlzVmFsaWRFbGVtZW50LFxuXHRmaW5kRE9NTm9kZSxcblx0Q29tcG9uZW50LFxuXHRQdXJlQ29tcG9uZW50LFxuXHRtZW1vLFxuXHRmb3J3YXJkUmVmLFxuXHR1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyxcblx0U3VzcGVuc2UsXG5cdFN1c3BlbnNlTGlzdCxcblx0bGF6eVxufTtcbiIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBzaGFsbG93RGlmZmVycyB9IGZyb20gJy4vdXRpbCc7XG5cbi8qKlxuICogQ29tcG9uZW50IGNsYXNzIHdpdGggYSBwcmVkZWZpbmVkIGBzaG91bGRDb21wb25lbnRVcGRhdGVgIGltcGxlbWVudGF0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBQdXJlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3IocHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdFx0Ly8gU29tZSB0aGlyZC1wYXJ0eSBsaWJyYXJpZXMgY2hlY2sgaWYgdGhpcyBwcm9wZXJ0eSBpcyBwcmVzZW50XG5cdFx0dGhpcy5pc1B1cmVSZWFjdENvbXBvbmVudCA9IHRydWU7XG5cdH1cblxuXHRzaG91bGRDb21wb25lbnRVcGRhdGUocHJvcHMsIHN0YXRlKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdHNoYWxsb3dEaWZmZXJzKHRoaXMucHJvcHMsIHByb3BzKSB8fCBzaGFsbG93RGlmZmVycyh0aGlzLnN0YXRlLCBzdGF0ZSlcblx0XHQpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IHNoYWxsb3dEaWZmZXJzLCBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIE1lbW9pemUgYSBjb21wb25lbnQsIHNvIHRoYXQgaXQgb25seSB1cGRhdGVzIHdoZW4gdGhlIHByb3BzIGFjdHVhbGx5IGhhdmVcbiAqIGNoYW5nZWQuIFRoaXMgd2FzIHByZXZpb3VzbHkga25vd24gYXMgYFJlYWN0LnB1cmVgLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5GdW5jdGlvbmFsQ29tcG9uZW50fSBjIGZ1bmN0aW9uYWwgY29tcG9uZW50XG4gKiBAcGFyYW0geyhwcmV2OiBvYmplY3QsIG5leHQ6IG9iamVjdCkgPT4gYm9vbGVhbn0gW2NvbXBhcmVyXSBDdXN0b20gZXF1YWxpdHkgZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5GdW5jdGlvbmFsQ29tcG9uZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVtbyhjLCBjb21wYXJlcikge1xuXHRmdW5jdGlvbiBzaG91bGRVcGRhdGUobmV4dFByb3BzKSB7XG5cdFx0bGV0IHJlZiA9IHRoaXMucHJvcHMucmVmO1xuXHRcdGxldCB1cGRhdGVSZWYgPSByZWYgPT0gbmV4dFByb3BzLnJlZjtcblx0XHRpZiAoIXVwZGF0ZVJlZiAmJiByZWYpIHtcblx0XHRcdHJlZi5jYWxsID8gcmVmKG51bGwpIDogKHJlZi5jdXJyZW50ID0gbnVsbCk7XG5cdFx0fVxuXG5cdFx0aWYgKCFjb21wYXJlcikge1xuXHRcdFx0cmV0dXJuIHNoYWxsb3dEaWZmZXJzKHRoaXMucHJvcHMsIG5leHRQcm9wcyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuICFjb21wYXJlcih0aGlzLnByb3BzLCBuZXh0UHJvcHMpIHx8ICF1cGRhdGVSZWY7XG5cdH1cblxuXHRmdW5jdGlvbiBNZW1vZWQocHJvcHMpIHtcblx0XHR0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IHNob3VsZFVwZGF0ZTtcblx0XHRyZXR1cm4gY3JlYXRlRWxlbWVudChjLCBhc3NpZ24oe30sIHByb3BzKSk7XG5cdH1cblx0TWVtb2VkLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0gdHJ1ZTtcblx0TWVtb2VkLmRpc3BsYXlOYW1lID0gJ01lbW8oJyArIChjLmRpc3BsYXlOYW1lIHx8IGMubmFtZSkgKyAnKSc7XG5cdE1lbW9lZC5fZm9yd2FyZGVkID0gdHJ1ZTtcblx0cmV0dXJuIE1lbW9lZDtcbn1cbiIsImltcG9ydCB7IG9wdGlvbnMgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcblxubGV0IG9sZFZOb2RlSG9vayA9IG9wdGlvbnMudm5vZGU7XG5vcHRpb25zLnZub2RlID0gdm5vZGUgPT4ge1xuXHRpZiAodm5vZGUudHlwZSAmJiB2bm9kZS50eXBlLl9mb3J3YXJkZWQgJiYgdm5vZGUucmVmKSB7XG5cdFx0dm5vZGUucHJvcHMucmVmID0gdm5vZGUucmVmO1xuXHRcdHZub2RlLnJlZiA9IG51bGw7XG5cdH1cblxuXHRpZiAob2xkVk5vZGVIb29rKSBvbGRWTm9kZUhvb2sodm5vZGUpO1xufTtcblxuLyoqXG4gKiBQYXNzIHJlZiBkb3duIHRvIGEgY2hpbGQuIFRoaXMgaXMgbWFpbmx5IHVzZWQgaW4gbGlicmFyaWVzIHdpdGggSE9DcyB0aGF0XG4gKiB3cmFwIGNvbXBvbmVudHMuIFVzaW5nIGBmb3J3YXJkUmVmYCB0aGVyZSBpcyBhbiBlYXN5IHdheSB0byBnZXQgYSByZWZlcmVuY2VcbiAqIG9mIHRoZSB3cmFwcGVkIGNvbXBvbmVudCBpbnN0ZWFkIG9mIG9uZSBvZiB0aGUgd3JhcHBlciBpdHNlbGYuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbmRleCcpLkZvcndhcmRGbn0gZm5cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5GdW5jdGlvbmFsQ29tcG9uZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yd2FyZFJlZihmbikge1xuXHRmdW5jdGlvbiBGb3J3YXJkZWQocHJvcHMpIHtcblx0XHRsZXQgY2xvbmUgPSBhc3NpZ24oe30sIHByb3BzKTtcblx0XHRkZWxldGUgY2xvbmUucmVmO1xuXHRcdHJldHVybiBmbihjbG9uZSwgcHJvcHMucmVmKTtcblx0fVxuXHRGb3J3YXJkZWQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB0cnVlO1xuXHRGb3J3YXJkZWQuX2ZvcndhcmRlZCA9IHRydWU7XG5cdEZvcndhcmRlZC5kaXNwbGF5TmFtZSA9ICdGb3J3YXJkUmVmKCcgKyAoZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSkgKyAnKSc7XG5cdHJldHVybiBGb3J3YXJkZWQ7XG59XG4iLCJpbXBvcnQgeyB0b0NoaWxkQXJyYXkgfSBmcm9tICdwcmVhY3QnO1xuXG5jb25zdCBtYXBGbiA9IChjaGlsZHJlbiwgZm4pID0+IHtcblx0aWYgKCFjaGlsZHJlbikgcmV0dXJuIG51bGw7XG5cdHJldHVybiB0b0NoaWxkQXJyYXkoY2hpbGRyZW4pLm1hcChmbik7XG59O1xuXG4vLyBUaGlzIEFQSSBpcyBjb21wbGV0ZWx5IHVubmVjZXNzYXJ5IGZvciBQcmVhY3QsIHNvIGl0J3MgYmFzaWNhbGx5IHBhc3N0aHJvdWdoLlxuZXhwb3J0IGNvbnN0IENoaWxkcmVuID0ge1xuXHRtYXA6IG1hcEZuLFxuXHRmb3JFYWNoOiBtYXBGbixcblx0Y291bnQoY2hpbGRyZW4pIHtcblx0XHRyZXR1cm4gY2hpbGRyZW4gPyB0b0NoaWxkQXJyYXkoY2hpbGRyZW4pLmxlbmd0aCA6IDA7XG5cdH0sXG5cdG9ubHkoY2hpbGRyZW4pIHtcblx0XHRjaGlsZHJlbiA9IHRvQ2hpbGRBcnJheShjaGlsZHJlbik7XG5cdFx0aWYgKGNoaWxkcmVuLmxlbmd0aCAhPT0gMSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDaGlsZHJlbi5vbmx5KCkgZXhwZWN0cyBvbmx5IG9uZSBjaGlsZC4nKTtcblx0XHR9XG5cdFx0cmV0dXJuIGNoaWxkcmVuWzBdO1xuXHR9LFxuXHR0b0FycmF5OiB0b0NoaWxkQXJyYXlcbn07XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIGNyZWF0ZUVsZW1lbnQsIG9wdGlvbnMgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcblxuY29uc3Qgb2xkQ2F0Y2hFcnJvciA9IG9wdGlvbnMuX2NhdGNoRXJyb3I7XG5vcHRpb25zLl9jYXRjaEVycm9yID0gZnVuY3Rpb24oZXJyb3IsIG5ld1ZOb2RlLCBvbGRWTm9kZSkge1xuXHRpZiAoZXJyb3IudGhlbikge1xuXHRcdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSAqL1xuXHRcdGxldCBjb21wb25lbnQ7XG5cdFx0bGV0IHZub2RlID0gbmV3Vk5vZGU7XG5cblx0XHRmb3IgKDsgKHZub2RlID0gdm5vZGUuX3BhcmVudCk7ICkge1xuXHRcdFx0aWYgKChjb21wb25lbnQgPSB2bm9kZS5fY29tcG9uZW50KSAmJiBjb21wb25lbnQuX2NoaWxkRGlkU3VzcGVuZCkge1xuXHRcdFx0XHQvLyBEb24ndCBjYWxsIG9sZENhdGNoRXJyb3IgaWYgd2UgZm91bmQgYSBTdXNwZW5zZVxuXHRcdFx0XHRyZXR1cm4gY29tcG9uZW50Ll9jaGlsZERpZFN1c3BlbmQoZXJyb3IsIG5ld1ZOb2RlLl9jb21wb25lbnQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRvbGRDYXRjaEVycm9yKGVycm9yLCBuZXdWTm9kZSwgb2xkVk5vZGUpO1xufTtcblxuZnVuY3Rpb24gZGV0YWNoZWRDbG9uZSh2bm9kZSkge1xuXHRpZiAodm5vZGUpIHtcblx0XHR2bm9kZSA9IGFzc2lnbih7fSwgdm5vZGUpO1xuXHRcdHZub2RlLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdHZub2RlLl9jaGlsZHJlbiA9IHZub2RlLl9jaGlsZHJlbiAmJiB2bm9kZS5fY2hpbGRyZW4ubWFwKGRldGFjaGVkQ2xvbmUpO1xuXHR9XG5cdHJldHVybiB2bm9kZTtcbn1cblxuLy8gaGF2aW5nIGN1c3RvbSBpbmhlcml0YW5jZSBpbnN0ZWFkIG9mIGEgY2xhc3MgaGVyZSBzYXZlcyBhIGxvdCBvZiBieXRlc1xuZXhwb3J0IGZ1bmN0aW9uIFN1c3BlbnNlKHByb3BzKSB7XG5cdC8vIHdlIGRvIG5vdCBjYWxsIHN1cGVyIGhlcmUgdG8gZ29sZiBzb21lIGJ5dGVzLi4uXG5cdHRoaXMuX3N1c3BlbnNpb25zID0gMDtcblx0dGhpcy5fZGV0YWNoT25OZXh0UmVuZGVyID0gbnVsbDtcbn1cblxuLy8gVGhpbmdzIHdlIGRvIGhlcmUgdG8gc2F2ZSBzb21lIGJ5dGVzIGJ1dCBhcmUgbm90IHByb3BlciBKUyBpbmhlcml0YW5jZTpcbi8vIC0gY2FsbCBgbmV3IENvbXBvbmVudCgpYCBhcyB0aGUgcHJvdG90eXBlXG4vLyAtIGRvIG5vdCBzZXQgYFN1c3BlbnNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvcmAgdG8gYFN1c3BlbnNlYFxuU3VzcGVuc2UucHJvdG90eXBlID0gbmV3IENvbXBvbmVudCgpO1xuXG4vKipcbiAqIEBwYXJhbSB7UHJvbWlzZX0gcHJvbWlzZSBUaGUgdGhyb3duIHByb21pc2VcbiAqIEBwYXJhbSB7Q29tcG9uZW50PGFueSwgYW55Pn0gc3VzcGVuZGluZ0NvbXBvbmVudCBUaGUgc3VzcGVuZGluZyBjb21wb25lbnRcbiAqL1xuU3VzcGVuc2UucHJvdG90eXBlLl9jaGlsZERpZFN1c3BlbmQgPSBmdW5jdGlvbihwcm9taXNlLCBzdXNwZW5kaW5nQ29tcG9uZW50KSB7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuU3VzcGVuc2VDb21wb25lbnR9ICovXG5cdGNvbnN0IGMgPSB0aGlzO1xuXG5cdGNvbnN0IHJlc29sdmUgPSBzdXNwZW5kZWQoYy5fdm5vZGUpO1xuXG5cdGxldCByZXNvbHZlZCA9IGZhbHNlO1xuXHRjb25zdCBvblJlc29sdmVkID0gKCkgPT4ge1xuXHRcdGlmIChyZXNvbHZlZCkgcmV0dXJuO1xuXG5cdFx0cmVzb2x2ZWQgPSB0cnVlO1xuXG5cdFx0aWYgKHJlc29sdmUpIHtcblx0XHRcdHJlc29sdmUob25TdXNwZW5zaW9uQ29tcGxldGUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRvblN1c3BlbnNpb25Db21wbGV0ZSgpO1xuXHRcdH1cblx0fTtcblxuXHRzdXNwZW5kaW5nQ29tcG9uZW50Ll9zdXNwZW5kZWRDb21wb25lbnRXaWxsVW5tb3VudCA9XG5cdFx0c3VzcGVuZGluZ0NvbXBvbmVudC5jb21wb25lbnRXaWxsVW5tb3VudDtcblx0c3VzcGVuZGluZ0NvbXBvbmVudC5jb21wb25lbnRXaWxsVW5tb3VudCA9ICgpID0+IHtcblx0XHRvblJlc29sdmVkKCk7XG5cblx0XHRpZiAoc3VzcGVuZGluZ0NvbXBvbmVudC5fc3VzcGVuZGVkQ29tcG9uZW50V2lsbFVubW91bnQpIHtcblx0XHRcdHN1c3BlbmRpbmdDb21wb25lbnQuX3N1c3BlbmRlZENvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IG9uU3VzcGVuc2lvbkNvbXBsZXRlID0gKCkgPT4ge1xuXHRcdGlmICghLS1jLl9zdXNwZW5zaW9ucykge1xuXHRcdFx0Yy5fdm5vZGUuX2NoaWxkcmVuWzBdID0gYy5zdGF0ZS5fc3VzcGVuZGVkO1xuXHRcdFx0Yy5zZXRTdGF0ZSh7IF9zdXNwZW5kZWQ6IChjLl9kZXRhY2hPbk5leHRSZW5kZXIgPSBudWxsKSB9KTtcblx0XHR9XG5cdH07XG5cblx0aWYgKCFjLl9zdXNwZW5zaW9ucysrKSB7XG5cdFx0Yy5zZXRTdGF0ZSh7IF9zdXNwZW5kZWQ6IChjLl9kZXRhY2hPbk5leHRSZW5kZXIgPSBjLl92bm9kZS5fY2hpbGRyZW5bMF0pIH0pO1xuXHR9XG5cdHByb21pc2UudGhlbihvblJlc29sdmVkLCBvblJlc29sdmVkKTtcbn07XG5cblN1c3BlbnNlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihwcm9wcywgc3RhdGUpIHtcblx0aWYgKHRoaXMuX2RldGFjaE9uTmV4dFJlbmRlcikge1xuXHRcdHRoaXMuX3Zub2RlLl9jaGlsZHJlblswXSA9IGRldGFjaGVkQ2xvbmUodGhpcy5fZGV0YWNoT25OZXh0UmVuZGVyKTtcblx0XHR0aGlzLl9kZXRhY2hPbk5leHRSZW5kZXIgPSBudWxsO1xuXHR9XG5cblx0cmV0dXJuIFtcblx0XHRjcmVhdGVFbGVtZW50KENvbXBvbmVudCwgbnVsbCwgc3RhdGUuX3N1c3BlbmRlZCA/IG51bGwgOiBwcm9wcy5jaGlsZHJlbiksXG5cdFx0c3RhdGUuX3N1c3BlbmRlZCAmJiBwcm9wcy5mYWxsYmFja1xuXHRdO1xufTtcblxuLyoqXG4gKiBDaGVja3MgYW5kIGNhbGxzIHRoZSBwYXJlbnQgY29tcG9uZW50J3MgX3N1c3BlbmRlZCBtZXRob2QsIHBhc3NpbmcgaW4gdGhlXG4gKiBzdXNwZW5kZWQgdm5vZGUuIFRoaXMgaXMgYSB3YXkgZm9yIGEgcGFyZW50IChlLmcuIFN1c3BlbnNlTGlzdCkgdG8gZ2V0IG5vdGlmaWVkXG4gKiB0aGF0IG9uZSBvZiBpdHMgY2hpbGRyZW4vZGVzY2VuZGFudHMgc3VzcGVuZGVkLlxuICpcbiAqIFRoZSBwYXJlbnQgTUFZIHJldHVybiBhIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgd2lsbCBnZXQgY2FsbGVkIHdoZW4gdGhlXG4gKiBzdXNwZW5zaW9uIHJlc29sdmVzLCBub3RpZnlpbmcgdGhlIHBhcmVudCBvZiB0aGUgZmFjdC5cbiAqIE1vcmVvdmVyLCB0aGUgY2FsbGJhY2sgZ2V0cyBmdW5jdGlvbiBgdW5zdXNwZW5kYCBhcyBhIHBhcmFtZXRlci4gVGhlIHJlc29sdmVkXG4gKiBjaGlsZCBkZXNjZW5kYW50IHdpbGwgbm90IGFjdHVhbGx5IGdldCB1bnN1c3BlbmRlZCB1bnRpbCBgdW5zdXNwZW5kYCBnZXRzIGNhbGxlZC5cbiAqIFRoaXMgaXMgYSB3YXkgZm9yIHRoZSBwYXJlbnQgdG8gZGVsYXkgdW5zdXNwZW5kaW5nLlxuICpcbiAqIElmIHRoZSBwYXJlbnQgZG9lcyBub3QgcmV0dXJuIGEgY2FsbGJhY2sgdGhlbiB0aGUgcmVzb2x2ZWQgdm5vZGVcbiAqIGdldHMgdW5zdXNwZW5kZWQgaW1tZWRpYXRlbHkgd2hlbiBpdCByZXNvbHZlcy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vc3JjL2ludGVybmFsJykuVk5vZGV9IHZub2RlXG4gKiBAcmV0dXJucyB7KCh1bnN1c3BlbmQ6ICgpID0+IHZvaWQpID0+IHZvaWQpP31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1c3BlbmRlZCh2bm9kZSkge1xuXHRsZXQgY29tcG9uZW50ID0gdm5vZGUuX3BhcmVudC5fY29tcG9uZW50O1xuXHRyZXR1cm4gY29tcG9uZW50ICYmIGNvbXBvbmVudC5fc3VzcGVuZGVkICYmIGNvbXBvbmVudC5fc3VzcGVuZGVkKHZub2RlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxhenkobG9hZGVyKSB7XG5cdGxldCBwcm9tO1xuXHRsZXQgY29tcG9uZW50O1xuXHRsZXQgZXJyb3I7XG5cblx0ZnVuY3Rpb24gTGF6eShwcm9wcykge1xuXHRcdGlmICghcHJvbSkge1xuXHRcdFx0cHJvbSA9IGxvYWRlcigpO1xuXHRcdFx0cHJvbS50aGVuKFxuXHRcdFx0XHRleHBvcnRzID0+IHtcblx0XHRcdFx0XHRjb21wb25lbnQgPSBleHBvcnRzLmRlZmF1bHQgfHwgZXhwb3J0cztcblx0XHRcdFx0fSxcblx0XHRcdFx0ZSA9PiB7XG5cdFx0XHRcdFx0ZXJyb3IgPSBlO1xuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0aWYgKCFjb21wb25lbnQpIHtcblx0XHRcdHRocm93IHByb207XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZUVsZW1lbnQoY29tcG9uZW50LCBwcm9wcyk7XG5cdH1cblxuXHRMYXp5LmRpc3BsYXlOYW1lID0gJ0xhenknO1xuXHRMYXp5Ll9mb3J3YXJkZWQgPSB0cnVlO1xuXHRyZXR1cm4gTGF6eTtcbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgdG9DaGlsZEFycmF5IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IHN1c3BlbmRlZCB9IGZyb20gJy4vc3VzcGVuc2UuanMnO1xuXG4vLyBJbmRleGVzIHRvIGxpbmtlZCBsaXN0IG5vZGVzIChub2RlcyBhcmUgc3RvcmVkIGFzIGFycmF5cyB0byBzYXZlIGJ5dGVzKS5cbmNvbnN0IFNVU1BFTkRFRF9DT1VOVCA9IDA7XG5jb25zdCBSRVNPTFZFRF9DT1VOVCA9IDE7XG5jb25zdCBORVhUX05PREUgPSAyO1xuXG4vLyBIYXZpbmcgY3VzdG9tIGluaGVyaXRhbmNlIGluc3RlYWQgb2YgYSBjbGFzcyBoZXJlIHNhdmVzIGEgbG90IG9mIGJ5dGVzLlxuZXhwb3J0IGZ1bmN0aW9uIFN1c3BlbnNlTGlzdCgpIHtcblx0dGhpcy5fbmV4dCA9IG51bGw7XG5cdHRoaXMuX21hcCA9IG51bGw7XG59XG5cbi8vIE1hcmsgb25lIG9mIGNoaWxkJ3MgZWFybGllciBzdXNwZW5zaW9ucyBhcyByZXNvbHZlZC5cbi8vIFNvbWUgcGVuZGluZyBjYWxsYmFja3MgbWF5IGJlY29tZSBjYWxsYWJsZSBkdWUgdG8gdGhpc1xuLy8gKGUuZy4gdGhlIGxhc3Qgc3VzcGVuZGVkIGRlc2NlbmRhbnQgZ2V0cyByZXNvbHZlZCB3aGVuXG4vLyByZXZlYWxPcmRlciA9PT0gJ3RvZ2V0aGVyJykuIFByb2Nlc3MgdGhvc2UgY2FsbGJhY2tzIGFzIHdlbGwuXG5jb25zdCByZXNvbHZlID0gKGxpc3QsIGNoaWxkLCBub2RlKSA9PiB7XG5cdGlmICgrK25vZGVbUkVTT0xWRURfQ09VTlRdID09PSBub2RlW1NVU1BFTkRFRF9DT1VOVF0pIHtcblx0XHQvLyBUaGUgbnVtYmVyIGEgY2hpbGQgKG9yIGFueSBvZiBpdHMgZGVzY2VuZGFudHMpIGhhcyBiZWVuIHN1c3BlbmRlZFxuXHRcdC8vIG1hdGNoZXMgdGhlIG51bWJlciBvZiB0aW1lcyBpdCdzIGJlZW4gcmVzb2x2ZWQuIFRoZXJlZm9yZSB3ZVxuXHRcdC8vIG1hcmsgdGhlIGNoaWxkIGFzIGNvbXBsZXRlbHkgcmVzb2x2ZWQgYnkgZGVsZXRpbmcgaXQgZnJvbSAuX21hcC5cblx0XHQvLyBUaGlzIGlzIHVzZWQgdG8gZmlndXJlIG91dCB3aGVuICphbGwqIGNoaWxkcmVuIGhhdmUgYmVlbiBjb21wbGV0ZWx5XG5cdFx0Ly8gcmVzb2x2ZWQgd2hlbiByZXZlYWxPcmRlciBpcyAndG9nZXRoZXInLlxuXHRcdGxpc3QuX21hcC5kZWxldGUoY2hpbGQpO1xuXHR9XG5cblx0Ly8gSWYgcmV2ZWFsT3JkZXIgaXMgZmFsc3kgdGhlbiB3ZSBjYW4gZG8gYW4gZWFybHkgZXhpdCwgYXMgdGhlXG5cdC8vIGNhbGxiYWNrcyB3b24ndCBnZXQgcXVldWVkIGluIHRoZSBub2RlIGFueXdheS5cblx0Ly8gSWYgcmV2ZWFsT3JkZXIgaXMgJ3RvZ2V0aGVyJyB0aGVuIGFsc28gZG8gYW4gZWFybHkgZXhpdFxuXHQvLyBpZiBhbGwgc3VzcGVuZGVkIGRlc2NlbmRhbnRzIGhhdmUgbm90IHlldCBiZWVuIHJlc29sdmVkLlxuXHRpZiAoXG5cdFx0IWxpc3QucHJvcHMucmV2ZWFsT3JkZXIgfHxcblx0XHQobGlzdC5wcm9wcy5yZXZlYWxPcmRlclswXSA9PT0gJ3QnICYmIGxpc3QuX21hcC5zaXplKVxuXHQpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBXYWxrIHRoZSBjdXJyZW50bHkgc3VzcGVuZGVkIGNoaWxkcmVuIGluIG9yZGVyLCBjYWxsaW5nIHRoZWlyXG5cdC8vIHN0b3JlZCBjYWxsYmFja3Mgb24gdGhlIHdheS4gU3RvcCBpZiB3ZSBlbmNvdW50ZXIgYSBjaGlsZCB0aGF0XG5cdC8vIGhhcyBub3QgYmVlbiBjb21wbGV0ZWx5IHJlc29sdmVkIHlldC5cblx0bm9kZSA9IGxpc3QuX25leHQ7XG5cdHdoaWxlIChub2RlKSB7XG5cdFx0d2hpbGUgKG5vZGUubGVuZ3RoID4gMykge1xuXHRcdFx0bm9kZS5wb3AoKSgpO1xuXHRcdH1cblx0XHRpZiAobm9kZVtSRVNPTFZFRF9DT1VOVF0gPCBub2RlW1NVU1BFTkRFRF9DT1VOVF0pIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRsaXN0Ll9uZXh0ID0gbm9kZSA9IG5vZGVbTkVYVF9OT0RFXTtcblx0fVxufTtcblxuLy8gVGhpbmdzIHdlIGRvIGhlcmUgdG8gc2F2ZSBzb21lIGJ5dGVzIGJ1dCBhcmUgbm90IHByb3BlciBKUyBpbmhlcml0YW5jZTpcbi8vIC0gY2FsbCBgbmV3IENvbXBvbmVudCgpYCBhcyB0aGUgcHJvdG90eXBlXG4vLyAtIGRvIG5vdCBzZXQgYFN1c3BlbnNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvcmAgdG8gYFN1c3BlbnNlYFxuU3VzcGVuc2VMaXN0LnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnQoKTtcblxuU3VzcGVuc2VMaXN0LnByb3RvdHlwZS5fc3VzcGVuZGVkID0gZnVuY3Rpb24oY2hpbGQpIHtcblx0Y29uc3QgbGlzdCA9IHRoaXM7XG5cdGNvbnN0IGRlbGVnYXRlZCA9IHN1c3BlbmRlZChsaXN0Ll92bm9kZSk7XG5cblx0bGV0IG5vZGUgPSBsaXN0Ll9tYXAuZ2V0KGNoaWxkKTtcblx0bm9kZVtTVVNQRU5ERURfQ09VTlRdKys7XG5cblx0cmV0dXJuIHVuc3VzcGVuZCA9PiB7XG5cdFx0Y29uc3Qgd3JhcHBlZFVuc3VzcGVuZCA9ICgpID0+IHtcblx0XHRcdGlmICghbGlzdC5wcm9wcy5yZXZlYWxPcmRlcikge1xuXHRcdFx0XHQvLyBTcGVjaWFsIGNhc2UgdGhlIHVuZGVmaW5lZCAoZmFsc3kpIHJldmVhbE9yZGVyLCBhcyB0aGVyZVxuXHRcdFx0XHQvLyBpcyBubyBuZWVkIHRvIGNvb3JkaW5hdGUgYSBzcGVjaWZpYyBvcmRlciBvciB1bnN1c3BlbmRzLlxuXHRcdFx0XHR1bnN1c3BlbmQoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5vZGUucHVzaCh1bnN1c3BlbmQpO1xuXHRcdFx0XHRyZXNvbHZlKGxpc3QsIGNoaWxkLCBub2RlKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdGlmIChkZWxlZ2F0ZWQpIHtcblx0XHRcdGRlbGVnYXRlZCh3cmFwcGVkVW5zdXNwZW5kKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d3JhcHBlZFVuc3VzcGVuZCgpO1xuXHRcdH1cblx0fTtcbn07XG5cblN1c3BlbnNlTGlzdC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24ocHJvcHMpIHtcblx0dGhpcy5fbmV4dCA9IG51bGw7XG5cdHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcblxuXHRjb25zdCBjaGlsZHJlbiA9IHRvQ2hpbGRBcnJheShwcm9wcy5jaGlsZHJlbik7XG5cdGlmIChwcm9wcy5yZXZlYWxPcmRlciAmJiBwcm9wcy5yZXZlYWxPcmRlclswXSA9PT0gJ2InKSB7XG5cdFx0Ly8gSWYgb3JkZXIgPT09ICdiYWNrd2FyZHMnIChvciwgd2VsbCwgYW55dGhpbmcgc3RhcnRpbmcgd2l0aCBhICdiJylcblx0XHQvLyB0aGVuIGZsaXAgdGhlIGNoaWxkIGxpc3QgYXJvdW5kIHNvIHRoYXQgdGhlIGxhc3QgY2hpbGQgd2lsbCBiZVxuXHRcdC8vIHRoZSBmaXJzdCBpbiB0aGUgbGlua2VkIGxpc3QuXG5cdFx0Y2hpbGRyZW4ucmV2ZXJzZSgpO1xuXHR9XG5cdC8vIEJ1aWxkIHRoZSBsaW5rZWQgbGlzdC4gSXRlcmF0ZSB0aHJvdWdoIHRoZSBjaGlsZHJlbiBpbiByZXZlcnNlIG9yZGVyXG5cdC8vIHNvIHRoYXQgYF9uZXh0YCBwb2ludHMgdG8gdGhlIGZpcnN0IGxpbmtlZCBsaXN0IG5vZGUgdG8gYmUgcmVzb2x2ZWQuXG5cdGZvciAobGV0IGkgPSBjaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0Ly8gQ3JlYXRlIGEgbmV3IGxpbmtlZCBsaXN0IG5vZGUgYXMgYW4gYXJyYXkgb2YgZm9ybTpcblx0XHQvLyBcdFtzdXNwZW5kZWRfY291bnQsIHJlc29sdmVkX2NvdW50LCBuZXh0X25vZGVdXG5cdFx0Ly8gd2hlcmUgc3VzcGVuZGVkX2NvdW50IGFuZCByZXNvbHZlZF9jb3VudCBhcmUgbnVtZXJpYyBjb3VudGVycyBmb3Jcblx0XHQvLyBrZWVwaW5nIHRyYWNrIGhvdyBtYW55IHRpbWVzIGEgbm9kZSBoYXMgYmVlbiBzdXNwZW5kZWQgYW5kIHJlc29sdmVkLlxuXHRcdC8vXG5cdFx0Ly8gTm90ZSB0aGF0IHN1c3BlbmRlZF9jb3VudCBzdGFydHMgZnJvbSAxIGluc3RlYWQgb2YgMCwgc28gd2UgY2FuIGJsb2NrXG5cdFx0Ly8gcHJvY2Vzc2luZyBjYWxsYmFja3MgdW50aWwgY29tcG9uZW50RGlkTW91bnQgaGFzIGJlZW4gY2FsbGVkLiBJbiBhIHNlbnNlXG5cdFx0Ly8gbm9kZSBpcyBzdXNwZW5kZWQgYXQgbGVhc3QgdW50aWwgY29tcG9uZW50RGlkTW91bnQgZ2V0cyBjYWxsZWQhXG5cdFx0Ly9cblx0XHQvLyBQZW5kaW5nIGNhbGxiYWNrcyBhcmUgYWRkZWQgdG8gdGhlIGVuZCBvZiB0aGUgbm9kZTpcblx0XHQvLyBcdFtzdXNwZW5kZWRfY291bnQsIHJlc29sdmVkX2NvdW50LCBuZXh0X25vZGUsIGNhbGxiYWNrXzAsIGNhbGxiYWNrXzEsIC4uLl1cblx0XHR0aGlzLl9tYXAuc2V0KGNoaWxkcmVuW2ldLCAodGhpcy5fbmV4dCA9IFsxLCAwLCB0aGlzLl9uZXh0XSkpO1xuXHR9XG5cdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcbn07XG5cblN1c3BlbnNlTGlzdC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gU3VzcGVuc2VMaXN0LnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uKCkge1xuXHQvLyBJdGVyYXRlIHRocm91Z2ggYWxsIGNoaWxkcmVuIGFmdGVyIG1vdW50aW5nIGZvciB0d28gcmVhc29uczpcblx0Ly8gMS4gQXMgZWFjaCBub2RlW1NVU1BFTkRFRF9DT1VOVF0gc3RhcnRzIGZyb20gMSwgdGhpcyBpdGVyYXRpb24gaW5jcmVhc2VzXG5cdC8vICAgIGVhY2ggbm9kZVtSRUxFQVNFRF9DT1VOVF0gYnkgMSwgdGhlcmVmb3JlIGJhbGFuY2luZyB0aGUgY291bnRlcnMuXG5cdC8vICAgIFRoZSBub2RlcyBjYW4gbm93IGJlIGNvbXBsZXRlbHkgY29uc3VtZWQgZnJvbSB0aGUgbGlua2VkIGxpc3QuXG5cdC8vIDIuIEhhbmRsZSBub2RlcyB0aGF0IG1pZ2h0IGhhdmUgZ290dGVuIHJlc29sdmVkIGJldHdlZW4gcmVuZGVyIGFuZFxuXHQvLyAgICBjb21wb25lbnREaWRNb3VudC5cblx0Y29uc3QgbGlzdCA9IHRoaXM7XG5cdGxpc3QuX21hcC5mb3JFYWNoKChub2RlLCBjaGlsZCkgPT4ge1xuXHRcdHJlc29sdmUobGlzdCwgY2hpbGQsIG5vZGUpO1xuXHR9KTtcbn07XG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBoeWRyYXRlLCByZW5kZXIsIF91bm1vdW50IH0gZnJvbSAncHJlYWN0JztcblxuY2xhc3MgQ29udGV4dFByb3ZpZGVyIHtcblx0Z2V0Q2hpbGRDb250ZXh0KCkge1xuXHRcdHJldHVybiB0aGlzLnByb3BzLmNvbnRleHQ7XG5cdH1cblx0cmVuZGVyKHByb3BzKSB7XG5cdFx0cmV0dXJuIHByb3BzLmNoaWxkcmVuO1xuXHR9XG59XG5cbi8qKlxuICogUG9ydGFsIGNvbXBvbmVudFxuICogQHBhcmFtIHtvYmplY3QgfCBudWxsIHwgdW5kZWZpbmVkfSBwcm9wc1xuICovXG5mdW5jdGlvbiBQb3J0YWwocHJvcHMpIHtcblx0bGV0IF90aGlzID0gdGhpcztcblx0bGV0IGNvbnRhaW5lciA9IHByb3BzLmNvbnRhaW5lcjtcblx0bGV0IHdyYXAgPSBjcmVhdGVFbGVtZW50KFxuXHRcdENvbnRleHRQcm92aWRlcixcblx0XHR7IGNvbnRleHQ6IF90aGlzLmNvbnRleHQgfSxcblx0XHRwcm9wcy52bm9kZVxuXHQpO1xuXG5cdC8vIFdoZW4gd2UgY2hhbmdlIGNvbnRhaW5lciB3ZSBzaG91bGQgY2xlYXIgb3VyIG9sZCBjb250YWluZXIgYW5kXG5cdC8vIGluZGljYXRlIGEgbmV3IG1vdW50LlxuXHRpZiAoX3RoaXMuX2NvbnRhaW5lciAmJiBfdGhpcy5fY29udGFpbmVyICE9PSBjb250YWluZXIpIHtcblx0XHRpZiAoX3RoaXMuX3RlbXAucGFyZW50Tm9kZSkgX3RoaXMuX2NvbnRhaW5lci5yZW1vdmVDaGlsZChfdGhpcy5fdGVtcCk7XG5cdFx0X3VubW91bnQoX3RoaXMuX3dyYXApO1xuXHRcdF90aGlzLl9oYXNNb3VudGVkID0gZmFsc2U7XG5cdH1cblxuXHQvLyBXaGVuIHByb3BzLnZub2RlIGlzIHVuZGVmaW5lZC9mYWxzZS9udWxsIHdlIGFyZSBkZWFsaW5nIHdpdGggc29tZSBraW5kIG9mXG5cdC8vIGNvbmRpdGlvbmFsIHZub2RlLiBUaGlzIHNob3VsZCBub3QgdHJpZ2dlciBhIHJlbmRlci5cblx0aWYgKHByb3BzLnZub2RlKSB7XG5cdFx0aWYgKCFfdGhpcy5faGFzTW91bnRlZCkge1xuXHRcdFx0Ly8gQ3JlYXRlIGEgcGxhY2Vob2xkZXIgdGhhdCB3ZSBjYW4gdXNlIHRvIGluc2VydCBpbnRvLlxuXHRcdFx0X3RoaXMuX3RlbXAgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5cdFx0XHQvLyBIeWRyYXRlIGV4aXN0aW5nIG5vZGVzIHRvIGtlZXAgdGhlIGRvbSBpbnRhY3QsIHdoZW4gcmVuZGVyaW5nXG5cdFx0XHQvLyB3cmFwIGludG8gdGhlIGNvbnRhaW5lci5cblx0XHRcdGh5ZHJhdGUoJycsIGNvbnRhaW5lcik7XG5cdFx0XHQvLyBBcHBlbmQgdG8gdGhlIGNvbnRhaW5lciAodGhpcyBtYXRjaGVzIFJlYWN0J3MgYmVoYXZpb3IpXG5cdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoX3RoaXMuX3RlbXApO1xuXHRcdFx0Ly8gQXQgdGhpcyBwb2ludCB3ZSBoYXZlIG1vdW50ZWQgYW5kIHNob3VsZCBzZXQgb3VyIGNvbnRhaW5lci5cblx0XHRcdF90aGlzLl9oYXNNb3VudGVkID0gdHJ1ZTtcblx0XHRcdF90aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG5cdFx0XHQvLyBSZW5kZXIgb3VyIHdyYXBwaW5nIGVsZW1lbnQgaW50byB0ZW1wLlxuXHRcdFx0cmVuZGVyKHdyYXAsIGNvbnRhaW5lciwgX3RoaXMuX3RlbXApO1xuXHRcdFx0X3RoaXMuX2NoaWxkcmVuID0gdGhpcy5fdGVtcC5fY2hpbGRyZW47XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFdoZW4gd2UgaGF2ZSBtb3VudGVkIGFuZCB0aGUgdm5vZGUgaXMgcHJlc2VudCBpdCBtZWFucyB0aGVcblx0XHRcdC8vIHByb3BzIGhhdmUgY2hhbmdlZCBvciBhIHBhcmVudCBpcyB0cmlnZ2VyaW5nIGEgcmVyZW5kZXIuXG5cdFx0XHQvLyBUaGlzIGltcGxpZXMgd2Ugb25seSBuZWVkIHRvIGNhbGwgcmVuZGVyLiBCdXQgd2UgbmVlZCB0byBrZWVwXG5cdFx0XHQvLyB0aGUgb2xkIHRyZWUgYXJvdW5kLCBvdGhlcndpc2Ugd2lsbCB0cmVhdCB0aGUgdm5vZGVzIGFzIG5ldyBhbmRcblx0XHRcdC8vIHdpbGwgd3JvbmdseSBjYWxsIGBjb21wb25lbnREaWRNb3VudGAgb24gdGhlbVxuXHRcdFx0Y29udGFpbmVyLl9jaGlsZHJlbiA9IF90aGlzLl9jaGlsZHJlbjtcblx0XHRcdHJlbmRlcih3cmFwLCBjb250YWluZXIpO1xuXHRcdFx0X3RoaXMuX2NoaWxkcmVuID0gY29udGFpbmVyLl9jaGlsZHJlbjtcblx0XHR9XG5cdH1cblx0Ly8gV2hlbiB3ZSBjb21lIGZyb20gYSBjb25kaXRpb25hbCByZW5kZXIsIG9uIGEgbW91bnRlZFxuXHQvLyBwb3J0YWwgd2Ugc2hvdWxkIGNsZWFyIHRoZSBET00uXG5cdGVsc2UgaWYgKF90aGlzLl9oYXNNb3VudGVkKSB7XG5cdFx0aWYgKF90aGlzLl90ZW1wLnBhcmVudE5vZGUpIF90aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQoX3RoaXMuX3RlbXApO1xuXHRcdF91bm1vdW50KF90aGlzLl93cmFwKTtcblx0fVxuXHQvLyBTZXQgdGhlIHdyYXBwaW5nIGVsZW1lbnQgZm9yIGZ1dHVyZSB1bm1vdW50aW5nLlxuXHRfdGhpcy5fd3JhcCA9IHdyYXA7XG5cblx0X3RoaXMuY29tcG9uZW50V2lsbFVubW91bnQgPSAoKSA9PiB7XG5cdFx0aWYgKF90aGlzLl90ZW1wLnBhcmVudE5vZGUpIF90aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQoX3RoaXMuX3RlbXApO1xuXHRcdF91bm1vdW50KF90aGlzLl93cmFwKTtcblx0fTtcblxuXHRyZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBgUG9ydGFsYCB0byBjb250aW51ZSByZW5kZXJpbmcgdGhlIHZub2RlIHRyZWUgYXQgYSBkaWZmZXJlbnQgRE9NIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlIFRoZSB2bm9kZSB0byByZW5kZXJcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gY29udGFpbmVyIFRoZSBET00gbm9kZSB0byBjb250aW51ZSByZW5kZXJpbmcgaW4gdG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQb3J0YWwodm5vZGUsIGNvbnRhaW5lcikge1xuXHRyZXR1cm4gY3JlYXRlRWxlbWVudChQb3J0YWwsIHsgdm5vZGUsIGNvbnRhaW5lciB9KTtcbn1cbiIsIi8qKlxuICogTm9ybWFsaXplIGV2ZW50IGhhbmRsZXJzIGxpa2UgcmVhY3QgZG9lcy4gTW9zdCBmYW1vdXNseSBpdCB1c2VzIGBvbkNoYW5nZWAgZm9yIGFueSBpbnB1dCBlbGVtZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGUgVGhlIHZub2RlIHRvIG5vcm1hbGl6ZSBldmVudHMgb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5RXZlbnROb3JtYWxpemF0aW9uKHsgdHlwZSwgcHJvcHMgfSkge1xuXHRpZiAoIXByb3BzIHx8IHR5cGVvZiB0eXBlICE9ICdzdHJpbmcnKSByZXR1cm47XG5cdGxldCBuZXdQcm9wcyA9IHt9O1xuXG5cdGZvciAobGV0IGkgaW4gcHJvcHMpIHtcblx0XHRpZiAoL15vbihBbml8VHJhfFRvdSkvLnRlc3QoaSkpIHtcblx0XHRcdHByb3BzW2kudG9Mb3dlckNhc2UoKV0gPSBwcm9wc1tpXTtcblx0XHRcdGRlbGV0ZSBwcm9wc1tpXTtcblx0XHR9XG5cdFx0bmV3UHJvcHNbaS50b0xvd2VyQ2FzZSgpXSA9IGk7XG5cdH1cblx0aWYgKG5ld1Byb3BzLm9uZG91YmxlY2xpY2spIHtcblx0XHRwcm9wcy5vbmRibGNsaWNrID0gcHJvcHNbbmV3UHJvcHMub25kb3VibGVjbGlja107XG5cdFx0ZGVsZXRlIHByb3BzW25ld1Byb3BzLm9uZG91YmxlY2xpY2tdO1xuXHR9XG5cdGlmIChuZXdQcm9wcy5vbmJlZm9yZWlucHV0KSB7XG5cdFx0cHJvcHMub25iZWZvcmVpbnB1dCA9IHByb3BzW25ld1Byb3BzLm9uYmVmb3JlaW5wdXRdO1xuXHRcdGRlbGV0ZSBwcm9wc1tuZXdQcm9wcy5vbmJlZm9yZWlucHV0XTtcblx0fVxuXHQvLyBmb3IgKnRleHR1YWwgaW5wdXRzKiAoaW5jbCB0ZXh0YXJlYSksIG5vcm1hbGl6ZSBgb25DaGFuZ2VgIC0+IGBvbklucHV0YDpcblx0aWYgKFxuXHRcdG5ld1Byb3BzLm9uY2hhbmdlICYmXG5cdFx0KHR5cGUgPT09ICd0ZXh0YXJlYScgfHxcblx0XHRcdCh0eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcgJiYgIS9eZmlsfGNoZXxyYS9pLnRlc3QocHJvcHMudHlwZSkpKVxuXHQpIHtcblx0XHRsZXQgbm9ybWFsaXplZCA9IG5ld1Byb3BzLm9uaW5wdXQgfHwgJ29uaW5wdXQnO1xuXHRcdGlmICghcHJvcHNbbm9ybWFsaXplZF0pIHtcblx0XHRcdHByb3BzW25vcm1hbGl6ZWRdID0gcHJvcHNbbmV3UHJvcHMub25jaGFuZ2VdO1xuXHRcdFx0ZGVsZXRlIHByb3BzW25ld1Byb3BzLm9uY2hhbmdlXTtcblx0XHR9XG5cdH1cbn1cbiIsInZhciByPXtkYXRhOlwiXCJ9LGU9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWU/ZS5xdWVyeVNlbGVjdG9yKFwiI19nb29iZXJcIik6c2VsZi5fZ29vYmVyO3JldHVybiB0fHwoKHQ9KGV8fGRvY3VtZW50LmhlYWQpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSkpLmlubmVySFRNTD1cIiBcIix0LmlkPVwiX2dvb2JlclwiKSx0LmZpcnN0Q2hpbGR9Y2F0Y2gocil7fXJldHVybiByfSx0PWZ1bmN0aW9uKHIpe3ZhciB0PWUociksYT10LmRhdGE7cmV0dXJuIHQuZGF0YT1cIlwiLGF9LGE9Lyg/OihbYS16MC05LSVAXSspICo6PyAqKFteeztdKz8pO3woW147fXtdKj8pICt7KXwofSkvZ2ksbj0vXFwvXFwqLio/XFwqXFwvfFxcc3syLH18XFxuL2dtLGM9ZnVuY3Rpb24ocixlLHQpe3ZhciBhPVwiXCIsbj1cIlwiLGk9XCJcIjtpZigvXkBba3xmXS8udGVzdCh0KSlyZXR1cm4gdCtKU09OLnN0cmluZ2lmeShyKS5yZXBsYWNlKC9cIixcIi9nLFwiO1wiKS5yZXBsYWNlKC9cInwsXCIvZyxcIlwiKS5yZXBsYWNlKC86ey9nLFwie1wiKTtmb3IodmFyIG8gaW4gcil7dmFyIHU9cltvXTtpZihcIm9iamVjdFwiPT10eXBlb2YgdSl7dmFyIHM9ZStcIiBcIitvOy8mL2cudGVzdChvKSYmKHM9by5yZXBsYWNlKC8mL2csZSkpLFwiQFwiPT1vWzBdJiYocz1lKSxuKz1jKHUscyxzPT1lP286dHx8XCJcIil9ZWxzZS9eQGkvLnRlc3Qobyk/aT1vK1wiIFwiK3UrXCI7XCI6YSs9by5yZXBsYWNlKC9bQS1aXS9nLFwiLSQmXCIpLnRvTG93ZXJDYXNlKCkrXCI6XCIrdStcIjtcIn1pZihhLmNoYXJDb2RlQXQoMCkpe3ZhciBmPWUrXCJ7XCIrYStcIn1cIjtyZXR1cm4gdD9uK3QrXCJ7XCIrZitcIn1cIjppK2Yrbn1yZXR1cm4gaStufSxpPXtjOjB9LG89ZnVuY3Rpb24ocixlLHQsbyl7dmFyIHU9SlNPTi5zdHJpbmdpZnkocikscz1pW3VdfHwoaVt1XT10P1wiXCI6XCIuZ29cIit1LnNwbGl0KFwiXCIpLnJlZHVjZShmdW5jdGlvbihyLGUpe3JldHVybiByK2UuY2hhckNvZGVBdCgwKXw4fSw0KSk7cmV0dXJuIGZ1bmN0aW9uKHIsZSx0KXtlLmRhdGEuaW5kZXhPZihyKTwwJiYoZS5kYXRhPXQ/citlLmRhdGE6ZS5kYXRhK3IpfShpW3NdfHwoaVtzXT1jKHJbMF0/ZnVuY3Rpb24ocil7Zm9yKHZhciBlLHQ9W3t9XTtlPWEuZXhlYyhyLnJlcGxhY2UobixcIlwiKSk7KWVbNF0mJnQuc2hpZnQoKSxlWzNdP3QudW5zaGlmdCh0WzBdW2VbM11dPXt9KTplWzRdfHwodFswXVtlWzFdXT1lWzJdKTtyZXR1cm4gdFswXX0ocik6cixzKSksZSxvKSxzLnNsaWNlKDEpfSx1PWZ1bmN0aW9uKHIsZSx0KXtyZXR1cm4gci5yZWR1Y2UoZnVuY3Rpb24ocixhLG4pe3ZhciBjPWVbbl07aWYoYyYmYy5jYWxsKXt2YXIgaT1jKHQpLG89aSYmaS5wcm9wcyYmaS5wcm9wcy5jbGFzc05hbWV8fC9eZ28vLnRlc3QoaSkmJmk7Yz1vP1wiLlwiK286aSYmaS5wcm9wcz9cIlwiOml9cmV0dXJuIHIrYSsoY3x8XCJcIil9LFwiXCIpfTtmdW5jdGlvbiBzKHIpe3ZhciB0PXRoaXN8fHt9LGE9ci5jYWxsP3IodC5wKTpyO3JldHVybiBvKGEubWFwP3UoYSxbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSx0LnApOmEsZSh0LnRhcmdldCksdC5nLHQubyl9dmFyIGYsbCxwLGc9cy5iaW5kKHtnOjF9KSxkPWZ1bmN0aW9uKHIsZSx0KXtmPXIsbD1lLHA9dH07ZnVuY3Rpb24gdihyKXt2YXIgZT10aGlzfHx7fTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHM7ZnVuY3Rpb24gYShhLG4pe3ZhciBjPWUucD1PYmplY3QuYXNzaWduKHA/e3RoZW1lOnAoKX06e30sYSksaT1jLmNsYXNzTmFtZTtyZXR1cm4gZS5vPS9cXHMqZ29bMC05XSsvZy50ZXN0KGkpLGMuY2xhc3NOYW1lPXMuYXBwbHkoZSx0KSsoaT9cIiBcIitpOlwiXCIpLGMucmVmPW4sZihyLGMpfXJldHVybiBsP2woYSk6YX19ZXhwb3J0e3YgYXMgc3R5bGVkLGQgYXMgc2V0dXAsdCBhcyBleHRyYWN0Q3NzLHMgYXMgY3NzLGcgYXMgZ2xvYn07XG4iLCJmdW5jdGlvbiBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2Uoc3RyaW5ncywgcmF3KSB7XG4gIGlmICghcmF3KSB7XG4gICAgcmF3ID0gc3RyaW5ncy5zbGljZSgwKTtcbiAgfVxuXG4gIHN0cmluZ3MucmF3ID0gcmF3O1xuICByZXR1cm4gc3RyaW5ncztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsTG9vc2U7IiwiIWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dChyZXF1aXJlKFwicHJlYWN0XCIpKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW1wicHJlYWN0XCJdLHQpO2Vsc2V7dmFyIG49dChcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9yZXF1aXJlKFwicHJlYWN0XCIpOmUucHJlYWN0KTtmb3IodmFyIG8gaW4gbikoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0czplKVtvXT1uW29dfX0odGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChvKXtpZihuW29dKXJldHVybiBuW29dLmV4cG9ydHM7dmFyIHI9bltvXT17ZXhwb3J0czp7fSxpZDpvLGxvYWRlZDohMX07cmV0dXJuIGVbb10uY2FsbChyLmV4cG9ydHMscixyLmV4cG9ydHMsdCksci5sb2FkZWQ9ITAsci5leHBvcnRzfXZhciBuPXt9O3JldHVybiB0Lm09ZSx0LmM9bix0LnA9XCJcIix0KDApfShbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIHIoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIisoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQ/XCJ1bmRlZmluZWRcIjphKHQpKSk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1mdW5jdGlvbiB1KGUsdCxuKXt2YXIgdT1mdW5jdGlvbih0KXtmdW5jdGlvbiB1KCl7byh0aGlzLHUpO3ZhciB0PVJlZmxlY3QuY29uc3RydWN0KEhUTUxFbGVtZW50LFtdLHUpO3JldHVybiB0Ll92ZG9tQ29tcG9uZW50PWUsdH1yZXR1cm4gcih1LHQpLHModSxbe2tleTpcImNvbm5lY3RlZENhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXtpLmFwcGx5KHRoaXMpfX0se2tleTpcImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uKCl7aS5hcHBseSh0aGlzKX19LHtrZXk6XCJkZXRhY2hlZENhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXtmLmFwcGx5KHRoaXMpfX1dLFt7a2V5Olwib2JzZXJ2ZWRBdHRyaWJ1dGVzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG59fV0pLHV9KEhUTUxFbGVtZW50KTtyZXR1cm4gd2luZG93LmN1c3RvbUVsZW1lbnRzLmRlZmluZSh0fHxlLmRpc3BsYXlOYW1lfHxlLm5hbWUsdSl9ZnVuY3Rpb24gaSgpe3RoaXMuX3Jvb3Q9KDAsbC5yZW5kZXIpKGModGhpcyx0aGlzLl92ZG9tQ29tcG9uZW50KSx0aGlzLHRoaXMuX3Jvb3QpfWZ1bmN0aW9uIGYoKXsoMCxsLnJlbmRlcikoKDAsbC5oKShwKSx0aGlzLHRoaXMuX3Jvb3QpfWZ1bmN0aW9uIGMoZSx0KXtpZigzPT09ZS5ub2RlVHlwZSlyZXR1cm4gZS5ub2RlVmFsdWU7aWYoMSE9PWUubm9kZVR5cGUpcmV0dXJuIG51bGw7dmFyIG49W10sbz17fSxyPTAsdT1lLmF0dHJpYnV0ZXMsaT1lLmNoaWxkTm9kZXM7Zm9yKHI9dS5sZW5ndGg7ci0tOylvW3Vbcl0ubmFtZV09dVtyXS52YWx1ZTtmb3Iocj1pLmxlbmd0aDtyLS07KW5bcl09YyhpW3JdKTtyZXR1cm4oMCxsLmgpKHR8fGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxvLG4pfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3RbXCJkZWZhdWx0XCJdPXU7dmFyIGw9bigxKSxwPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl07by5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZXx8ITEsby5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG8ua2V5LG8pfX1yZXR1cm4gZnVuY3Rpb24odCxuLG8pe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLG8mJmUodCxvKSx0fX0oKX0sZnVuY3Rpb24odCxuKXt0LmV4cG9ydHM9ZX1dKX0pOyIsIlxuY29uc3QgY29sb3JzID0ge1xuICAkRDEwOiBcIiMxNjJEM0RcIiwgLy8gTWFpbiBpbnB1dCB0ZXh0LCB0aXRsZXNcbiAgJEQyMDogXCIjMzI1MzZBXCIsIC8vIFRpdGxlcywgdGV4dHNcbiAgJEQzMDogXCIjNTc3MDgzXCIsIC8vIFRleHRzXG4gICRENDA6IFwiIzdBOTJBNVwiLCAvLyBEaXZpZGVycywgdGV4dHMsIFBsYWNlaG9sZGVyXG4gICRENTA6IFwiI0I2QzFDRFwiLCAvLyBEaXZpZGVycywgdGV4dHNcbiAgJEQ1NTogXCIjQ0JEM0RDXCIsIC8vIERpc2FibGVkIGJ1dHRvbiAtIG5ldyB2ZXJzaW9uIC0gbmFtaW5nIG5vdCBmaW5hbFxuICAkRDYwOiBcIiNERkU1RUJcIiwgLy8gRGl2aWRlcnNcbiAgJEQ3MDogXCIjRjBGNEY3XCIsIC8vIFBhZ2UgYmFja2dyb3VuZCwgZGl2aWRlcnNcbiAgJEQ4MDogXCIjRkZGRkZGXCIsIC8vIENvbnRlbnQgYm94IGJhY2tncm91bmRcblxuICAkQjAwOiBcIiMyQjgxQ0JcIiwgLy8gQnV0dG9uc1xuICAkQjA1OiBcIiMzMDhERERcIiwgLy8gQ1RBXG4gICRCMTA6IFwiIzM4OTlFQ1wiLCAvLyBNYWluIGFjdGlvbiBjb2xvciwgYWN0aXZlLCBidXR0b25zXG4gICRCMjA6IFwiIzRFQjdGNVwiLCAvLyBIb3ZlciBmb3IgZWxlbWVudHMgd2l0aCBCMTAsIGJ1dHRvbnNcbiAgJEIyNTogXCIjQTFEN0ZCXCIsXG4gICRCMjc6IFwiI0IzRTBGQlwiLFxuICAkQjMwOiBcIiNDMUU0RkVcIiwgLy8gTm90aWZpY2F0aW9uc1xuICAkQjQwOiBcIiNEQUVGRkVcIiwgLy8gRGl2aWRlcnMsIHRhYmxlIHNlbGVjdGVkLCB0YWJsZSBoZWFkZXJzXG4gICRCNTA6IFwiI0VBRjdGRlwiLCAvLyBEaXZpZGVyc1xuICAkQjYwOiBcIiNGNEZBRkVcIiwgLy8gVGFibGUgaG92ZXJcbn07XG5cbmNvbnN0IHNpZGViYXIgPSB7XG4gIGNvbG9yczoge1xuICAgICRiZzogXCIjMjMyNjNlXCIsXG4gICAgJGRpdmlkZXI6IFwiIzQzNDU2N1wiLFxuICAgICRiZ0hvdmVyOiBcIiMyZTMyNDlcIixcbiAgICAkYmdBY3RpdmU6IFwiIzM5M2Y1OVwiLFxuICB9LFxufVxuY29uc3QgdGhlbWUgPSB7XG4gIGNvbG9ycyxcbiAgc2lkZWJhcixcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgdGhlbWU7XG4iLCJpbXBvcnQge1xuIGgsIGNyZWF0ZUNvbnRleHQsIENvbXBvbmVudENoaWxkcmVuLCBGdW5jdGlvbkNvbXBvbmVudCxcbn0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiwgdXNlQ29udGV4dCB9IGZyb20gXCJwcmVhY3QvY29tcGF0XCI7XG5pbXBvcnQgeyBzdHlsZWQsIHNldHVwIH0gZnJvbSBcIkBua3NhcmFmL2dvb2JlclwiO1xuaW1wb3J0IHRoZW1lIGZyb20gXCIuL3V0aWxzL2dsb2JhbFN0eWxlc1wiO1xuXG5jb25zdCBUaGVtZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHRoZW1lKTtcbmNvbnN0IHVzZVRoZW1lID0gKCkgPT4gdXNlQ29udGV4dChUaGVtZUNvbnRleHQpO1xuc2V0dXAoaCwgZm9yd2FyZFJlZiwgdXNlVGhlbWUpO1xuXG5cbmNvbnN0IEFwcDogRnVuY3Rpb25Db21wb25lbnQgPSAoeyBjaGlsZHJlbiB9KSA9PiA8U3R5bGVkQmFzZT57Y2hpbGRyZW59PC9TdHlsZWRCYXNlPjtcblxuXG5jb25zdCBTdHlsZWRCYXNlID0gc3R5bGVkPHsgY2hpbGRyZW46IENvbXBvbmVudENoaWxkcmVuIH0+KFwiZGl2XCIpYFxuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbmA7XG5cbmV4cG9ydCBkZWZhdWx0IEFwcDtcbiIsImZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBtb2R1bGUuZXhwb3J0cyA9IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZXh0ZW5kczsiLCJpbXBvcnQgeyBQcm9wUmVmIH0gZnJvbSBcInByZWFjdC9ob29rcy9zcmNcIjtcblxuaW50ZXJmYWNlIEN1c3RvbUV2ZW50IHtcbiAgICByZWY6IFByb3BSZWY8YW55PixcbiAgICBldmVudE5hbWU6IHN0cmluZyxcbn1cblxuY29uc3QgdXNlQ3VzdG9tRXZlbnQgPSAoeyByZWYsIGV2ZW50TmFtZSB9OiBDdXN0b21FdmVudCkgPT4ge1xuICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gKGRldGFpbCkgPT4gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuICAgICAgICBkZXRhaWwsXG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgfSk7XG5cbiAgICBjb25zdCBkaXNwYXRjaEV2ZW50ID0gKGV2RGF0YSkgPT4ge1xuICAgICAgICBpZiAocmVmLmN1cnJlbnQpIHJlZi5jdXJyZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQoZXZEYXRhKSk7XG4gICAgfVxuICAgIHJldHVybiBkaXNwYXRjaEV2ZW50XG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZUN1c3RvbUV2ZW50O1xuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIlxuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIkBua3NhcmFmL2dvb2JlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcblxuY29uc3QgU2tlbGV0b24gPSAoeyB3aWR0aCwgaGVpZ2h0IH06IHt3aWR0aD86IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9KSA9PiB7XG4gIGNvbnN0IHJhbmRvbUludGVnZXIgPSAobWluLCBtYXgpID0+IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XG4gIGNvbnN0IG1heFdpZHRoID0gd2lkdGggfHwgMTUwO1xuICBjb25zdCBbY3VycmVudFdpZHRoLCBzZXRXaWR0aF0gPSB1c2VTdGF0ZSgwKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFdpZHRoKHJhbmRvbUludGVnZXIoNjAsIG1heFdpZHRoKSk7XG4gICAgcmV0dXJuICgpID0+IHdpZHRoO1xuICB9LCBbXSk7XG5cblxuICByZXR1cm4gKFxuICAgIDxSZWN0YW5nbGUgaGVpZ2h0PXtoZWlnaHR9IHdpZHRoPXtjdXJyZW50V2lkdGh9IC8+XG4gICk7XG59O1xuXG5cbmNvbnN0IFJlY3RhbmdsZTogYW55ID0gc3R5bGVkPHsgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXJ9Pignc3BhbicpYFxuXG5Aa2V5ZnJhbWVzIHB1bHNhdGUge1xuICBmcm9tIHtcbiAgIGJhY2tncm91bmQtcG9zaXRpb246MjAwJSA1MCU7XG4gIH1cblxuICB0byB7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjotMjAwJSA1MCU7XG4gIH1cbn1cblxuICB3aWR0aDogJHsocHJvcHMpID0+IHByb3BzLndpZHRofXB4O1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoXG4gICAgMjcwZGVnLFxuICAgIHJnYigyNTAsIDI1MCwgMjUwKSxcbiAgICByZ2IoMjM0LCAyMzQsIDIzNCksXG4gICAgcmdiKDIzNCwgMjM0LCAyMzQpLFxuICAgIHJnYigyNTAsIDI1MCwgMjUwKVxuICApO1xuICBiYWNrZ3JvdW5kLXNpemU6IDQwMCUgNDAwJTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBkaXNwbGF5OiBibG9jaztcbiAgYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogbGluZWFyO1xuICBhbmltYXRpb24tZGlyZWN0aW9uOiBub3JtYWw7XG4gIGFuaW1hdGlvbi1kdXJhdGlvbjogM3M7XG4gIGFuaW1hdGlvbi1maWxsLW1vZGU6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDBweDtcbiAgYW5pbWF0aW9uLXBsYXktc3RhdGU6IHJ1bm5pbmc7XG4gIGFuaW1hdGlvbi1kZWxheTogaW5pdGlhbDtcbiAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGU7XG4gIGFuaW1hdGlvbi1kaXJlY3Rpb246IGluaXRpYWw7XG4gIGFuaW1hdGlvbi1maWxsLW1vZGU6IGluaXRpYWw7XG4gIGFuaW1hdGlvbi1wbGF5LXN0YXRlOiBpbml0aWFsO1xuICBoZWlnaHQ6ICR7KHByb3BzKSA9PiAocHJvcHMuaGVpZ2h0ID8gcHJvcHMuaGVpZ2h0IDogMTYpfXB4O1xuICBhbmltYXRpb24tbmFtZTogcHVsc2F0ZTtcbiAgJjpsYXN0LWNoaWxkIHtcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xuICB9XG5gO1xuXG5leHBvcnQgZGVmYXVsdCBTa2VsZXRvbjtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxubGV0IHJlbmRlckVyciA9ICdSZW5kZXJlciBFcnJvcidcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnMgPSB7XG4gIGluaXQ6ICdpbml0Jyxcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb2x1bW4gPSB7XG4gIENlbGw6ICh7IGNlbGw6IHsgdmFsdWUgPSAnJyB9IH0pID0+IHZhbHVlLFxuICB3aWR0aDogMTUwLFxuICBtaW5XaWR0aDogMCxcbiAgbWF4V2lkdGg6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdE9yZGVyQnlGbihhcnIsIGZ1bmNzLCBkaXJzKSB7XG4gIHJldHVybiBbLi4uYXJyXS5zb3J0KChyb3dBLCByb3dCKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmdW5jcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3Qgc29ydEZuID0gZnVuY3NbaV1cbiAgICAgIGNvbnN0IGRlc2MgPSBkaXJzW2ldID09PSBmYWxzZSB8fCBkaXJzW2ldID09PSAnZGVzYydcbiAgICAgIGNvbnN0IHNvcnRJbnQgPSBzb3J0Rm4ocm93QSwgcm93QilcbiAgICAgIGlmIChzb3J0SW50ICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBkZXNjID8gLXNvcnRJbnQgOiBzb3J0SW50XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaXJzWzBdID8gcm93QS5pbmRleCAtIHJvd0IuaW5kZXggOiByb3dCLmluZGV4IC0gcm93QS5pbmRleFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdEdyb3VwQnlGbihyb3dzLCBjb2x1bW5JZCkge1xuICByZXR1cm4gcm93cy5yZWR1Y2UoKHByZXYsIHJvdywgaSkgPT4ge1xuICAgIC8vIFRPRE86IE1pZ2h0IHdhbnQgdG8gaW1wbGVtZW50IGEga2V5IHNlcmlhbGl6ZXIgaGVyZSBzb1xuICAgIC8vIGlycmVndWxhciBjb2x1bW4gdmFsdWVzIGNhbiBzdGlsbCBiZSBncm91cGVkIGlmIG5lZWRlZD9cbiAgICBjb25zdCByZXNLZXkgPSBgJHtyb3cudmFsdWVzW2NvbHVtbklkXX1gXG4gICAgcHJldltyZXNLZXldID0gQXJyYXkuaXNBcnJheShwcmV2W3Jlc0tleV0pID8gcHJldltyZXNLZXldIDogW11cbiAgICBwcmV2W3Jlc0tleV0ucHVzaChyb3cpXG4gICAgcmV0dXJuIHByZXZcbiAgfSwge30pXG59XG5cbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4ucHJvcExpc3QpIHtcbiAgcmV0dXJuIHByb3BMaXN0LnJlZHVjZSgocHJvcHMsIG5leHQpID0+IHtcbiAgICBjb25zdCB7IHN0eWxlLCBjbGFzc05hbWUsIC4uLnJlc3QgfSA9IG5leHRcblxuICAgIHByb3BzID0ge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICAuLi5yZXN0LFxuICAgIH1cblxuICAgIGlmIChzdHlsZSkge1xuICAgICAgcHJvcHMuc3R5bGUgPSBwcm9wcy5zdHlsZVxuICAgICAgICA/IHsgLi4uKHByb3BzLnN0eWxlIHx8IHt9KSwgLi4uKHN0eWxlIHx8IHt9KSB9XG4gICAgICAgIDogc3R5bGVcbiAgICB9XG5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICBwcm9wcy5jbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWVcbiAgICAgICAgPyBwcm9wcy5jbGFzc05hbWUgKyAnICcgKyBjbGFzc05hbWVcbiAgICAgICAgOiBjbGFzc05hbWVcbiAgICB9XG5cbiAgICBpZiAocHJvcHMuY2xhc3NOYW1lID09PSAnJykge1xuICAgICAgZGVsZXRlIHByb3BzLmNsYXNzTmFtZVxuICAgIH1cblxuICAgIHJldHVybiBwcm9wc1xuICB9LCB7fSlcbn1cblxuZnVuY3Rpb24gaGFuZGxlUHJvcEdldHRlcihwcmV2UHJvcHMsIHVzZXJQcm9wcywgbWV0YSkge1xuICAvLyBIYW5kbGUgYSBsYW1iZGEsIHBhc3MgaXQgdGhlIHByZXZpb3VzIHByb3BzXG4gIGlmICh0eXBlb2YgdXNlclByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGhhbmRsZVByb3BHZXR0ZXIoe30sIHVzZXJQcm9wcyhwcmV2UHJvcHMsIG1ldGEpKVxuICB9XG5cbiAgLy8gSGFuZGxlIGFuIGFycmF5LCBtZXJnZSBlYWNoIGl0ZW0gYXMgc2VwYXJhdGUgcHJvcHNcbiAgaWYgKEFycmF5LmlzQXJyYXkodXNlclByb3BzKSkge1xuICAgIHJldHVybiBtZXJnZVByb3BzKHByZXZQcm9wcywgLi4udXNlclByb3BzKVxuICB9XG5cbiAgLy8gSGFuZGxlIGFuIG9iamVjdCBieSBkZWZhdWx0LCBtZXJnZSB0aGUgdHdvIG9iamVjdHNcbiAgcmV0dXJuIG1lcmdlUHJvcHMocHJldlByb3BzLCB1c2VyUHJvcHMpXG59XG5cbmV4cG9ydCBjb25zdCBtYWtlUHJvcEdldHRlciA9IChob29rcywgbWV0YSA9IHt9KSA9PiB7XG4gIHJldHVybiAodXNlclByb3BzID0ge30pID0+XG4gICAgWy4uLmhvb2tzLCB1c2VyUHJvcHNdLnJlZHVjZShcbiAgICAgIChwcmV2LCBuZXh0KSA9PlxuICAgICAgICBoYW5kbGVQcm9wR2V0dGVyKHByZXYsIG5leHQsIHtcbiAgICAgICAgICAuLi5tZXRhLFxuICAgICAgICAgIHVzZXJQcm9wcyxcbiAgICAgICAgfSksXG4gICAgICB7fVxuICAgIClcbn1cblxuZXhwb3J0IGNvbnN0IHJlZHVjZUhvb2tzID0gKGhvb2tzLCBpbml0aWFsLCBtZXRhID0ge30pID0+XG4gIGhvb2tzLnJlZHVjZSgocHJldiwgbmV4dCkgPT4ge1xuICAgIGNvbnN0IG5leHRWYWx1ZSA9IG5leHQocHJldiwgbWV0YSlcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiBuZXh0VmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuaW5mbyhuZXh0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1JlYWN0IFRhYmxlOiBBIHJlZHVjZXIgaG9vayDimJ3vuI8ganVzdCByZXR1cm5lZCB1bmRlZmluZWQhIFRoaXMgaXMgbm90IGFsbG93ZWQuJ1xuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXh0VmFsdWVcbiAgfSwgaW5pdGlhbClcblxuZXhwb3J0IGNvbnN0IGxvb3BIb29rcyA9IChob29rcywgbWV0YSA9IHt9KSA9PlxuICBob29rcy5mb3JFYWNoKGhvb2sgPT4ge1xuICAgIGNvbnN0IG5leHRWYWx1ZSA9IGhvb2sobWV0YSlcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiBuZXh0VmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuaW5mbyhob29rLCBuZXh0VmFsdWUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVhY3QgVGFibGU6IEEgbG9vcC10eXBlIGhvb2sg4pid77iPIGp1c3QgcmV0dXJuZWQgYSB2YWx1ZSEgVGhpcyBpcyBub3QgYWxsb3dlZC4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVQbHVnaW5PcmRlcihwbHVnaW5zLCBiZWZvcmVzLCBwbHVnaW5OYW1lLCBhZnRlcnMpIHtcbiAgY29uc3QgcGx1Z2luSW5kZXggPSBwbHVnaW5zLmZpbmRJbmRleChcbiAgICBwbHVnaW4gPT4gcGx1Z2luLnBsdWdpbk5hbWUgPT09IHBsdWdpbk5hbWVcbiAgKVxuXG4gIGlmIChwbHVnaW5JbmRleCA9PT0gLTEpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgcGx1Z2luIFwiJHtwbHVnaW5OYW1lfVwiIHdhcyBub3QgZm91bmQgaW4gdGhlIHBsdWdpbiBsaXN0IVxuVGhpcyB1c3VhbGx5IG1lYW5zIHlvdSBuZWVkIHRvIG5lZWQgdG8gbmFtZSB5b3VyIHBsdWdpbiBob29rIGJ5IHNldHRpbmcgdGhlICdwbHVnaW5OYW1lJyBwcm9wZXJ0eSBvZiB0aGUgaG9vayBmdW5jdGlvbiwgZWc6XG5cbiAgJHtwbHVnaW5OYW1lfS5wbHVnaW5OYW1lID0gJyR7cGx1Z2luTmFtZX0nXG5gKVxuICAgIH1cbiAgfVxuXG4gIGJlZm9yZXMuZm9yRWFjaChiZWZvcmUgPT4ge1xuICAgIGNvbnN0IGJlZm9yZUluZGV4ID0gcGx1Z2lucy5maW5kSW5kZXgoXG4gICAgICBwbHVnaW4gPT4gcGx1Z2luLnBsdWdpbk5hbWUgPT09IGJlZm9yZVxuICAgIClcbiAgICBpZiAoYmVmb3JlSW5kZXggPiAtMSAmJiBiZWZvcmVJbmRleCA+IHBsdWdpbkluZGV4KSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFJlYWN0IFRhYmxlOiBUaGUgJHtwbHVnaW5OYW1lfSBwbHVnaW4gaG9vayBtdXN0IGJlIHBsYWNlZCBhZnRlciB0aGUgJHtiZWZvcmV9IHBsdWdpbiBob29rIWBcbiAgICAgICAgKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICBhZnRlcnMuZm9yRWFjaChhZnRlciA9PiB7XG4gICAgY29uc3QgYWZ0ZXJJbmRleCA9IHBsdWdpbnMuZmluZEluZGV4KHBsdWdpbiA9PiBwbHVnaW4ucGx1Z2luTmFtZSA9PT0gYWZ0ZXIpXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmIChhZnRlckluZGV4ID4gLTEgJiYgYWZ0ZXJJbmRleCA8IHBsdWdpbkluZGV4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgUmVhY3QgVGFibGU6IFRoZSAke3BsdWdpbk5hbWV9IHBsdWdpbiBob29rIG11c3QgYmUgcGxhY2VkIGJlZm9yZSB0aGUgJHthZnRlcn0gcGx1Z2luIGhvb2shYFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZnVuY3Rpb25hbFVwZGF0ZSh1cGRhdGVyLCBvbGQpIHtcbiAgcmV0dXJuIHR5cGVvZiB1cGRhdGVyID09PSAnZnVuY3Rpb24nID8gdXBkYXRlcihvbGQpIDogdXBkYXRlclxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlR2V0TGF0ZXN0KG9iaikge1xuICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYoKVxuICByZWYuY3VycmVudCA9IG9ialxuXG4gIHJldHVybiBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiByZWYuY3VycmVudCwgW10pXG59XG5cbi8vIFNTUiBoYXMgaXNzdWVzIHdpdGggdXNlTGF5b3V0RWZmZWN0IHN0aWxsLCBzbyB1c2UgdXNlRWZmZWN0IGR1cmluZyBTU1JcbmV4cG9ydCBjb25zdCBzYWZlVXNlTGF5b3V0RWZmZWN0ID1cbiAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IFJlYWN0LnVzZUxheW91dEVmZmVjdCA6IFJlYWN0LnVzZUVmZmVjdFxuXG5leHBvcnQgZnVuY3Rpb24gdXNlTW91bnRlZExheW91dEVmZmVjdChmbiwgZGVwcykge1xuICBjb25zdCBtb3VudGVkUmVmID0gUmVhY3QudXNlUmVmKGZhbHNlKVxuXG4gIHNhZmVVc2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtb3VudGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgIGZuKClcbiAgICB9XG4gICAgbW91bnRlZFJlZi5jdXJyZW50ID0gdHJ1ZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICB9LCBkZXBzKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQXN5bmNEZWJvdW5jZShkZWZhdWx0Rm4sIGRlZmF1bHRXYWl0ID0gMCkge1xuICBjb25zdCBkZWJvdW5jZVJlZiA9IFJlYWN0LnVzZVJlZih7fSlcbiAgZGVib3VuY2VSZWYuY3VycmVudC5kZWZhdWx0Rm4gPSBkZWZhdWx0Rm5cbiAgZGVib3VuY2VSZWYuY3VycmVudC5kZWZhdWx0V2FpdCA9IGRlZmF1bHRXYWl0XG5cbiAgY29uc3QgZGVib3VuY2UgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICBhc3luYyAoXG4gICAgICBmbiA9IGRlYm91bmNlUmVmLmN1cnJlbnQuZGVmYXVsdEZuLFxuICAgICAgd2FpdCA9IGRlYm91bmNlUmVmLmN1cnJlbnQuZGVmYXVsdFdhaXRcbiAgICApID0+IHtcbiAgICAgIGlmICghZGVib3VuY2VSZWYuY3VycmVudC5wcm9taXNlKSB7XG4gICAgICAgIGRlYm91bmNlUmVmLmN1cnJlbnQucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBkZWJvdW5jZVJlZi5jdXJyZW50LnJlc29sdmUgPSByZXNvbHZlXG4gICAgICAgICAgZGVib3VuY2VSZWYuY3VycmVudC5yZWplY3QgPSByZWplY3RcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKGRlYm91bmNlUmVmLmN1cnJlbnQudGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VSZWYuY3VycmVudC50aW1lb3V0KVxuICAgICAgfVxuXG4gICAgICBkZWJvdW5jZVJlZi5jdXJyZW50LnRpbWVvdXQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgZGVsZXRlIGRlYm91bmNlUmVmLmN1cnJlbnQudGltZW91dFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGRlYm91bmNlUmVmLmN1cnJlbnQucmVzb2x2ZShhd2FpdCBmbigpKVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBkZWJvdW5jZVJlZi5jdXJyZW50LnJlamVjdChlcnIpXG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgZGVsZXRlIGRlYm91bmNlUmVmLmN1cnJlbnQucHJvbWlzZVxuICAgICAgICB9XG4gICAgICB9LCB3YWl0KVxuXG4gICAgICByZXR1cm4gZGVib3VuY2VSZWYuY3VycmVudC5wcm9taXNlXG4gICAgfSxcbiAgICBbXVxuICApXG5cbiAgcmV0dXJuIGRlYm91bmNlXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb25zdW1lSG9va0dldHRlcihob29rcywgaG9va05hbWUpIHtcbiAgY29uc3QgZ2V0dGVyID0gdXNlR2V0TGF0ZXN0KGhvb2tzW2hvb2tOYW1lXSlcbiAgaG9va3NbaG9va05hbWVdID0gdW5kZWZpbmVkXG4gIHJldHVybiBnZXR0ZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSZW5kZXJlcihpbnN0YW5jZSwgY29sdW1uLCBtZXRhID0ge30pIHtcbiAgcmV0dXJuICh0eXBlLCB1c2VyUHJvcHMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IENvbXAgPSB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgPyBjb2x1bW5bdHlwZV0gOiB0eXBlXG5cbiAgICBpZiAodHlwZW9mIENvbXAgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocmVuZGVyRXJyKVxuICAgIH1cblxuICAgIHJldHVybiBmbGV4UmVuZGVyKENvbXAsIHsgLi4uaW5zdGFuY2UsIGNvbHVtbiwgLi4ubWV0YSwgLi4udXNlclByb3BzIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsZXhSZW5kZXIoQ29tcCwgcHJvcHMpIHtcbiAgcmV0dXJuIGlzUmVhY3RDb21wb25lbnQoQ29tcCkgPyA8Q29tcCB7Li4ucHJvcHN9IC8+IDogQ29tcFxufVxuXG5mdW5jdGlvbiBpc0NsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBjb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiZcbiAgICAhISgoKSA9PiB7XG4gICAgICBsZXQgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY29tcG9uZW50KVxuICAgICAgcmV0dXJuIHByb3RvLnByb3RvdHlwZSAmJiBwcm90by5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudFxuICAgIH0pKClcbiAgKVxufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICByZXR1cm4gdHlwZW9mIGNvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJ1xufVxuXG5mdW5jdGlvbiBpc0V4b3RpY0NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgY29tcG9uZW50ID09PSAnb2JqZWN0JyAmJlxuICAgIHR5cGVvZiBjb21wb25lbnQuJCR0eXBlb2YgPT09ICdzeW1ib2wnICYmXG4gICAgWydyZWFjdC5tZW1vJywgJ3JlYWN0LmZvcndhcmRfcmVmJ10uaW5jbHVkZXMoY29tcG9uZW50LiQkdHlwZW9mLmRlc2NyaXB0aW9uKVxuICApXG59XG5cbmZ1bmN0aW9uIGlzUmVhY3RDb21wb25lbnQoY29tcG9uZW50KSB7XG4gIHJldHVybiAoXG4gICAgaXNDbGFzc0NvbXBvbmVudChjb21wb25lbnQpIHx8XG4gICAgaXNGdW5jdGlvbkNvbXBvbmVudChjb21wb25lbnQpIHx8XG4gICAgaXNFeG90aWNDb21wb25lbnQoY29tcG9uZW50KVxuICApXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBkZWZhdWx0Q29sdW1uIH0gZnJvbSAnLi9wdWJsaWNVdGlscydcblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWNVdGlscydcblxuLy8gRmluZCB0aGUgZGVwdGggb2YgdGhlIGNvbHVtbnNcbmV4cG9ydCBmdW5jdGlvbiBmaW5kTWF4RGVwdGgoY29sdW1ucywgZGVwdGggPSAwKSB7XG4gIHJldHVybiBjb2x1bW5zLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgIGlmIChjdXJyLmNvbHVtbnMpIHtcbiAgICAgIHJldHVybiBNYXRoLm1heChwcmV2LCBmaW5kTWF4RGVwdGgoY3Vyci5jb2x1bW5zLCBkZXB0aCArIDEpKVxuICAgIH1cbiAgICByZXR1cm4gZGVwdGhcbiAgfSwgMClcbn1cblxuZnVuY3Rpb24gZGVjb3JhdGVDb2x1bW4oY29sdW1uLCB1c2VyRGVmYXVsdENvbHVtbiwgcGFyZW50LCBkZXB0aCwgaW5kZXgpIHtcbiAgLy8gQXBwbHkgdGhlIHVzZXJEZWZhdWx0Q29sdW1uXG4gIGNvbHVtbiA9IHsgLi4uZGVmYXVsdENvbHVtbiwgLi4udXNlckRlZmF1bHRDb2x1bW4sIC4uLmNvbHVtbiB9XG5cbiAgLy8gRmlyc3QgY2hlY2sgZm9yIHN0cmluZyBhY2Nlc3NvclxuICBsZXQgeyBpZCwgYWNjZXNzb3IsIEhlYWRlciB9ID0gY29sdW1uXG5cbiAgaWYgKHR5cGVvZiBhY2Nlc3NvciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZCA9IGlkIHx8IGFjY2Vzc29yXG4gICAgY29uc3QgYWNjZXNzb3JQYXRoID0gYWNjZXNzb3Iuc3BsaXQoJy4nKVxuICAgIGFjY2Vzc29yID0gcm93ID0+IGdldEJ5KHJvdywgYWNjZXNzb3JQYXRoKVxuICB9XG5cbiAgaWYgKCFpZCAmJiB0eXBlb2YgSGVhZGVyID09PSAnc3RyaW5nJyAmJiBIZWFkZXIpIHtcbiAgICBpZCA9IEhlYWRlclxuICB9XG5cbiAgaWYgKCFpZCAmJiBjb2x1bW4uY29sdW1ucykge1xuICAgIGNvbnNvbGUuZXJyb3IoY29sdW1uKVxuICAgIHRocm93IG5ldyBFcnJvcignQSBjb2x1bW4gSUQgKG9yIHVuaXF1ZSBcIkhlYWRlclwiIHZhbHVlKSBpcyByZXF1aXJlZCEnKVxuICB9XG5cbiAgaWYgKCFpZCkge1xuICAgIGNvbnNvbGUuZXJyb3IoY29sdW1uKVxuICAgIHRocm93IG5ldyBFcnJvcignQSBjb2x1bW4gSUQgKG9yIHN0cmluZyBhY2Nlc3NvcikgaXMgcmVxdWlyZWQhJylcbiAgfVxuXG4gIGNvbHVtbiA9IHtcbiAgICAvLyBNYWtlIHN1cmUgdGhlcmUgaXMgYSBmYWxsYmFjayBoZWFkZXIsIGp1c3QgaW4gY2FzZVxuICAgIEhlYWRlcjogKCkgPT4gPD4mbmJzcDs8Lz4sXG4gICAgRm9vdGVyOiAoKSA9PiA8PiZuYnNwOzwvPixcbiAgICAuLi5jb2x1bW4sXG4gICAgLy8gTWF0ZXJpYWxpemUgYW5kIG92ZXJyaWRlIHRoaXMgc3R1ZmZcbiAgICBpZCxcbiAgICBhY2Nlc3NvcixcbiAgICBwYXJlbnQsXG4gICAgZGVwdGgsXG4gICAgaW5kZXgsXG4gIH1cblxuICByZXR1cm4gY29sdW1uXG59XG5cbi8vIEJ1aWxkIHRoZSB2aXNpYmxlIGNvbHVtbnMsIGhlYWRlcnMgYW5kIGZsYXQgY29sdW1uIGxpc3RcbmV4cG9ydCBmdW5jdGlvbiBkZWNvcmF0ZUNvbHVtblRyZWUoY29sdW1ucywgZGVmYXVsdENvbHVtbiwgcGFyZW50LCBkZXB0aCA9IDApIHtcbiAgcmV0dXJuIGNvbHVtbnMubWFwKChjb2x1bW4sIGNvbHVtbkluZGV4KSA9PiB7XG4gICAgY29sdW1uID0gZGVjb3JhdGVDb2x1bW4oY29sdW1uLCBkZWZhdWx0Q29sdW1uLCBwYXJlbnQsIGRlcHRoLCBjb2x1bW5JbmRleClcbiAgICBpZiAoY29sdW1uLmNvbHVtbnMpIHtcbiAgICAgIGNvbHVtbi5jb2x1bW5zID0gZGVjb3JhdGVDb2x1bW5UcmVlKFxuICAgICAgICBjb2x1bW4uY29sdW1ucyxcbiAgICAgICAgZGVmYXVsdENvbHVtbixcbiAgICAgICAgY29sdW1uLFxuICAgICAgICBkZXB0aCArIDFcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGNvbHVtblxuICB9KVxufVxuXG4vLyBCdWlsZCB0aGUgaGVhZGVyIGdyb3VwcyBmcm9tIHRoZSBib3R0b20gdXBcbmV4cG9ydCBmdW5jdGlvbiBtYWtlSGVhZGVyR3JvdXBzKGZsYXRDb2x1bW5zLCBkZWZhdWx0Q29sdW1uKSB7XG4gIGNvbnN0IGhlYWRlckdyb3VwcyA9IFtdXG5cbiAgLy8gQnVpbGQgZWFjaCBoZWFkZXIgZ3JvdXAgZnJvbSB0aGUgYm90dG9tIHVwXG4gIGNvbnN0IGJ1aWxkR3JvdXAgPSAoY29sdW1ucywgZGVwdGgpID0+IHtcbiAgICBjb25zdCBoZWFkZXJHcm91cCA9IHtcbiAgICAgIGhlYWRlcnM6IFtdLFxuICAgIH1cblxuICAgIGNvbnN0IHBhcmVudENvbHVtbnMgPSBbXVxuXG4gICAgLy8gRG8gYW55IG9mIHRoZXNlIGNvbHVtbnMgaGF2ZSBwYXJlbnRzP1xuICAgIGNvbnN0IGhhc1BhcmVudHMgPSBjb2x1bW5zLnNvbWUoY29sID0+IGNvbC5wYXJlbnQpXG5cbiAgICBjb2x1bW5zLmZvckVhY2goY29sdW1uID0+IHtcbiAgICAgIC8vIEFyZSB3ZSB0aGUgZmlyc3QgY29sdW1uIGluIHRoaXMgZ3JvdXA/XG4gICAgICBjb25zdCBpc0ZpcnN0ID0gIXBhcmVudENvbHVtbnMubGVuZ3RoXG5cbiAgICAgIC8vIFdoYXQgaXMgdGhlIGxhdGVzdCAobGFzdCkgcGFyZW50IGNvbHVtbj9cbiAgICAgIGxldCBsYXRlc3RQYXJlbnRDb2x1bW4gPSBbLi4ucGFyZW50Q29sdW1uc10ucmV2ZXJzZSgpWzBdXG5cbiAgICAgIC8vIElmIHRoZSBjb2x1bW4gaGFzIGEgcGFyZW50LCBhZGQgaXQgaWYgbmVjZXNzYXJ5XG4gICAgICBpZiAoY29sdW1uLnBhcmVudCkge1xuICAgICAgICBjb25zdCBzaW1pbGFyUGFyZW50Q29sdW1ucyA9IHBhcmVudENvbHVtbnMuZmlsdGVyKFxuICAgICAgICAgIGQgPT4gZC5vcmlnaW5hbElkID09PSBjb2x1bW4ucGFyZW50LmlkXG4gICAgICAgIClcbiAgICAgICAgaWYgKGlzRmlyc3QgfHwgbGF0ZXN0UGFyZW50Q29sdW1uLm9yaWdpbmFsSWQgIT09IGNvbHVtbi5wYXJlbnQuaWQpIHtcbiAgICAgICAgICBwYXJlbnRDb2x1bW5zLnB1c2goe1xuICAgICAgICAgICAgLi4uY29sdW1uLnBhcmVudCxcbiAgICAgICAgICAgIG9yaWdpbmFsSWQ6IGNvbHVtbi5wYXJlbnQuaWQsXG4gICAgICAgICAgICBpZDogW2NvbHVtbi5wYXJlbnQuaWQsIHNpbWlsYXJQYXJlbnRDb2x1bW5zLmxlbmd0aF0uam9pbignXycpLFxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaGFzUGFyZW50cykge1xuICAgICAgICAvLyBJZiBvdGhlciBjb2x1bW5zIGhhdmUgcGFyZW50cywgd2UnbGwgbmVlZCB0byBhZGQgYSBwbGFjZSBob2xkZXIgaWYgbmVjZXNzYXJ5XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSWQgPSBbY29sdW1uLmlkLCAncGxhY2Vob2xkZXInXS5qb2luKCdfJylcbiAgICAgICAgY29uc3Qgc2ltaWxhclBhcmVudENvbHVtbnMgPSBwYXJlbnRDb2x1bW5zLmZpbHRlcihcbiAgICAgICAgICBkID0+IGQub3JpZ2luYWxJZCA9PT0gb3JpZ2luYWxJZFxuICAgICAgICApXG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyQ29sdW1uID0gZGVjb3JhdGVDb2x1bW4oXG4gICAgICAgICAge1xuICAgICAgICAgICAgb3JpZ2luYWxJZCxcbiAgICAgICAgICAgIGlkOiBbY29sdW1uLmlkLCAncGxhY2Vob2xkZXInLCBzaW1pbGFyUGFyZW50Q29sdW1ucy5sZW5ndGhdLmpvaW4oXG4gICAgICAgICAgICAgICdfJ1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyT2Y6IGNvbHVtbixcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlZmF1bHRDb2x1bW5cbiAgICAgICAgKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNGaXJzdCB8fFxuICAgICAgICAgIGxhdGVzdFBhcmVudENvbHVtbi5vcmlnaW5hbElkICE9PSBwbGFjZWhvbGRlckNvbHVtbi5vcmlnaW5hbElkXG4gICAgICAgICkge1xuICAgICAgICAgIHBhcmVudENvbHVtbnMucHVzaChwbGFjZWhvbGRlckNvbHVtbilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBFc3RhYmxpc2ggdGhlIG5ldyBoZWFkZXJzW10gcmVsYXRpb25zaGlwIG9uIHRoZSBwYXJlbnRcbiAgICAgIGlmIChjb2x1bW4ucGFyZW50IHx8IGhhc1BhcmVudHMpIHtcbiAgICAgICAgbGF0ZXN0UGFyZW50Q29sdW1uID0gWy4uLnBhcmVudENvbHVtbnNdLnJldmVyc2UoKVswXVxuICAgICAgICBsYXRlc3RQYXJlbnRDb2x1bW4uaGVhZGVycyA9IGxhdGVzdFBhcmVudENvbHVtbi5oZWFkZXJzIHx8IFtdXG4gICAgICAgIGlmICghbGF0ZXN0UGFyZW50Q29sdW1uLmhlYWRlcnMuaW5jbHVkZXMoY29sdW1uKSkge1xuICAgICAgICAgIGxhdGVzdFBhcmVudENvbHVtbi5oZWFkZXJzLnB1c2goY29sdW1uKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbHVtbi50b3RhbEhlYWRlckNvdW50ID0gY29sdW1uLmhlYWRlcnNcbiAgICAgICAgPyBjb2x1bW4uaGVhZGVycy5yZWR1Y2UoXG4gICAgICAgICAgICAoc3VtLCBoZWFkZXIpID0+IHN1bSArIGhlYWRlci50b3RhbEhlYWRlckNvdW50LFxuICAgICAgICAgICAgMFxuICAgICAgICAgIClcbiAgICAgICAgOiAxIC8vIExlYWYgbm9kZSBjb2x1bW5zIHRha2UgdXAgYXQgbGVhc3Qgb25lIGNvdW50XG4gICAgICBoZWFkZXJHcm91cC5oZWFkZXJzLnB1c2goY29sdW1uKVxuICAgIH0pXG5cbiAgICBoZWFkZXJHcm91cHMucHVzaChoZWFkZXJHcm91cClcblxuICAgIGlmIChwYXJlbnRDb2x1bW5zLmxlbmd0aCkge1xuICAgICAgYnVpbGRHcm91cChwYXJlbnRDb2x1bW5zLCBkZXB0aCArIDEpXG4gICAgfVxuICB9XG5cbiAgYnVpbGRHcm91cChmbGF0Q29sdW1ucywgMClcblxuICByZXR1cm4gaGVhZGVyR3JvdXBzLnJldmVyc2UoKVxufVxuXG5jb25zdCBwYXRoT2JqQ2FjaGUgPSBuZXcgTWFwKClcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJ5KG9iaiwgcGF0aCwgZGVmKSB7XG4gIGlmICghcGF0aCkge1xuICAgIHJldHVybiBvYmpcbiAgfVxuICBjb25zdCBjYWNoZUtleSA9IHR5cGVvZiBwYXRoID09PSAnZnVuY3Rpb24nID8gcGF0aCA6IEpTT04uc3RyaW5naWZ5KHBhdGgpXG5cbiAgY29uc3QgcGF0aE9iaiA9XG4gICAgcGF0aE9iakNhY2hlLmdldChjYWNoZUtleSkgfHxcbiAgICAoKCkgPT4ge1xuICAgICAgY29uc3QgcGF0aE9iaiA9IG1ha2VQYXRoQXJyYXkocGF0aClcbiAgICAgIHBhdGhPYmpDYWNoZS5zZXQoY2FjaGVLZXksIHBhdGhPYmopXG4gICAgICByZXR1cm4gcGF0aE9ialxuICAgIH0pKClcblxuICBsZXQgdmFsXG5cbiAgdHJ5IHtcbiAgICB2YWwgPSBwYXRoT2JqLnJlZHVjZSgoY3Vyc29yLCBwYXRoUGFydCkgPT4gY3Vyc29yW3BhdGhQYXJ0XSwgb2JqKVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gY29udGludWUgcmVnYXJkbGVzcyBvZiBlcnJvclxuICB9XG4gIHJldHVybiB0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJyA/IHZhbCA6IGRlZlxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rmlyc3REZWZpbmVkKC4uLmFyZ3MpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKHR5cGVvZiBhcmdzW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuIGFyZ3NbaV1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnREaW1lbnNpb25zKGVsZW1lbnQpIHtcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KVxuICBjb25zdCBtYXJnaW5zID0ge1xuICAgIGxlZnQ6IHBhcnNlSW50KHN0eWxlLm1hcmdpbkxlZnQpLFxuICAgIHJpZ2h0OiBwYXJzZUludChzdHlsZS5tYXJnaW5SaWdodCksXG4gIH1cbiAgY29uc3QgcGFkZGluZyA9IHtcbiAgICBsZWZ0OiBwYXJzZUludChzdHlsZS5wYWRkaW5nTGVmdCksXG4gICAgcmlnaHQ6IHBhcnNlSW50KHN0eWxlLnBhZGRpbmdSaWdodCksXG4gIH1cbiAgcmV0dXJuIHtcbiAgICBsZWZ0OiBNYXRoLmNlaWwocmVjdC5sZWZ0KSxcbiAgICB3aWR0aDogTWF0aC5jZWlsKHJlY3Qud2lkdGgpLFxuICAgIG91dGVyV2lkdGg6IE1hdGguY2VpbChcbiAgICAgIHJlY3Qud2lkdGggKyBtYXJnaW5zLmxlZnQgKyBtYXJnaW5zLnJpZ2h0ICsgcGFkZGluZy5sZWZ0ICsgcGFkZGluZy5yaWdodFxuICAgICksXG4gICAgbWFyZ2luTGVmdDogbWFyZ2lucy5sZWZ0LFxuICAgIG1hcmdpblJpZ2h0OiBtYXJnaW5zLnJpZ2h0LFxuICAgIHBhZGRpbmdMZWZ0OiBwYWRkaW5nLmxlZnQsXG4gICAgcGFkZGluZ1JpZ2h0OiBwYWRkaW5nLnJpZ2h0LFxuICAgIHNjcm9sbFdpZHRoOiBlbGVtZW50LnNjcm9sbFdpZHRoLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKGEpIHtcbiAgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGFcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkJ5KGNvbHVtbnMsIGNoaWxkS2V5KSB7XG4gIGNvbnN0IGZsYXRDb2x1bW5zID0gW11cblxuICBjb25zdCByZWN1cnNlID0gY29sdW1ucyA9PiB7XG4gICAgY29sdW1ucy5mb3JFYWNoKGQgPT4ge1xuICAgICAgaWYgKCFkW2NoaWxkS2V5XSkge1xuICAgICAgICBmbGF0Q29sdW1ucy5wdXNoKGQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWN1cnNlKGRbY2hpbGRLZXldKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICByZWN1cnNlKGNvbHVtbnMpXG5cbiAgcmV0dXJuIGZsYXRDb2x1bW5zXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRSb3dzKFxuICByb3dzLFxuICB7IG1hbnVhbEV4cGFuZGVkS2V5LCBleHBhbmRlZCwgZXhwYW5kU3ViUm93cyA9IHRydWUgfVxuKSB7XG4gIGNvbnN0IGV4cGFuZGVkUm93cyA9IFtdXG5cbiAgY29uc3QgaGFuZGxlUm93ID0gcm93ID0+IHtcbiAgICByb3cuaXNFeHBhbmRlZCA9XG4gICAgICAocm93Lm9yaWdpbmFsICYmIHJvdy5vcmlnaW5hbFttYW51YWxFeHBhbmRlZEtleV0pIHx8IGV4cGFuZGVkW3Jvdy5pZF1cblxuICAgIHJvdy5jYW5FeHBhbmQgPSByb3cuc3ViUm93cyAmJiAhIXJvdy5zdWJSb3dzLmxlbmd0aFxuXG4gICAgZXhwYW5kZWRSb3dzLnB1c2gocm93KVxuXG4gICAgaWYgKGV4cGFuZFN1YlJvd3MgJiYgcm93LnN1YlJvd3MgJiYgcm93LnN1YlJvd3MubGVuZ3RoICYmIHJvdy5pc0V4cGFuZGVkKSB7XG4gICAgICByb3cuc3ViUm93cy5mb3JFYWNoKGhhbmRsZVJvdylcbiAgICB9XG4gIH1cblxuICByb3dzLmZvckVhY2goaGFuZGxlUm93KVxuXG4gIHJldHVybiBleHBhbmRlZFJvd3Ncbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbHRlck1ldGhvZChmaWx0ZXIsIHVzZXJGaWx0ZXJUeXBlcywgZmlsdGVyVHlwZXMpIHtcbiAgcmV0dXJuIChcbiAgICBpc0Z1bmN0aW9uKGZpbHRlcikgfHxcbiAgICB1c2VyRmlsdGVyVHlwZXNbZmlsdGVyXSB8fFxuICAgIGZpbHRlclR5cGVzW2ZpbHRlcl0gfHxcbiAgICBmaWx0ZXJUeXBlcy50ZXh0XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZEF1dG9SZW1vdmVGaWx0ZXIoYXV0b1JlbW92ZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGF1dG9SZW1vdmUgPyBhdXRvUmVtb3ZlKHZhbHVlKSA6IHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCdcbn1cblxuLy9cblxuY29uc3QgcmVPcGVuQnJhY2tldCA9IC9cXFsvZ1xuY29uc3QgcmVDbG9zZUJyYWNrZXQgPSAvXFxdL2dcblxuZnVuY3Rpb24gbWFrZVBhdGhBcnJheShvYmopIHtcbiAgcmV0dXJuIChcbiAgICBmbGF0dGVuRGVlcChvYmopXG4gICAgICAvLyByZW1vdmUgYWxsIHBlcmlvZHMgaW4gcGFydHNcbiAgICAgIC5tYXAoZCA9PiBTdHJpbmcoZCkucmVwbGFjZSgnLicsICdfJykpXG4gICAgICAvLyBqb2luIHBhcnRzIHVzaW5nIHBlcmlvZFxuICAgICAgLmpvaW4oJy4nKVxuICAgICAgLy8gcmVwbGFjZSBicmFja2V0cyB3aXRoIHBlcmlvZHNcbiAgICAgIC5yZXBsYWNlKHJlT3BlbkJyYWNrZXQsICcuJylcbiAgICAgIC5yZXBsYWNlKHJlQ2xvc2VCcmFja2V0LCAnJylcbiAgICAgIC8vIHNwbGl0IGl0IGJhY2sgb3V0IG9uIHBlcmlvZHNcbiAgICAgIC5zcGxpdCgnLicpXG4gIClcbn1cblxuZnVuY3Rpb24gZmxhdHRlbkRlZXAoYXJyLCBuZXdBcnIgPSBbXSkge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIG5ld0Fyci5wdXNoKGFycilcbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgZmxhdHRlbkRlZXAoYXJyW2ldLCBuZXdBcnIpXG4gICAgfVxuICB9XG4gIHJldHVybiBuZXdBcnJcbn1cbiIsImNvbnN0IGRlZmF1bHRDZWxscyA9IGNlbGwgPT4gY2VsbC5maWx0ZXIoZCA9PiBkLmNvbHVtbi5pc1Zpc2libGUpXG5cbmNvbnN0IGRlZmF1bHRHZXRIZWFkZXJQcm9wcyA9IChwcm9wcywgeyBjb2x1bW4gfSkgPT4gKHtcbiAga2V5OiBgaGVhZGVyXyR7Y29sdW1uLmlkfWAsXG4gIGNvbFNwYW46IGNvbHVtbi50b3RhbFZpc2libGVIZWFkZXJDb3VudCxcbiAgLi4ucHJvcHMsXG59KVxuXG5jb25zdCBkZWZhdWx0R2V0Rm9vdGVyUHJvcHMgPSAocHJvcHMsIHsgY29sdW1uIH0pID0+ICh7XG4gIGtleTogYGZvb3Rlcl8ke2NvbHVtbi5pZH1gLFxuICBjb2xTcGFuOiBjb2x1bW4udG90YWxWaXNpYmxlSGVhZGVyQ291bnQsXG4gIC4uLnByb3BzLFxufSlcblxuY29uc3QgZGVmYXVsdEdldEhlYWRlckdyb3VwUHJvcHMgPSAocHJvcHMsIHsgaW5kZXggfSkgPT4gKHtcbiAga2V5OiBgaGVhZGVyR3JvdXBfJHtpbmRleH1gLFxuICAuLi5wcm9wcyxcbn0pXG5cbmNvbnN0IGRlZmF1bHRHZXRGb290ZXJHcm91cFByb3BzID0gKHByb3BzLCB7IGluZGV4IH0pID0+ICh7XG4gIGtleTogYGZvb3Rlckdyb3VwXyR7aW5kZXh9YCxcbiAgLi4ucHJvcHMsXG59KVxuXG5jb25zdCBkZWZhdWx0R2V0Um93UHJvcHMgPSAocHJvcHMsIHsgcm93IH0pID0+ICh7XG4gIGtleTogYHJvd18ke3Jvdy5pZH1gLFxuICAuLi5wcm9wcyxcbn0pXG5cbmNvbnN0IGRlZmF1bHRHZXRDZWxsUHJvcHMgPSAocHJvcHMsIHsgY2VsbCB9KSA9PiAoe1xuICAuLi5wcm9wcyxcbiAga2V5OiBgY2VsbF8ke2NlbGwucm93LmlkfV8ke2NlbGwuY29sdW1uLmlkfWAsXG59KVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlRGVmYXVsdFBsdWdpbkhvb2tzKCkge1xuICByZXR1cm4ge1xuICAgIHVzZU9wdGlvbnM6IFtdLFxuICAgIHN0YXRlUmVkdWNlcnM6IFtdLFxuICAgIHVzZUNvbnRyb2xsZWRTdGF0ZTogW10sXG4gICAgY29sdW1uczogW10sXG4gICAgY29sdW1uc0RlcHM6IFtdLFxuICAgIGZsYXRDb2x1bW5zOiBbXSxcbiAgICBmbGF0Q29sdW1uc0RlcHM6IFtdLFxuICAgIGhlYWRlckdyb3VwczogW10sXG4gICAgaGVhZGVyR3JvdXBzRGVwczogW10sXG4gICAgdXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zOiBbXSxcbiAgICB1c2VJbnN0YW5jZTogW10sXG4gICAgdXNlUm93czogW10sXG4gICAgY2VsbHM6IFtkZWZhdWx0Q2VsbHNdLFxuICAgIHByZXBhcmVSb3c6IFtdLFxuICAgIGdldFRhYmxlUHJvcHM6IFtdLFxuICAgIGdldFRhYmxlQm9keVByb3BzOiBbXSxcbiAgICBnZXRIZWFkZXJHcm91cFByb3BzOiBbZGVmYXVsdEdldEhlYWRlckdyb3VwUHJvcHNdLFxuICAgIGdldEZvb3Rlckdyb3VwUHJvcHM6IFtkZWZhdWx0R2V0Rm9vdGVyR3JvdXBQcm9wc10sXG4gICAgZ2V0SGVhZGVyUHJvcHM6IFtkZWZhdWx0R2V0SGVhZGVyUHJvcHNdLFxuICAgIGdldEZvb3RlclByb3BzOiBbZGVmYXVsdEdldEZvb3RlclByb3BzXSxcbiAgICBnZXRSb3dQcm9wczogW2RlZmF1bHRHZXRSb3dQcm9wc10sXG4gICAgZ2V0Q2VsbFByb3BzOiBbZGVmYXVsdEdldENlbGxQcm9wc10sXG4gICAgdXNlRmluYWxJbnN0YW5jZTogW10sXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgZnVuY3Rpb25hbFVwZGF0ZSxcbiAgdXNlR2V0TGF0ZXN0LFxuICB1c2VDb25zdW1lSG9va0dldHRlcixcbiAgbWFrZVByb3BHZXR0ZXIsXG59IGZyb20gJy4uL3V0aWxzJ1xuXG5hY3Rpb25zLnJlc2V0SGlkZGVuQ29sdW1ucyA9ICdyZXNldEhpZGRlbkNvbHVtbnMnXG5hY3Rpb25zLnRvZ2dsZUhpZGVDb2x1bW4gPSAndG9nZ2xlSGlkZUNvbHVtbidcbmFjdGlvbnMuc2V0SGlkZGVuQ29sdW1ucyA9ICdzZXRIaWRkZW5Db2x1bW5zJ1xuYWN0aW9ucy50b2dnbGVIaWRlQWxsQ29sdW1ucyA9ICd0b2dnbGVIaWRlQWxsQ29sdW1ucydcblxuZXhwb3J0IGNvbnN0IHVzZUNvbHVtblZpc2liaWxpdHkgPSBob29rcyA9PiB7XG4gIGhvb2tzLmdldFRvZ2dsZUhpZGRlblByb3BzID0gW2RlZmF1bHRHZXRUb2dnbGVIaWRkZW5Qcm9wc11cbiAgaG9va3MuZ2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wcyA9IFtkZWZhdWx0R2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wc11cblxuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zLnB1c2godXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zKVxuICBob29rcy5oZWFkZXJHcm91cHNEZXBzLnB1c2goKGRlcHMsIHsgaW5zdGFuY2UgfSkgPT4gW1xuICAgIC4uLmRlcHMsXG4gICAgaW5zdGFuY2Uuc3RhdGUuaGlkZGVuQ29sdW1ucyxcbiAgXSlcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlQ29sdW1uVmlzaWJpbGl0eS5wbHVnaW5OYW1lID0gJ3VzZUNvbHVtblZpc2liaWxpdHknXG5cbmNvbnN0IGRlZmF1bHRHZXRUb2dnbGVIaWRkZW5Qcm9wcyA9IChwcm9wcywgeyBjb2x1bW4gfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIG9uQ2hhbmdlOiBlID0+IHtcbiAgICAgIGNvbHVtbi50b2dnbGVIaWRkZW4oIWUudGFyZ2V0LmNoZWNrZWQpXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgfSxcbiAgICBjaGVja2VkOiBjb2x1bW4uaXNWaXNpYmxlLFxuICAgIHRpdGxlOiAnVG9nZ2xlIENvbHVtbiBWaXNpYmxlJyxcbiAgfSxcbl1cblxuY29uc3QgZGVmYXVsdEdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHMgPSAocHJvcHMsIHsgaW5zdGFuY2UgfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIG9uQ2hhbmdlOiBlID0+IHtcbiAgICAgIGluc3RhbmNlLnRvZ2dsZUhpZGVBbGxDb2x1bW5zKCFlLnRhcmdldC5jaGVja2VkKVxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIH0sXG4gICAgY2hlY2tlZDogIWluc3RhbmNlLmFsbENvbHVtbnNIaWRkZW4gJiYgIWluc3RhbmNlLnN0YXRlLmhpZGRlbkNvbHVtbnMubGVuZ3RoLFxuICAgIHRpdGxlOiAnVG9nZ2xlIEFsbCBDb2x1bW5zIEhpZGRlbicsXG4gICAgaW5kZXRlcm1pbmF0ZTpcbiAgICAgICFpbnN0YW5jZS5hbGxDb2x1bW5zSGlkZGVuICYmIGluc3RhbmNlLnN0YXRlLmhpZGRlbkNvbHVtbnMubGVuZ3RoLFxuICB9LFxuXVxuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhpZGRlbkNvbHVtbnM6IFtdLFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0SGlkZGVuQ29sdW1ucykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGhpZGRlbkNvbHVtbnM6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5oaWRkZW5Db2x1bW5zIHx8IFtdLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy50b2dnbGVIaWRlQ29sdW1uKSB7XG4gICAgY29uc3Qgc2hvdWxkID1cbiAgICAgIHR5cGVvZiBhY3Rpb24udmFsdWUgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gYWN0aW9uLnZhbHVlXG4gICAgICAgIDogIXN0YXRlLmhpZGRlbkNvbHVtbnMuaW5jbHVkZXMoYWN0aW9uLmNvbHVtbklkKVxuXG4gICAgY29uc3QgaGlkZGVuQ29sdW1ucyA9IHNob3VsZFxuICAgICAgPyBbLi4uc3RhdGUuaGlkZGVuQ29sdW1ucywgYWN0aW9uLmNvbHVtbklkXVxuICAgICAgOiBzdGF0ZS5oaWRkZW5Db2x1bW5zLmZpbHRlcihkID0+IGQgIT09IGFjdGlvbi5jb2x1bW5JZClcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGhpZGRlbkNvbHVtbnMsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnNldEhpZGRlbkNvbHVtbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBoaWRkZW5Db2x1bW5zOiBmdW5jdGlvbmFsVXBkYXRlKGFjdGlvbi52YWx1ZSwgc3RhdGUuaGlkZGVuQ29sdW1ucyksXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnRvZ2dsZUhpZGVBbGxDb2x1bW5zKSB7XG4gICAgY29uc3Qgc2hvdWxkQWxsID1cbiAgICAgIHR5cGVvZiBhY3Rpb24udmFsdWUgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gYWN0aW9uLnZhbHVlXG4gICAgICAgIDogIXN0YXRlLmhpZGRlbkNvbHVtbnMubGVuZ3RoXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBoaWRkZW5Db2x1bW5zOiBzaG91bGRBbGwgPyBpbnN0YW5jZS5mbGF0Q29sdW1ucy5tYXAoZCA9PiBkLmlkKSA6IFtdLFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZUJlZm9yZURpbWVuc2lvbnMoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGhlYWRlcnMsXG4gICAgc3RhdGU6IHsgaGlkZGVuQ29sdW1ucyB9LFxuICB9ID0gaW5zdGFuY2VcblxuICBjb25zdCBpc01vdW50ZWRSZWYgPSBSZWFjdC51c2VSZWYoZmFsc2UpXG5cbiAgaWYgKCFpc01vdW50ZWRSZWYuY3VycmVudCkge1xuICB9XG5cbiAgY29uc3QgaGFuZGxlQ29sdW1uID0gKGNvbHVtbiwgcGFyZW50VmlzaWJsZSkgPT4ge1xuICAgIGNvbHVtbi5pc1Zpc2libGUgPSBwYXJlbnRWaXNpYmxlICYmICFoaWRkZW5Db2x1bW5zLmluY2x1ZGVzKGNvbHVtbi5pZClcblxuICAgIGxldCB0b3RhbFZpc2libGVIZWFkZXJDb3VudCA9IDBcblxuICAgIGlmIChjb2x1bW4uaGVhZGVycyAmJiBjb2x1bW4uaGVhZGVycy5sZW5ndGgpIHtcbiAgICAgIGNvbHVtbi5oZWFkZXJzLmZvckVhY2goXG4gICAgICAgIHN1YkNvbHVtbiA9PlxuICAgICAgICAgICh0b3RhbFZpc2libGVIZWFkZXJDb3VudCArPSBoYW5kbGVDb2x1bW4oc3ViQ29sdW1uLCBjb2x1bW4uaXNWaXNpYmxlKSlcbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgdG90YWxWaXNpYmxlSGVhZGVyQ291bnQgPSBjb2x1bW4uaXNWaXNpYmxlID8gMSA6IDBcbiAgICB9XG5cbiAgICBjb2x1bW4udG90YWxWaXNpYmxlSGVhZGVyQ291bnQgPSB0b3RhbFZpc2libGVIZWFkZXJDb3VudFxuXG4gICAgcmV0dXJuIHRvdGFsVmlzaWJsZUhlYWRlckNvdW50XG4gIH1cblxuICBsZXQgdG90YWxWaXNpYmxlSGVhZGVyQ291bnQgPSAwXG5cbiAgaGVhZGVycy5mb3JFYWNoKFxuICAgIHN1YkhlYWRlciA9PiAodG90YWxWaXNpYmxlSGVhZGVyQ291bnQgKz0gaGFuZGxlQ29sdW1uKHN1YkhlYWRlciwgdHJ1ZSkpXG4gIClcbn1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGZsYXRIZWFkZXJzLFxuICAgIGRpc3BhdGNoLFxuICAgIGZsYXRDb2x1bW5zLFxuICAgIHN0YXRlOiB7IGhpZGRlbkNvbHVtbnMgfSxcbiAgfSA9IGluc3RhbmNlXG5cbiAgY29uc3QgZ2V0SW5zdGFuY2UgPSB1c2VHZXRMYXRlc3QoaW5zdGFuY2UpXG5cbiAgY29uc3QgYWxsQ29sdW1uc0hpZGRlbiA9IGZsYXRDb2x1bW5zLmxlbmd0aCA9PT0gaGlkZGVuQ29sdW1ucy5sZW5ndGhcblxuICBjb25zdCB0b2dnbGVIaWRlQ29sdW1uID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGNvbHVtbklkLCB2YWx1ZSkgPT5cbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVIaWRlQ29sdW1uLCBjb2x1bW5JZCwgdmFsdWUgfSksXG4gICAgW2Rpc3BhdGNoXVxuICApXG5cbiAgY29uc3Qgc2V0SGlkZGVuQ29sdW1ucyA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIHZhbHVlID0+IGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5zZXRIaWRkZW5Db2x1bW5zLCB2YWx1ZSB9KSxcbiAgICBbZGlzcGF0Y2hdXG4gIClcblxuICBjb25zdCB0b2dnbGVIaWRlQWxsQ29sdW1ucyA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIHZhbHVlID0+IGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVIaWRlQWxsQ29sdW1ucywgdmFsdWUgfSksXG4gICAgW2Rpc3BhdGNoXVxuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldFRvZ2dsZUhpZGVBbGxDb2x1bW5zUHJvcHMnXG4gIClcblxuICBjb25zdCBnZXRUb2dnbGVIaWRlQWxsQ29sdW1uc1Byb3BzID0gbWFrZVByb3BHZXR0ZXIoXG4gICAgZ2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wc0hvb2tzKCksXG4gICAgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSB9XG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VG9nZ2xlSGlkZGVuUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldFRvZ2dsZUhpZGRlblByb3BzJ1xuICApXG5cbiAgZmxhdEhlYWRlcnMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgIGNvbHVtbi50b2dnbGVIaWRkZW4gPSB2YWx1ZSA9PiB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IGFjdGlvbnMudG9nZ2xlSGlkZUNvbHVtbixcbiAgICAgICAgY29sdW1uSWQ6IGNvbHVtbi5pZCxcbiAgICAgICAgdmFsdWUsXG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbHVtbi5nZXRUb2dnbGVIaWRkZW5Qcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldFRvZ2dsZUhpZGRlblByb3BzSG9va3MoKSwge1xuICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICBjb2x1bW4sXG4gICAgfSlcbiAgfSlcblxuICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgYWxsQ29sdW1uc0hpZGRlbixcbiAgICB0b2dnbGVIaWRlQ29sdW1uLFxuICAgIHNldEhpZGRlbkNvbHVtbnMsXG4gICAgdG9nZ2xlSGlkZUFsbENvbHVtbnMsXG4gICAgZ2V0VG9nZ2xlSGlkZUFsbENvbHVtbnNQcm9wcyxcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuLy9cbmltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIHJlZHVjZUhvb2tzLFxuICBsb29wSG9va3MsXG4gIG1ha2VQcm9wR2V0dGVyLFxuICBtYWtlUmVuZGVyZXIsXG4gIGRlY29yYXRlQ29sdW1uVHJlZSxcbiAgbWFrZUhlYWRlckdyb3VwcyxcbiAgZmxhdHRlbkJ5LFxuICB1c2VHZXRMYXRlc3QsXG4gIHVzZUNvbnN1bWVIb29rR2V0dGVyLFxufSBmcm9tICcuLi91dGlscydcblxuaW1wb3J0IG1ha2VEZWZhdWx0UGx1Z2luSG9va3MgZnJvbSAnLi4vbWFrZURlZmF1bHRQbHVnaW5Ib29rcydcblxuaW1wb3J0IHsgdXNlQ29sdW1uVmlzaWJpbGl0eSB9IGZyb20gJy4vdXNlQ29sdW1uVmlzaWJpbGl0eSdcblxuY29uc3QgZGVmYXVsdEluaXRpYWxTdGF0ZSA9IHt9XG5jb25zdCBkZWZhdWx0Q29sdW1uSW5zdGFuY2UgPSB7fVxuY29uc3QgZGVmYXVsdFJlZHVjZXIgPSAoc3RhdGUsIGFjdGlvbiwgcHJldlN0YXRlKSA9PiBzdGF0ZVxuY29uc3QgZGVmYXVsdEdldFN1YlJvd3MgPSAocm93LCBpbmRleCkgPT4gcm93LnN1YlJvd3MgfHwgW11cbmNvbnN0IGRlZmF1bHRHZXRSb3dJZCA9IChyb3csIGluZGV4LCBwYXJlbnQpID0+XG4gIGAke3BhcmVudCA/IFtwYXJlbnQuaWQsIGluZGV4XS5qb2luKCcuJykgOiBpbmRleH1gXG5jb25zdCBkZWZhdWx0VXNlQ29udHJvbGxlZFN0YXRlID0gZCA9PiBkXG5cbmZ1bmN0aW9uIGFwcGx5RGVmYXVsdHMocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGluaXRpYWxTdGF0ZSA9IGRlZmF1bHRJbml0aWFsU3RhdGUsXG4gICAgZGVmYXVsdENvbHVtbiA9IGRlZmF1bHRDb2x1bW5JbnN0YW5jZSxcbiAgICBnZXRTdWJSb3dzID0gZGVmYXVsdEdldFN1YlJvd3MsXG4gICAgZ2V0Um93SWQgPSBkZWZhdWx0R2V0Um93SWQsXG4gICAgc3RhdGVSZWR1Y2VyID0gZGVmYXVsdFJlZHVjZXIsXG4gICAgdXNlQ29udHJvbGxlZFN0YXRlID0gZGVmYXVsdFVzZUNvbnRyb2xsZWRTdGF0ZSxcbiAgICAuLi5yZXN0XG4gIH0gPSBwcm9wc1xuXG4gIHJldHVybiB7XG4gICAgLi4ucmVzdCxcbiAgICBpbml0aWFsU3RhdGUsXG4gICAgZGVmYXVsdENvbHVtbixcbiAgICBnZXRTdWJSb3dzLFxuICAgIGdldFJvd0lkLFxuICAgIHN0YXRlUmVkdWNlcixcbiAgICB1c2VDb250cm9sbGVkU3RhdGUsXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHVzZVRhYmxlID0gKHByb3BzLCAuLi5wbHVnaW5zKSA9PiB7XG4gIC8vIEFwcGx5IGRlZmF1bHQgcHJvcHNcbiAgcHJvcHMgPSBhcHBseURlZmF1bHRzKHByb3BzKVxuXG4gIC8vIEFkZCBjb3JlIHBsdWdpbnNcbiAgcGx1Z2lucyA9IFt1c2VDb2x1bW5WaXNpYmlsaXR5LCAuLi5wbHVnaW5zXVxuXG4gIC8vIENyZWF0ZSB0aGUgdGFibGUgaW5zdGFuY2VcbiAgbGV0IGluc3RhbmNlUmVmID0gUmVhY3QudXNlUmVmKHt9KVxuXG4gIC8vIENyZWF0ZSBhIGdldHRlciBmb3IgdGhlIGluc3RhbmNlIChoZWxwcyBhdm9pZCBhIGxvdCBvZiBwb3RlbnRpYWwgbWVtb3J5IGxlYWtzKVxuICBjb25zdCBnZXRJbnN0YW5jZSA9IHVzZUdldExhdGVzdChpbnN0YW5jZVJlZi5jdXJyZW50KVxuXG4gIC8vIEFzc2lnbiB0aGUgcHJvcHMsIHBsdWdpbnMgYW5kIGhvb2tzIHRvIHRoZSBpbnN0YW5jZVxuICBPYmplY3QuYXNzaWduKGdldEluc3RhbmNlKCksIHtcbiAgICAuLi5wcm9wcyxcbiAgICBwbHVnaW5zLFxuICAgIGhvb2tzOiBtYWtlRGVmYXVsdFBsdWdpbkhvb2tzKCksXG4gIH0pXG5cbiAgLy8gQWxsb3cgcGx1Z2lucyB0byByZWdpc3RlciBob29rcyBhcyBlYXJseSBhcyBwb3NzaWJsZVxuICBwbHVnaW5zLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKHBsdWdpbiA9PiB7XG4gICAgcGx1Z2luKGdldEluc3RhbmNlKCkuaG9va3MpXG4gIH0pXG5cbiAgY29uc3QgZ2V0VXNlT3B0aW9uc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAndXNlT3B0aW9ucydcbiAgKVxuXG4gIC8vIEFsbG93IHVzZU9wdGlvbnMgaG9va3MgdG8gbW9kaWZ5IHRoZSBvcHRpb25zIGNvbWluZyBpbnRvIHRoZSB0YWJsZVxuICBPYmplY3QuYXNzaWduKFxuICAgIGdldEluc3RhbmNlKCksXG4gICAgcmVkdWNlSG9va3MoZ2V0VXNlT3B0aW9uc0hvb2tzKCksIGFwcGx5RGVmYXVsdHMocHJvcHMpKVxuICApXG5cbiAgY29uc3Qge1xuICAgIGRhdGEsXG4gICAgY29sdW1uczogdXNlckNvbHVtbnMsXG4gICAgaW5pdGlhbFN0YXRlLFxuICAgIGRlZmF1bHRDb2x1bW4sXG4gICAgZ2V0U3ViUm93cyxcbiAgICBnZXRSb3dJZCxcbiAgICBzdGF0ZVJlZHVjZXIsXG4gICAgdXNlQ29udHJvbGxlZFN0YXRlLFxuICB9ID0gZ2V0SW5zdGFuY2UoKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRTdGF0ZVJlZHVjZXJzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnc3RhdGVSZWR1Y2VycydcbiAgKVxuXG4gIC8vIFNldHVwIHVzZXIgcmVkdWNlciByZWZcbiAgY29uc3QgZ2V0U3RhdGVSZWR1Y2VyID0gdXNlR2V0TGF0ZXN0KHN0YXRlUmVkdWNlcilcblxuICAvLyBCdWlsZCB0aGUgcmVkdWNlclxuICBjb25zdCByZWR1Y2VyID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgICAgIC8vIERldGVjdCBpbnZhbGlkIGFjdGlvbnNcbiAgICAgIGlmICghYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY29uc29sZS5pbmZvKHsgYWN0aW9uIH0pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBBY3Rpb24g8J+RhicpXG4gICAgICB9XG5cbiAgICAgIC8vIFJlZHVjZSB0aGUgc3RhdGUgZnJvbSBhbGwgcGx1Z2luIHJlZHVjZXJzXG4gICAgICByZXR1cm4gW1xuICAgICAgICAuLi5nZXRTdGF0ZVJlZHVjZXJzKCksXG4gICAgICAgIC8vIEFsbG93IHRoZSB1c2VyIHRvIGFkZCB0aGVpciBvd24gc3RhdGUgcmVkdWNlcihzKVxuICAgICAgICAuLi4oQXJyYXkuaXNBcnJheShnZXRTdGF0ZVJlZHVjZXIoKSlcbiAgICAgICAgICA/IGdldFN0YXRlUmVkdWNlcigpXG4gICAgICAgICAgOiBbZ2V0U3RhdGVSZWR1Y2VyKCldKSxcbiAgICAgIF0ucmVkdWNlKFxuICAgICAgICAocywgaGFuZGxlcikgPT4gaGFuZGxlcihzLCBhY3Rpb24sIHN0YXRlLCBnZXRJbnN0YW5jZSgpKSB8fCBzLFxuICAgICAgICBzdGF0ZVxuICAgICAgKVxuICAgIH0sXG4gICAgW2dldFN0YXRlUmVkdWNlcnMsIGdldFN0YXRlUmVkdWNlciwgZ2V0SW5zdGFuY2VdXG4gIClcblxuICAvLyBTdGFydCB0aGUgcmVkdWNlclxuICBjb25zdCBbcmVkdWNlclN0YXRlLCBkaXNwYXRjaF0gPSBSZWFjdC51c2VSZWR1Y2VyKHJlZHVjZXIsIHVuZGVmaW5lZCwgKCkgPT5cbiAgICByZWR1Y2VyKGluaXRpYWxTdGF0ZSwgeyB0eXBlOiBhY3Rpb25zLmluaXQgfSlcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRVc2VDb250cm9sbGVkU3RhdGVIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ3VzZUNvbnRyb2xsZWRTdGF0ZSdcbiAgKVxuXG4gIC8vIEFsbG93IHRoZSB1c2VyIHRvIGNvbnRyb2wgdGhlIGZpbmFsIHN0YXRlIHdpdGggaG9va3NcbiAgY29uc3Qgc3RhdGUgPSByZWR1Y2VIb29rcyhcbiAgICBbLi4uZ2V0VXNlQ29udHJvbGxlZFN0YXRlSG9va3MoKSwgdXNlQ29udHJvbGxlZFN0YXRlXSxcbiAgICByZWR1Y2VyU3RhdGUsXG4gICAgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSB9XG4gIClcblxuICBPYmplY3QuYXNzaWduKGdldEluc3RhbmNlKCksIHtcbiAgICBzdGF0ZSxcbiAgICBkaXNwYXRjaCxcbiAgfSlcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0Q29sdW1uc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoZ2V0SW5zdGFuY2UoKS5ob29rcywgJ2NvbHVtbnMnKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRDb2x1bW5zRGVwc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnY29sdW1uc0RlcHMnXG4gIClcblxuICAvLyBEZWNvcmF0ZSBBbGwgdGhlIGNvbHVtbnNcbiAgbGV0IGNvbHVtbnMgPSBSZWFjdC51c2VNZW1vKFxuICAgICgpID0+XG4gICAgICBkZWNvcmF0ZUNvbHVtblRyZWUoXG4gICAgICAgIHJlZHVjZUhvb2tzKGdldENvbHVtbnNIb29rcygpLCB1c2VyQ29sdW1ucywge1xuICAgICAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgICB9KSxcbiAgICAgICAgZGVmYXVsdENvbHVtblxuICAgICAgKSxcbiAgICBbXG4gICAgICBkZWZhdWx0Q29sdW1uLFxuICAgICAgZ2V0Q29sdW1uc0hvb2tzLFxuICAgICAgZ2V0SW5zdGFuY2UsXG4gICAgICB1c2VyQ29sdW1ucyxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICAgIC4uLnJlZHVjZUhvb2tzKGdldENvbHVtbnNEZXBzSG9va3MoKSwgW10sIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCkgfSksXG4gICAgXVxuICApXG5cbiAgZ2V0SW5zdGFuY2UoKS5jb2x1bW5zID0gY29sdW1uc1xuXG4gIC8vIEdldCB0aGUgZmxhdCBsaXN0IG9mIGFsbCBjb2x1bW5zIGFuZCBhbGxvdyBob29rcyB0byBkZWNvcmF0ZVxuICAvLyB0aG9zZSBjb2x1bW5zIChhbmQgdHJpZ2dlciB0aGlzIG1lbW9pemF0aW9uIHZpYSBkZXBzKVxuICBsZXQgZmxhdENvbHVtbnMgPSBSZWFjdC51c2VNZW1vKCgpID0+IGZsYXR0ZW5CeShjb2x1bW5zLCAnY29sdW1ucycpLCBbXG4gICAgY29sdW1ucyxcbiAgXSlcblxuICBnZXRJbnN0YW5jZSgpLmZsYXRDb2x1bW5zID0gZmxhdENvbHVtbnNcblxuICAvLyBBY2Nlc3MgdGhlIHJvdyBtb2RlbFxuICBjb25zdCBbcm93cywgZmxhdFJvd3NdID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IGZsYXRSb3dzID0gW11cblxuICAgIC8vIEFjY2VzcyB0aGUgcm93J3MgZGF0YVxuICAgIGNvbnN0IGFjY2Vzc1JvdyA9IChvcmlnaW5hbFJvdywgaSwgZGVwdGggPSAwLCBwYXJlbnQpID0+IHtcbiAgICAgIC8vIEtlZXAgdGhlIG9yaWdpbmFsIHJlZmVyZW5jZSBhcm91bmRcbiAgICAgIGNvbnN0IG9yaWdpbmFsID0gb3JpZ2luYWxSb3dcblxuICAgICAgY29uc3QgaWQgPSBnZXRSb3dJZChvcmlnaW5hbFJvdywgaSwgcGFyZW50KVxuXG4gICAgICBjb25zdCByb3cgPSB7XG4gICAgICAgIGlkLFxuICAgICAgICBvcmlnaW5hbCxcbiAgICAgICAgaW5kZXg6IGksXG4gICAgICAgIGRlcHRoLFxuICAgICAgICBjZWxsczogW3t9XSwgLy8gVGhpcyBpcyBhIGR1bW15IGNlbGxcbiAgICAgIH1cblxuICAgICAgZmxhdFJvd3MucHVzaChyb3cpXG5cbiAgICAgIC8vIFByb2Nlc3MgYW55IHN1YlJvd3NcbiAgICAgIGxldCBzdWJSb3dzID0gZ2V0U3ViUm93cyhvcmlnaW5hbFJvdywgaSlcblxuICAgICAgaWYgKHN1YlJvd3MpIHtcbiAgICAgICAgcm93LnN1YlJvd3MgPSBzdWJSb3dzLm1hcCgoZCwgaSkgPT4gYWNjZXNzUm93KGQsIGksIGRlcHRoICsgMSwgcm93KSlcbiAgICAgIH1cblxuICAgICAgLy8gT3ZlcnJpZGUgY29tbW9uIGFycmF5IGZ1bmN0aW9ucyAoYW5kIHRoZSBkdW1teSBjZWxsJ3MgZ2V0Q2VsbFByb3BzIGZ1bmN0aW9uKVxuICAgICAgLy8gdG8gc2hvdyBhbiBlcnJvciBpZiBpdCBpcyBhY2Nlc3NlZCB3aXRob3V0IGNhbGxpbmcgcHJlcGFyZVJvd1xuICAgICAgY29uc3QgdW5wcmVwYXJlZEFjY2Vzc1dhcm5pbmcgPSAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnUmVhY3QtVGFibGU6IFlvdSBoYXZlIG5vdCBjYWxsZWQgcHJlcGFyZVJvdyhyb3cpIG9uZSBvciBtb3JlIHJvd3MgeW91IGFyZSBhdHRlbXB0aW5nIHRvIHJlbmRlci4nXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJvdy5jZWxscy5tYXAgPSB1bnByZXBhcmVkQWNjZXNzV2FybmluZ1xuICAgICAgcm93LmNlbGxzLmZpbHRlciA9IHVucHJlcGFyZWRBY2Nlc3NXYXJuaW5nXG4gICAgICByb3cuY2VsbHMuZm9yRWFjaCA9IHVucHJlcGFyZWRBY2Nlc3NXYXJuaW5nXG4gICAgICByb3cuY2VsbHNbMF0uZ2V0Q2VsbFByb3BzID0gdW5wcmVwYXJlZEFjY2Vzc1dhcm5pbmdcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBjZWxscyBhbmQgdmFsdWVzXG4gICAgICByb3cudmFsdWVzID0ge31cbiAgICAgIGZsYXRDb2x1bW5zLmZvckVhY2goKHsgaWQsIGFjY2Vzc29yIH0pID0+IHtcbiAgICAgICAgcm93LnZhbHVlc1tpZF0gPSBhY2Nlc3NvclxuICAgICAgICAgID8gYWNjZXNzb3Iob3JpZ2luYWxSb3csIGksIHsgc3ViUm93cywgZGVwdGgsIGRhdGEgfSlcbiAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHJvd1xuICAgIH1cblxuICAgIC8vIFVzZSB0aGUgcmVzb2x2ZWQgZGF0YVxuICAgIGNvbnN0IGFjY2Vzc2VkRGF0YSA9IGRhdGEubWFwKChkLCBpKSA9PiBhY2Nlc3NSb3coZCwgaSkpXG5cbiAgICByZXR1cm4gW2FjY2Vzc2VkRGF0YSwgZmxhdFJvd3NdXG4gIH0sIFtkYXRhLCBmbGF0Q29sdW1ucywgZ2V0Um93SWQsIGdldFN1YlJvd3NdKVxuXG4gIGdldEluc3RhbmNlKCkucm93cyA9IHJvd3NcbiAgZ2V0SW5zdGFuY2UoKS5mbGF0Um93cyA9IGZsYXRSb3dzXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGZsYXRDb2x1bW5zSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdmbGF0Q29sdW1ucydcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBmbGF0Q29sdW1uc0RlcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2ZsYXRDb2x1bW5zRGVwcydcbiAgKVxuXG4gIC8vIEdldCB0aGUgZmxhdCBsaXN0IG9mIGFsbCBjb2x1bW5zIEFGVEVSIHRoZSByb3dzXG4gIC8vIGhhdmUgYmVlbiBhY2Nlc3MsIGFuZCBhbGxvdyBob29rcyB0byBkZWNvcmF0ZVxuICAvLyB0aG9zZSBjb2x1bW5zIChhbmQgdHJpZ2dlciB0aGlzIG1lbW9pemF0aW9uIHZpYSBkZXBzKVxuICBmbGF0Q29sdW1ucyA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIHJlZHVjZUhvb2tzKGZsYXRDb2x1bW5zSG9va3MoKSwgZmxhdENvbHVtbnMsIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCkgfSksXG4gICAgW1xuICAgICAgZmxhdENvbHVtbnMsXG4gICAgICBmbGF0Q29sdW1uc0hvb2tzLFxuICAgICAgZ2V0SW5zdGFuY2UsXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgICAuLi5yZWR1Y2VIb29rcyhmbGF0Q29sdW1uc0RlcHNIb29rcygpLCBbXSwgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSB9KSxcbiAgICBdXG4gIClcblxuICBnZXRJbnN0YW5jZSgpLmZsYXRDb2x1bW5zID0gZmxhdENvbHVtbnNcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0SGVhZGVyR3JvdXBzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnaGVhZGVyR3JvdXBzJ1xuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldEhlYWRlckdyb3Vwc0RlcHMgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdoZWFkZXJHcm91cHNEZXBzJ1xuICApXG5cbiAgLy8gTWFrZSB0aGUgaGVhZGVyR3JvdXBzXG4gIGNvbnN0IGhlYWRlckdyb3VwcyA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIHJlZHVjZUhvb2tzKFxuICAgICAgICBnZXRIZWFkZXJHcm91cHMoKSxcbiAgICAgICAgbWFrZUhlYWRlckdyb3VwcyhmbGF0Q29sdW1ucywgZGVmYXVsdENvbHVtbiksXG4gICAgICAgIGdldEluc3RhbmNlKClcbiAgICAgICksXG4gICAgW1xuICAgICAgZGVmYXVsdENvbHVtbixcbiAgICAgIGZsYXRDb2x1bW5zLFxuICAgICAgZ2V0SGVhZGVyR3JvdXBzLFxuICAgICAgZ2V0SW5zdGFuY2UsXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgICAuLi5yZWR1Y2VIb29rcyhnZXRIZWFkZXJHcm91cHNEZXBzKCksIFtdLCB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpIH0pLFxuICAgIF1cbiAgKVxuXG4gIGdldEluc3RhbmNlKCkuaGVhZGVyR3JvdXBzID0gaGVhZGVyR3JvdXBzXG5cbiAgY29uc3QgaGVhZGVycyA9IFJlYWN0LnVzZU1lbW8oXG4gICAgKCkgPT4gKGhlYWRlckdyb3Vwcy5sZW5ndGggPyBoZWFkZXJHcm91cHNbMF0uaGVhZGVycyA6IFtdKSxcbiAgICBbaGVhZGVyR3JvdXBzXVxuICApXG5cbiAgZ2V0SW5zdGFuY2UoKS5oZWFkZXJzID0gaGVhZGVyc1xuXG4gIC8vIFByb3ZpZGUgYSBmbGF0IGhlYWRlciBsaXN0IGZvciB1dGlsaXRpZXNcbiAgZ2V0SW5zdGFuY2UoKS5mbGF0SGVhZGVycyA9IGhlYWRlckdyb3Vwcy5yZWR1Y2UoXG4gICAgKGFsbCwgaGVhZGVyR3JvdXApID0+IFsuLi5hbGwsIC4uLmhlYWRlckdyb3VwLmhlYWRlcnNdLFxuICAgIFtdXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAndXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zJ1xuICApXG5cbiAgbG9vcEhvb2tzKGdldFVzZUluc3RhbmNlQmVmb3JlRGltZW5zaW9ucygpLCBnZXRJbnN0YW5jZSgpKVxuXG4gIC8vIEhlYWRlciBWaXNpYmlsaXR5IGlzIG5lZWRlZCBieSB0aGlzIHBvaW50XG4gIGNvbnN0IFtcbiAgICB0b3RhbENvbHVtbnNNaW5XaWR0aCxcbiAgICB0b3RhbENvbHVtbnNXaWR0aCxcbiAgICB0b3RhbENvbHVtbnNNYXhXaWR0aCxcbiAgXSA9IGNhbGN1bGF0ZUhlYWRlcldpZHRocyhoZWFkZXJzKVxuXG4gIGdldEluc3RhbmNlKCkudG90YWxDb2x1bW5zTWluV2lkdGggPSB0b3RhbENvbHVtbnNNaW5XaWR0aFxuICBnZXRJbnN0YW5jZSgpLnRvdGFsQ29sdW1uc1dpZHRoID0gdG90YWxDb2x1bW5zV2lkdGhcbiAgZ2V0SW5zdGFuY2UoKS50b3RhbENvbHVtbnNNYXhXaWR0aCA9IHRvdGFsQ29sdW1uc01heFdpZHRoXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFVzZUluc3RhbmNlID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAndXNlSW5zdGFuY2UnXG4gIClcblxuICBsb29wSG9va3MoZ2V0VXNlSW5zdGFuY2UoKSwgZ2V0SW5zdGFuY2UoKSlcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0SGVhZGVyUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldEhlYWRlclByb3BzJ1xuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldEZvb3RlclByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRGb290ZXJQcm9wcydcbiAgKVxuXG4gIC8vIEVhY2ggbWF0ZXJpYWxpemVkIGhlYWRlciBuZWVkcyB0byBiZSBhc3NpZ25lZCBhIHJlbmRlciBmdW5jdGlvbiBhbmQgb3RoZXJcbiAgLy8gcHJvcCBnZXR0ZXIgcHJvcGVydGllcyBoZXJlLlxuICA7Wy4uLmdldEluc3RhbmNlKCkuZmxhdEhlYWRlcnMsIC4uLmdldEluc3RhbmNlKCkuZmxhdENvbHVtbnNdLmZvckVhY2goXG4gICAgY29sdW1uID0+IHtcbiAgICAgIC8vIEdpdmUgY29sdW1ucy9oZWFkZXJzIHJlbmRlcmluZyBwb3dlclxuICAgICAgY29sdW1uLnJlbmRlciA9IG1ha2VSZW5kZXJlcihnZXRJbnN0YW5jZSgpLCBjb2x1bW4pXG5cbiAgICAgIC8vIEdpdmUgY29sdW1ucy9oZWFkZXJzIGEgZGVmYXVsdCBnZXRIZWFkZXJQcm9wc1xuICAgICAgY29sdW1uLmdldEhlYWRlclByb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0SGVhZGVyUHJvcHNIb29rcygpLCB7XG4gICAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgICBjb2x1bW4sXG4gICAgICB9KVxuXG4gICAgICAvLyBHaXZlIGNvbHVtbnMvaGVhZGVycyBhIGRlZmF1bHQgZ2V0Rm9vdGVyUHJvcHNcbiAgICAgIGNvbHVtbi5nZXRGb290ZXJQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldEZvb3RlclByb3BzSG9va3MoKSwge1xuICAgICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgY29sdW1uLFxuICAgICAgfSlcbiAgICB9XG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0SGVhZGVyR3JvdXBQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0SGVhZGVyR3JvdXBQcm9wcydcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRGb290ZXJHcm91cFByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRGb290ZXJHcm91cFByb3BzJ1xuICApXG5cbiAgZ2V0SW5zdGFuY2UoKS5oZWFkZXJHcm91cHMgPSBnZXRJbnN0YW5jZSgpLmhlYWRlckdyb3Vwcy5maWx0ZXIoXG4gICAgKGhlYWRlckdyb3VwLCBpKSA9PiB7XG4gICAgICAvLyBGaWx0ZXIgb3V0IGFueSBoZWFkZXJzIGFuZCBoZWFkZXJHcm91cHMgdGhhdCBkb24ndCBoYXZlIHZpc2libGUgY29sdW1uc1xuICAgICAgaGVhZGVyR3JvdXAuaGVhZGVycyA9IGhlYWRlckdyb3VwLmhlYWRlcnMuZmlsdGVyKGNvbHVtbiA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3Vyc2UgPSBoZWFkZXJzID0+XG4gICAgICAgICAgaGVhZGVycy5maWx0ZXIoY29sdW1uID0+IHtcbiAgICAgICAgICAgIGlmIChjb2x1bW4uaGVhZGVycykge1xuICAgICAgICAgICAgICByZXR1cm4gcmVjdXJzZShjb2x1bW4uaGVhZGVycylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb2x1bW4uaXNWaXNpYmxlXG4gICAgICAgICAgfSkubGVuZ3RoXG4gICAgICAgIGlmIChjb2x1bW4uaGVhZGVycykge1xuICAgICAgICAgIHJldHVybiByZWN1cnNlKGNvbHVtbi5oZWFkZXJzKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2x1bW4uaXNWaXNpYmxlXG4gICAgICB9KVxuXG4gICAgICAvLyBHaXZlIGhlYWRlckdyb3VwcyBnZXRSb3dQcm9wc1xuICAgICAgaWYgKGhlYWRlckdyb3VwLmhlYWRlcnMubGVuZ3RoKSB7XG4gICAgICAgIGhlYWRlckdyb3VwLmdldEhlYWRlckdyb3VwUHJvcHMgPSBtYWtlUHJvcEdldHRlcihcbiAgICAgICAgICBnZXRIZWFkZXJHcm91cFByb3BzSG9va3MoKSxcbiAgICAgICAgICB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLCBoZWFkZXJHcm91cCwgaW5kZXg6IGkgfVxuICAgICAgICApXG5cbiAgICAgICAgaGVhZGVyR3JvdXAuZ2V0Rm9vdGVyR3JvdXBQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKFxuICAgICAgICAgIGdldEZvb3Rlckdyb3VwUHJvcHNIb29rcygpLFxuICAgICAgICAgIHsgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksIGhlYWRlckdyb3VwLCBpbmRleDogaSB9XG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIClcblxuICBnZXRJbnN0YW5jZSgpLmZvb3Rlckdyb3VwcyA9IFsuLi5nZXRJbnN0YW5jZSgpLmhlYWRlckdyb3Vwc10ucmV2ZXJzZSgpXG5cbiAgLy8gUnVuIHRoZSByb3dzICh0aGlzIGNvdWxkIGJlIGEgZGFuZ2Vyb3VzIGhvb2sgd2l0aCBhIHRvbiBvZiBkYXRhKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRVc2VSb3dzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihnZXRJbnN0YW5jZSgpLmhvb2tzLCAndXNlUm93cycpXG5cbiAgZ2V0SW5zdGFuY2UoKS5yb3dzID0gcmVkdWNlSG9va3MoZ2V0VXNlUm93c0hvb2tzKCksIGdldEluc3RhbmNlKCkucm93cywge1xuICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICB9KVxuXG4gIC8vIFRoZSBwcmVwYXJlUm93IGZ1bmN0aW9uIGlzIGFic29sdXRlbHkgbmVjZXNzYXJ5IGFuZCBNVVNUIGJlIGNhbGxlZCBvblxuICAvLyBhbnkgcm93cyB0aGUgdXNlciB3aXNoZXMgdG8gYmUgZGlzcGxheWVkLlxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRQcmVwYXJlUm93SG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdwcmVwYXJlUm93J1xuICApXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFJvd1Byb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRSb3dQcm9wcydcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBnZXRDZWxsUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldENlbGxQcm9wcydcbiAgKVxuXG4gIC8vIFNuYXBzaG90IGhvb2sgYW5kIGRpc2FsbG93IG1vcmUgZnJvbSBiZWluZyBhZGRlZFxuICBjb25zdCBjZWxsc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoZ2V0SW5zdGFuY2UoKS5ob29rcywgJ2NlbGxzJylcblxuICBnZXRJbnN0YW5jZSgpLnByZXBhcmVSb3cgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICByb3cgPT4ge1xuICAgICAgcm93LmdldFJvd1Byb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0Um93UHJvcHNIb29rcygpLCB7XG4gICAgICAgIGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpLFxuICAgICAgICByb3csXG4gICAgICB9KVxuXG4gICAgICAvLyBCdWlsZCB0aGUgdmlzaWJsZSBjZWxscyBmb3IgZWFjaCByb3dcbiAgICAgIHJvdy5hbGxDZWxscyA9IGZsYXRDb2x1bW5zLm1hcChjb2x1bW4gPT4ge1xuICAgICAgICBjb25zdCBjZWxsID0ge1xuICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICByb3csXG4gICAgICAgICAgdmFsdWU6IHJvdy52YWx1ZXNbY29sdW1uLmlkXSxcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdpdmUgZWFjaCBjZWxsIGEgZ2V0Q2VsbFByb3BzIGJhc2VcbiAgICAgICAgY2VsbC5nZXRDZWxsUHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRDZWxsUHJvcHNIb29rcygpLCB7XG4gICAgICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICAgICAgY2VsbCxcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBHaXZlIGVhY2ggY2VsbCBhIHJlbmRlcmVyIGZ1bmN0aW9uIChzdXBwb3J0cyBtdWx0aXBsZSByZW5kZXJlcnMpXG4gICAgICAgIGNlbGwucmVuZGVyID0gbWFrZVJlbmRlcmVyKGdldEluc3RhbmNlKCksIGNvbHVtbiwge1xuICAgICAgICAgIHJvdyxcbiAgICAgICAgICBjZWxsLFxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBjZWxsXG4gICAgICB9KVxuXG4gICAgICByb3cuY2VsbHMgPSByZWR1Y2VIb29rcyhjZWxsc0hvb2tzKCksIHJvdy5hbGxDZWxscywge1xuICAgICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgIH0pXG5cbiAgICAgIC8vIG5lZWQgdG8gYXBwbHkgYW55IHJvdyBzcGVjaWZpYyBob29rcyAodXNlRXhwYW5kZWQgcmVxdWlyZXMgdGhpcylcbiAgICAgIGxvb3BIb29rcyhnZXRQcmVwYXJlUm93SG9va3MoKSwgcm93LCB7IGluc3RhbmNlOiBnZXRJbnN0YW5jZSgpIH0pXG4gICAgfSxcbiAgICBbXG4gICAgICBnZXRSb3dQcm9wc0hvb2tzLFxuICAgICAgZ2V0SW5zdGFuY2UsXG4gICAgICBmbGF0Q29sdW1ucyxcbiAgICAgIGNlbGxzSG9va3MsXG4gICAgICBnZXRQcmVwYXJlUm93SG9va3MsXG4gICAgICBnZXRDZWxsUHJvcHNIb29rcyxcbiAgICBdXG4gIClcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VGFibGVQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0VGFibGVQcm9wcydcbiAgKVxuXG4gIGdldEluc3RhbmNlKCkuZ2V0VGFibGVQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldFRhYmxlUHJvcHNIb29rcygpLCB7XG4gICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gIH0pXG5cbiAgLy8gU25hcHNob3QgaG9vayBhbmQgZGlzYWxsb3cgbW9yZSBmcm9tIGJlaW5nIGFkZGVkXG4gIGNvbnN0IGdldFRhYmxlQm9keVByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRUYWJsZUJvZHlQcm9wcydcbiAgKVxuXG4gIGdldEluc3RhbmNlKCkuZ2V0VGFibGVCb2R5UHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRUYWJsZUJvZHlQcm9wc0hvb2tzKCksIHtcbiAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgfSlcblxuICAvLyBTbmFwc2hvdCBob29rIGFuZCBkaXNhbGxvdyBtb3JlIGZyb20gYmVpbmcgYWRkZWRcbiAgY29uc3QgZ2V0VXNlRmluYWxJbnN0YW5jZUhvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAndXNlRmluYWxJbnN0YW5jZSdcbiAgKVxuXG4gIGxvb3BIb29rcyhnZXRVc2VGaW5hbEluc3RhbmNlSG9va3MoKSwgZ2V0SW5zdGFuY2UoKSlcblxuICByZXR1cm4gZ2V0SW5zdGFuY2UoKVxufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVIZWFkZXJXaWR0aHMoaGVhZGVycywgbGVmdCA9IDApIHtcbiAgbGV0IHN1bVRvdGFsTWluV2lkdGggPSAwXG4gIGxldCBzdW1Ub3RhbFdpZHRoID0gMFxuICBsZXQgc3VtVG90YWxNYXhXaWR0aCA9IDBcblxuICBoZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IHtcbiAgICBsZXQgeyBoZWFkZXJzOiBzdWJIZWFkZXJzIH0gPSBoZWFkZXJcblxuICAgIGhlYWRlci50b3RhbExlZnQgPSBsZWZ0XG5cbiAgICBpZiAoc3ViSGVhZGVycyAmJiBzdWJIZWFkZXJzLmxlbmd0aCkge1xuICAgICAgY29uc3QgW3RvdGFsTWluV2lkdGgsIHRvdGFsV2lkdGgsIHRvdGFsTWF4V2lkdGhdID0gY2FsY3VsYXRlSGVhZGVyV2lkdGhzKFxuICAgICAgICBzdWJIZWFkZXJzLFxuICAgICAgICBsZWZ0XG4gICAgICApXG4gICAgICBoZWFkZXIudG90YWxNaW5XaWR0aCA9IHRvdGFsTWluV2lkdGhcbiAgICAgIGhlYWRlci50b3RhbFdpZHRoID0gdG90YWxXaWR0aFxuICAgICAgaGVhZGVyLnRvdGFsTWF4V2lkdGggPSB0b3RhbE1heFdpZHRoXG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlci50b3RhbE1pbldpZHRoID0gaGVhZGVyLm1pbldpZHRoXG4gICAgICBoZWFkZXIudG90YWxXaWR0aCA9IE1hdGgubWluKFxuICAgICAgICBNYXRoLm1heChoZWFkZXIubWluV2lkdGgsIGhlYWRlci53aWR0aCksXG4gICAgICAgIGhlYWRlci5tYXhXaWR0aFxuICAgICAgKVxuICAgICAgaGVhZGVyLnRvdGFsTWF4V2lkdGggPSBoZWFkZXIubWF4V2lkdGhcbiAgICB9XG4gICAgaWYgKGhlYWRlci5pc1Zpc2libGUpIHtcbiAgICAgIGxlZnQgKz0gaGVhZGVyLnRvdGFsV2lkdGhcbiAgICAgIHN1bVRvdGFsTWluV2lkdGggKz0gaGVhZGVyLnRvdGFsTWluV2lkdGhcbiAgICAgIHN1bVRvdGFsV2lkdGggKz0gaGVhZGVyLnRvdGFsV2lkdGhcbiAgICAgIHN1bVRvdGFsTWF4V2lkdGggKz0gaGVhZGVyLnRvdGFsTWF4V2lkdGhcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIFtzdW1Ub3RhbE1pbldpZHRoLCBzdW1Ub3RhbFdpZHRoLCBzdW1Ub3RhbE1heFdpZHRoXVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICBtYWtlUHJvcEdldHRlcixcbiAgZXhwYW5kUm93cyxcbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCxcbiAgdXNlR2V0TGF0ZXN0LFxufSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IHVzZUNvbnN1bWVIb29rR2V0dGVyLCBmdW5jdGlvbmFsVXBkYXRlIH0gZnJvbSAnLi4vcHVibGljVXRpbHMnXG5cbi8vIEFjdGlvbnNcbmFjdGlvbnMudG9nZ2xlRXhwYW5kZWQgPSAndG9nZ2xlRXhwYW5kZWQnXG5hY3Rpb25zLnRvZ2dsZUFsbEV4cGFuZGVkID0gJ3RvZ2dsZUFsbEV4cGFuZGVkJ1xuYWN0aW9ucy5zZXRFeHBhbmRlZCA9ICdzZXRFeHBhbmRlZCdcbmFjdGlvbnMucmVzZXRFeHBhbmRlZCA9ICdyZXNldEV4cGFuZGVkJ1xuXG5leHBvcnQgY29uc3QgdXNlRXhwYW5kZWQgPSBob29rcyA9PiB7XG4gIGhvb2tzLmdldEV4cGFuZGVkVG9nZ2xlUHJvcHMgPSBbZGVmYXVsdEdldEV4cGFuZGVkVG9nZ2xlUHJvcHNdXG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VFeHBhbmRlZC5wbHVnaW5OYW1lID0gJ3VzZUV4cGFuZGVkJ1xuXG5jb25zdCBkZWZhdWx0R2V0RXhwYW5kZWRUb2dnbGVQcm9wcyA9IChwcm9wcywgeyByb3cgfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIG9uQ2xpY2s6IGUgPT4ge1xuICAgICAgZS5wZXJzaXN0KClcbiAgICAgIHJvdy50b2dnbGVFeHBhbmRlZCgpXG4gICAgfSxcbiAgICBzdHlsZToge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgfSxcbiAgICB0aXRsZTogJ1RvZ2dsZSBFeHBhbmRlZCcsXG4gIH0sXG5dXG5cbi8vIFJlZHVjZXJcbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgcHJldmlvdXNTdGF0ZSwgaW5zdGFuY2UpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXhwYW5kZWQ6IHt9LFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0RXhwYW5kZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBleHBhbmRlZDogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLmV4cGFuZGVkIHx8IHt9LFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5zZXRFeHBhbmRlZCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGV4cGFuZGVkOiBmdW5jdGlvbmFsVXBkYXRlKGFjdGlvbi5leHBhbmRlZCwgc3RhdGUuZXhwYW5kZWQpLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy50b2dnbGVFeHBhbmRlZCkge1xuICAgIGNvbnN0IHsgaWQsIGV4cGFuZGVkOiBzZXRFeHBhbmRlZCB9ID0gYWN0aW9uXG4gICAgY29uc3QgZXhpc3RzID0gc3RhdGUuZXhwYW5kZWRbaWRdXG5cbiAgICBjb25zdCBzaG91bGRFeGlzdCA9XG4gICAgICB0eXBlb2Ygc2V0RXhwYW5kZWQgIT09ICd1bmRlZmluZWQnID8gc2V0RXhwYW5kZWQgOiAhZXhpc3RzXG5cbiAgICBpZiAoIWV4aXN0cyAmJiBzaG91bGRFeGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGV4cGFuZGVkOiB7XG4gICAgICAgICAgLi4uc3RhdGUuZXhwYW5kZWQsXG4gICAgICAgICAgW2lkXTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV4aXN0cyAmJiAhc2hvdWxkRXhpc3QpIHtcbiAgICAgIGNvbnN0IHsgW2lkXTogXywgLi4ucmVzdCB9ID0gc3RhdGUuZXhwYW5kZWRcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBleHBhbmRlZDogcmVzdCxcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHJvd3MsXG4gICAgbWFudWFsRXhwYW5kZWRLZXkgPSAnZXhwYW5kZWQnLFxuICAgIHBhZ2luYXRlRXhwYW5kZWRSb3dzID0gdHJ1ZSxcbiAgICBleHBhbmRTdWJSb3dzID0gdHJ1ZSxcbiAgICBob29rcyxcbiAgICBhdXRvUmVzZXRFeHBhbmRlZCA9IHRydWUsXG4gICAgc3RhdGU6IHsgZXhwYW5kZWQgfSxcbiAgICBkaXNwYXRjaCxcbiAgfSA9IGluc3RhbmNlXG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0RXhwYW5kZWQgPSB1c2VHZXRMYXRlc3QoYXV0b1Jlc2V0RXhwYW5kZWQpXG5cbiAgLy8gQnlwYXNzIGFueSBlZmZlY3RzIGZyb20gZmlyaW5nIHdoZW4gdGhpcyBjaGFuZ2VzXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRFeHBhbmRlZCgpKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMucmVzZXRFeHBhbmRlZCB9KVxuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBkYXRhXSlcblxuICBjb25zdCB0b2dnbGVFeHBhbmRlZCA9IChpZCwgZXhwYW5kZWQpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMudG9nZ2xlRXhwYW5kZWQsIGlkLCBleHBhbmRlZCB9KVxuICB9XG5cbiAgLy8gdXNlIHJlZmVyZW5jZSB0byBhdm9pZCBtZW1vcnkgbGVhayBpbiAjMTYwOFxuICBjb25zdCBnZXRJbnN0YW5jZSA9IHVzZUdldExhdGVzdChpbnN0YW5jZSlcblxuICBjb25zdCBnZXRFeHBhbmRlZFRvZ2dsZVByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRFeHBhbmRlZFRvZ2dsZVByb3BzJ1xuICApXG5cbiAgaG9va3MucHJlcGFyZVJvdy5wdXNoKHJvdyA9PiB7XG4gICAgcm93LnRvZ2dsZUV4cGFuZGVkID0gc2V0ID0+IGluc3RhbmNlLnRvZ2dsZUV4cGFuZGVkKHJvdy5pZCwgc2V0KVxuXG4gICAgcm93LmdldEV4cGFuZGVkVG9nZ2xlUHJvcHMgPSBtYWtlUHJvcEdldHRlcihnZXRFeHBhbmRlZFRvZ2dsZVByb3BzSG9va3MoKSwge1xuICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICByb3csXG4gICAgfSlcbiAgfSlcblxuICBjb25zdCBleHBhbmRlZFJvd3MgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAocGFnaW5hdGVFeHBhbmRlZFJvd3MpIHtcbiAgICAgIHJldHVybiBleHBhbmRSb3dzKHJvd3MsIHsgbWFudWFsRXhwYW5kZWRLZXksIGV4cGFuZGVkLCBleHBhbmRTdWJSb3dzIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHJvd3NcbiAgfSwgW3BhZ2luYXRlRXhwYW5kZWRSb3dzLCByb3dzLCBtYW51YWxFeHBhbmRlZEtleSwgZXhwYW5kZWQsIGV4cGFuZFN1YlJvd3NdKVxuXG4gIGNvbnN0IGV4cGFuZGVkRGVwdGggPSBSZWFjdC51c2VNZW1vKCgpID0+IGZpbmRFeHBhbmRlZERlcHRoKGV4cGFuZGVkKSwgW1xuICAgIGV4cGFuZGVkLFxuICBdKVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBwcmVFeHBhbmRlZFJvd3M6IHJvd3MsXG4gICAgZXhwYW5kZWRSb3dzLFxuICAgIHJvd3M6IGV4cGFuZGVkUm93cyxcbiAgICB0b2dnbGVFeHBhbmRlZCxcbiAgICBleHBhbmRlZERlcHRoLFxuICB9KVxufVxuXG5mdW5jdGlvbiBmaW5kRXhwYW5kZWREZXB0aChleHBhbmRlZCkge1xuICBsZXQgbWF4RGVwdGggPSAwXG5cbiAgT2JqZWN0LmtleXMoZXhwYW5kZWQpLmZvckVhY2goaWQgPT4ge1xuICAgIGNvbnN0IHNwbGl0SWQgPSBpZC5zcGxpdCgnLicpXG4gICAgbWF4RGVwdGggPSBNYXRoLm1heChtYXhEZXB0aCwgc3BsaXRJZC5sZW5ndGgpXG4gIH0pXG5cbiAgcmV0dXJuIG1heERlcHRoXG59XG4iLCJleHBvcnQgY29uc3QgdGV4dCA9IChyb3dzLCBpZHMsIGZpbHRlclZhbHVlKSA9PiB7XG4gIHJvd3MgPSByb3dzLmZpbHRlcihyb3cgPT4ge1xuICAgIHJldHVybiBpZHMuc29tZShpZCA9PiB7XG4gICAgICBjb25zdCByb3dWYWx1ZSA9IHJvdy52YWx1ZXNbaWRdXG4gICAgICByZXR1cm4gU3RyaW5nKHJvd1ZhbHVlKVxuICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAuaW5jbHVkZXMoU3RyaW5nKGZpbHRlclZhbHVlKS50b0xvd2VyQ2FzZSgpKVxuICAgIH0pXG4gIH0pXG4gIHJldHVybiByb3dzXG59XG5cbnRleHQuYXV0b1JlbW92ZSA9IHZhbCA9PiAhdmFsXG5cbmV4cG9ydCBjb25zdCBleGFjdFRleHQgPSAocm93cywgaWRzLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICByZXR1cm4gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgcmV0dXJuIHJvd1ZhbHVlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBTdHJpbmcocm93VmFsdWUpLnRvTG93ZXJDYXNlKCkgPT09IFN0cmluZyhmaWx0ZXJWYWx1ZSkudG9Mb3dlckNhc2UoKVxuICAgICAgICA6IHRydWVcbiAgICB9KVxuICB9KVxufVxuXG5leGFjdFRleHQuYXV0b1JlbW92ZSA9IHZhbCA9PiAhdmFsXG5cbmV4cG9ydCBjb25zdCBleGFjdFRleHRDYXNlID0gKHJvd3MsIGlkcywgZmlsdGVyVmFsdWUpID0+IHtcbiAgcmV0dXJuIHJvd3MuZmlsdGVyKHJvdyA9PiB7XG4gICAgcmV0dXJuIGlkcy5zb21lKGlkID0+IHtcbiAgICAgIGNvbnN0IHJvd1ZhbHVlID0gcm93LnZhbHVlc1tpZF1cbiAgICAgIHJldHVybiByb3dWYWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gU3RyaW5nKHJvd1ZhbHVlKSA9PT0gU3RyaW5nKGZpbHRlclZhbHVlKVxuICAgICAgICA6IHRydWVcbiAgICB9KVxuICB9KVxufVxuXG5leGFjdFRleHRDYXNlLmF1dG9SZW1vdmUgPSB2YWwgPT4gIXZhbFxuXG5leHBvcnQgY29uc3QgaW5jbHVkZXMgPSAocm93cywgaWRzLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICByZXR1cm4gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgcmV0dXJuIGZpbHRlclZhbHVlLmluY2x1ZGVzKHJvd1ZhbHVlKVxuICAgIH0pXG4gIH0pXG59XG5cbmluY2x1ZGVzLmF1dG9SZW1vdmUgPSB2YWwgPT4gIXZhbCB8fCAhdmFsLmxlbmd0aFxuXG5leHBvcnQgY29uc3QgaW5jbHVkZXNBbGwgPSAocm93cywgaWRzLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICByZXR1cm4gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgcm93VmFsdWUgJiZcbiAgICAgICAgcm93VmFsdWUubGVuZ3RoICYmXG4gICAgICAgIGZpbHRlclZhbHVlLmV2ZXJ5KHZhbCA9PiByb3dWYWx1ZS5pbmNsdWRlcyh2YWwpKVxuICAgICAgKVxuICAgIH0pXG4gIH0pXG59XG5cbmluY2x1ZGVzQWxsLmF1dG9SZW1vdmUgPSB2YWwgPT4gIXZhbCB8fCAhdmFsLmxlbmd0aFxuXG5leHBvcnQgY29uc3QgZXhhY3QgPSAocm93cywgaWRzLCBmaWx0ZXJWYWx1ZSkgPT4ge1xuICByZXR1cm4gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgcmV0dXJuIHJvd1ZhbHVlID09PSBmaWx0ZXJWYWx1ZVxuICAgIH0pXG4gIH0pXG59XG5cbmV4YWN0LmF1dG9SZW1vdmUgPSB2YWwgPT4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCdcblxuZXhwb3J0IGNvbnN0IGVxdWFscyA9IChyb3dzLCBpZHMsIGZpbHRlclZhbHVlKSA9PiB7XG4gIHJldHVybiByb3dzLmZpbHRlcihyb3cgPT4ge1xuICAgIHJldHVybiBpZHMuc29tZShpZCA9PiB7XG4gICAgICBjb25zdCByb3dWYWx1ZSA9IHJvdy52YWx1ZXNbaWRdXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICByZXR1cm4gcm93VmFsdWUgPT0gZmlsdGVyVmFsdWVcbiAgICB9KVxuICB9KVxufVxuXG5lcXVhbHMuYXV0b1JlbW92ZSA9IHZhbCA9PiB2YWwgPT0gbnVsbFxuXG5leHBvcnQgY29uc3QgYmV0d2VlbiA9IChyb3dzLCBpZHMsIGZpbHRlclZhbHVlKSA9PiB7XG4gIGxldCBbbWluLCBtYXhdID0gZmlsdGVyVmFsdWUgfHwgW11cblxuICBtaW4gPSB0eXBlb2YgbWluID09PSAnbnVtYmVyJyA/IG1pbiA6IC1JbmZpbml0eVxuICBtYXggPSB0eXBlb2YgbWF4ID09PSAnbnVtYmVyJyA/IG1heCA6IEluZmluaXR5XG5cbiAgaWYgKG1pbiA+IG1heCkge1xuICAgIGNvbnN0IHRlbXAgPSBtaW5cbiAgICBtaW4gPSBtYXhcbiAgICBtYXggPSB0ZW1wXG4gIH1cblxuICByZXR1cm4gcm93cy5maWx0ZXIocm93ID0+IHtcbiAgICByZXR1cm4gaWRzLnNvbWUoaWQgPT4ge1xuICAgICAgY29uc3Qgcm93VmFsdWUgPSByb3cudmFsdWVzW2lkXVxuICAgICAgcmV0dXJuIHJvd1ZhbHVlID49IG1pbiAmJiByb3dWYWx1ZSA8PSBtYXhcbiAgICB9KVxuICB9KVxufVxuXG5iZXR3ZWVuLmF1dG9SZW1vdmUgPSB2YWwgPT5cbiAgIXZhbCB8fCAodHlwZW9mIHZhbFswXSAhPT0gJ251bWJlcicgJiYgdHlwZW9mIHZhbFsxXSAhPT0gJ251bWJlcicpXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7XG4gIGFjdGlvbnMsXG4gIGdldEZpcnN0RGVmaW5lZCxcbiAgZ2V0RmlsdGVyTWV0aG9kLFxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0LFxuICBmdW5jdGlvbmFsVXBkYXRlLFxuICB1c2VHZXRMYXRlc3QsXG4gIHNob3VsZEF1dG9SZW1vdmVGaWx0ZXIsXG59IGZyb20gJy4uL3V0aWxzJ1xuaW1wb3J0ICogYXMgZmlsdGVyVHlwZXMgZnJvbSAnLi4vZmlsdGVyVHlwZXMnXG5cbi8vIEFjdGlvbnNcbmFjdGlvbnMucmVzZXRGaWx0ZXJzID0gJ3Jlc2V0RmlsdGVycydcbmFjdGlvbnMuc2V0RmlsdGVyID0gJ3NldEZpbHRlcidcbmFjdGlvbnMuc2V0QWxsRmlsdGVycyA9ICdzZXRBbGxGaWx0ZXJzJ1xuXG5leHBvcnQgY29uc3QgdXNlRmlsdGVycyA9IGhvb2tzID0+IHtcbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG59XG5cbnVzZUZpbHRlcnMucGx1Z2luTmFtZSA9ICd1c2VGaWx0ZXJzJ1xuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpbHRlcnM6IFtdLFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0RmlsdGVycykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGZpbHRlcnM6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5maWx0ZXJzIHx8IFtdLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5zZXRGaWx0ZXIpIHtcbiAgICBjb25zdCB7IGNvbHVtbklkLCBmaWx0ZXJWYWx1ZSB9ID0gYWN0aW9uXG4gICAgY29uc3QgeyBmbGF0Q29sdW1ucywgdXNlckZpbHRlclR5cGVzIH0gPSBpbnN0YW5jZVxuXG4gICAgY29uc3QgY29sdW1uID0gZmxhdENvbHVtbnMuZmluZChkID0+IGQuaWQgPT09IGNvbHVtbklkKVxuXG4gICAgaWYgKCFjb2x1bW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFJlYWN0LVRhYmxlOiBDb3VsZCBub3QgZmluZCBhIGNvbHVtbiB3aXRoIGlkOiAke2NvbHVtbklkfWBcbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBmaWx0ZXJNZXRob2QgPSBnZXRGaWx0ZXJNZXRob2QoXG4gICAgICBjb2x1bW4uZmlsdGVyLFxuICAgICAgdXNlckZpbHRlclR5cGVzIHx8IHt9LFxuICAgICAgZmlsdGVyVHlwZXNcbiAgICApXG5cbiAgICBjb25zdCBwcmV2aW91c2ZpbHRlciA9IHN0YXRlLmZpbHRlcnMuZmluZChkID0+IGQuaWQgPT09IGNvbHVtbklkKVxuXG4gICAgY29uc3QgbmV3RmlsdGVyID0gZnVuY3Rpb25hbFVwZGF0ZShcbiAgICAgIGZpbHRlclZhbHVlLFxuICAgICAgcHJldmlvdXNmaWx0ZXIgJiYgcHJldmlvdXNmaWx0ZXIudmFsdWVcbiAgICApXG5cbiAgICAvL1xuICAgIGlmIChzaG91bGRBdXRvUmVtb3ZlRmlsdGVyKGZpbHRlck1ldGhvZC5hdXRvUmVtb3ZlLCBuZXdGaWx0ZXIpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZmlsdGVyczogc3RhdGUuZmlsdGVycy5maWx0ZXIoZCA9PiBkLmlkICE9PSBjb2x1bW5JZCksXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByZXZpb3VzZmlsdGVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZmlsdGVyczogc3RhdGUuZmlsdGVycy5tYXAoZCA9PiB7XG4gICAgICAgICAgaWYgKGQuaWQgPT09IGNvbHVtbklkKSB7XG4gICAgICAgICAgICByZXR1cm4geyBpZDogY29sdW1uSWQsIHZhbHVlOiBuZXdGaWx0ZXIgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBmaWx0ZXJzOiBbLi4uc3RhdGUuZmlsdGVycywgeyBpZDogY29sdW1uSWQsIHZhbHVlOiBuZXdGaWx0ZXIgfV0sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnNldEFsbEZpbHRlcnMpIHtcbiAgICBjb25zdCB7IGZpbHRlcnMgfSA9IGFjdGlvblxuICAgIGNvbnN0IHsgZmxhdENvbHVtbnMsIGZpbHRlclR5cGVzOiB1c2VyRmlsdGVyVHlwZXMgfSA9IGluc3RhbmNlXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICAvLyBGaWx0ZXIgb3V0IHVuZGVmaW5lZCB2YWx1ZXNcbiAgICAgIGZpbHRlcnM6IGZ1bmN0aW9uYWxVcGRhdGUoZmlsdGVycywgc3RhdGUuZmlsdGVycykuZmlsdGVyKGZpbHRlciA9PiB7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IGZsYXRDb2x1bW5zLmZpbmQoZCA9PiBkLmlkID09PSBmaWx0ZXIuaWQpXG4gICAgICAgIGNvbnN0IGZpbHRlck1ldGhvZCA9IGdldEZpbHRlck1ldGhvZChcbiAgICAgICAgICBjb2x1bW4uZmlsdGVyLFxuICAgICAgICAgIHVzZXJGaWx0ZXJUeXBlcyB8fCB7fSxcbiAgICAgICAgICBmaWx0ZXJUeXBlc1xuICAgICAgICApXG5cbiAgICAgICAgaWYgKHNob3VsZEF1dG9SZW1vdmVGaWx0ZXIoZmlsdGVyTWV0aG9kLmF1dG9SZW1vdmUsIGZpbHRlci52YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSksXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHJvd3MsXG4gICAgZmxhdFJvd3MsXG4gICAgZmxhdENvbHVtbnMsXG4gICAgZmlsdGVyVHlwZXM6IHVzZXJGaWx0ZXJUeXBlcyxcbiAgICBtYW51YWxGaWx0ZXJzLFxuICAgIGRlZmF1bHRDYW5GaWx0ZXIgPSBmYWxzZSxcbiAgICBkaXNhYmxlRmlsdGVycyxcbiAgICBzdGF0ZTogeyBmaWx0ZXJzIH0sXG4gICAgZGlzcGF0Y2gsXG4gICAgYXV0b1Jlc2V0RmlsdGVycyA9IHRydWUsXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGNvbnN0IHNldEZpbHRlciA9IChjb2x1bW5JZCwgZmlsdGVyVmFsdWUpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMuc2V0RmlsdGVyLCBjb2x1bW5JZCwgZmlsdGVyVmFsdWUgfSlcbiAgfVxuXG4gIGNvbnN0IHNldEFsbEZpbHRlcnMgPSBmaWx0ZXJzID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBhY3Rpb25zLnNldEFsbEZpbHRlcnMsXG4gICAgICBmaWx0ZXJzLFxuICAgIH0pXG4gIH1cblxuICBmbGF0Q29sdW1ucy5mb3JFYWNoKGNvbHVtbiA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICBhY2Nlc3NvcixcbiAgICAgIGRlZmF1bHRDYW5GaWx0ZXI6IGNvbHVtbkRlZmF1bHRDYW5GaWx0ZXIsXG4gICAgICBkaXNhYmxlRmlsdGVyczogY29sdW1uRGlzYWJsZUZpbHRlcnMsXG4gICAgfSA9IGNvbHVtblxuXG4gICAgLy8gRGV0ZXJtaW5lIGlmIGEgY29sdW1uIGlzIGZpbHRlcmFibGVcbiAgICBjb2x1bW4uY2FuRmlsdGVyID0gYWNjZXNzb3JcbiAgICAgID8gZ2V0Rmlyc3REZWZpbmVkKFxuICAgICAgICAgIGNvbHVtbkRpc2FibGVGaWx0ZXJzID09PSB0cnVlID8gZmFsc2UgOiB1bmRlZmluZWQsXG4gICAgICAgICAgZGlzYWJsZUZpbHRlcnMgPT09IHRydWUgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIDogZ2V0Rmlyc3REZWZpbmVkKGNvbHVtbkRlZmF1bHRDYW5GaWx0ZXIsIGRlZmF1bHRDYW5GaWx0ZXIsIGZhbHNlKVxuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29sdW1uIGEgd2F5IG9mIHVwZGF0aW5nIHRoZSBmaWx0ZXIgdmFsdWVcbiAgICBjb2x1bW4uc2V0RmlsdGVyID0gdmFsID0+IHNldEZpbHRlcihjb2x1bW4uaWQsIHZhbClcblxuICAgIC8vIFByb3ZpZGUgdGhlIGN1cnJlbnQgZmlsdGVyIHZhbHVlIHRvIHRoZSBjb2x1bW4gZm9yXG4gICAgLy8gY29udmVuaWVuY2VcbiAgICBjb25zdCBmb3VuZCA9IGZpbHRlcnMuZmluZChkID0+IGQuaWQgPT09IGlkKVxuICAgIGNvbHVtbi5maWx0ZXJWYWx1ZSA9IGZvdW5kICYmIGZvdW5kLnZhbHVlXG4gIH0pXG5cbiAgY29uc3QgW2ZpbHRlcmVkUm93cywgZmlsdGVyZWRGbGF0Um93c10gPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAobWFudWFsRmlsdGVycyB8fCAhZmlsdGVycy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBbcm93cywgZmxhdFJvd3NdXG4gICAgfVxuXG4gICAgY29uc3QgZmlsdGVyZWRGbGF0Um93cyA9IFtdXG5cbiAgICAvLyBGaWx0ZXJzIHRvcCBsZXZlbCBhbmQgbmVzdGVkIHJvd3NcbiAgICBjb25zdCBmaWx0ZXJSb3dzID0gKHJvd3MsIGRlcHRoID0gMCkgPT4ge1xuICAgICAgbGV0IGZpbHRlcmVkUm93cyA9IHJvd3NcblxuICAgICAgZmlsdGVyZWRSb3dzID0gZmlsdGVycy5yZWR1Y2UoXG4gICAgICAgIChmaWx0ZXJlZFNvRmFyLCB7IGlkOiBjb2x1bW5JZCwgdmFsdWU6IGZpbHRlclZhbHVlIH0pID0+IHtcbiAgICAgICAgICAvLyBGaW5kIHRoZSBmaWx0ZXJzIGNvbHVtblxuICAgICAgICAgIGNvbnN0IGNvbHVtbiA9IGZsYXRDb2x1bW5zLmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW5JZClcblxuICAgICAgICAgIGlmICghY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyZWRTb0ZhclxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29sdW1uLnByZUZpbHRlcmVkUm93cyA9IGZpbHRlcmVkU29GYXJcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBmaWx0ZXJNZXRob2QgPSBnZXRGaWx0ZXJNZXRob2QoXG4gICAgICAgICAgICBjb2x1bW4uZmlsdGVyLFxuICAgICAgICAgICAgdXNlckZpbHRlclR5cGVzIHx8IHt9LFxuICAgICAgICAgICAgZmlsdGVyVHlwZXNcbiAgICAgICAgICApXG5cbiAgICAgICAgICBpZiAoIWZpbHRlck1ldGhvZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBgQ291bGQgbm90IGZpbmQgYSB2YWxpZCAnY29sdW1uLmZpbHRlcicgZm9yIGNvbHVtbiB3aXRoIHRoZSBJRDogJHtjb2x1bW4uaWR9LmBcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZFNvRmFyXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUGFzcyB0aGUgcm93cywgaWQsIGZpbHRlclZhbHVlIGFuZCBjb2x1bW4gdG8gdGhlIGZpbHRlck1ldGhvZFxuICAgICAgICAgIC8vIHRvIGdldCB0aGUgZmlsdGVyZWQgcm93cyBiYWNrXG4gICAgICAgICAgY29sdW1uLmZpbHRlcmVkUm93cyA9IGZpbHRlck1ldGhvZChcbiAgICAgICAgICAgIGZpbHRlcmVkU29GYXIsXG4gICAgICAgICAgICBbY29sdW1uSWRdLFxuICAgICAgICAgICAgZmlsdGVyVmFsdWVcbiAgICAgICAgICApXG5cbiAgICAgICAgICByZXR1cm4gY29sdW1uLmZpbHRlcmVkUm93c1xuICAgICAgICB9LFxuICAgICAgICByb3dzXG4gICAgICApXG5cbiAgICAgIC8vIEFwcGx5IHRoZSBmaWx0ZXIgdG8gYW55IHN1YlJvd3NcbiAgICAgIC8vIFdlIHRlY2huaWNhbGx5IGNvdWxkIGRvIHRoaXMgcmVjdXJzaXZlbHkgaW4gdGhlIGFib3ZlIGxvb3AsXG4gICAgICAvLyBidXQgdGhhdCB3b3VsZCBzZXZlcmVseSBoaW5kZXIgdGhlIEFQSSBmb3IgdGhlIHVzZXIsIHNpbmNlIHRoZXlcbiAgICAgIC8vIHdvdWxkIGJlIHJlcXVpcmVkIHRvIGRvIHRoYXQgcmVjdXJzaW9uIGluIHNvbWUgc2NlbmFyaW9zXG4gICAgICBmaWx0ZXJlZFJvd3MgPSBmaWx0ZXJlZFJvd3MubWFwKHJvdyA9PiB7XG4gICAgICAgIGZpbHRlcmVkRmxhdFJvd3MucHVzaChyb3cpXG4gICAgICAgIGlmICghcm93LnN1YlJvd3MpIHtcbiAgICAgICAgICByZXR1cm4gcm93XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5yb3csXG4gICAgICAgICAgc3ViUm93czpcbiAgICAgICAgICAgIHJvdy5zdWJSb3dzICYmIHJvdy5zdWJSb3dzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgPyBmaWx0ZXJSb3dzKHJvdy5zdWJSb3dzLCBkZXB0aCArIDEpXG4gICAgICAgICAgICAgIDogcm93LnN1YlJvd3MsXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBmaWx0ZXJlZFJvd3NcbiAgICB9XG5cbiAgICByZXR1cm4gW2ZpbHRlclJvd3Mocm93cyksIGZpbHRlcmVkRmxhdFJvd3NdXG4gIH0sIFttYW51YWxGaWx0ZXJzLCBmaWx0ZXJzLCByb3dzLCBmbGF0Um93cywgZmxhdENvbHVtbnMsIHVzZXJGaWx0ZXJUeXBlc10pXG5cbiAgUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgLy8gTm93IHRoYXQgZWFjaCBmaWx0ZXJlZCBjb2x1bW4gaGFzIGl0J3MgcGFydGlhbGx5IGZpbHRlcmVkIHJvd3MsXG4gICAgLy8gbGV0cyBhc3NpZ24gdGhlIGZpbmFsIGZpbHRlcmVkIHJvd3MgdG8gYWxsIG9mIHRoZSBvdGhlciBjb2x1bW5zXG4gICAgY29uc3Qgbm9uRmlsdGVyZWRDb2x1bW5zID0gZmxhdENvbHVtbnMuZmlsdGVyKFxuICAgICAgY29sdW1uID0+ICFmaWx0ZXJzLmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW4uaWQpXG4gICAgKVxuXG4gICAgLy8gVGhpcyBlc3NlbnRpYWxseSBlbmFibGVzIGZhY2V0ZWQgZmlsdGVyIG9wdGlvbnMgdG8gYmUgYnVpbHQgZWFzaWx5XG4gICAgLy8gdXNpbmcgZXZlcnkgY29sdW1uJ3MgcHJlRmlsdGVyZWRSb3dzIHZhbHVlXG4gICAgbm9uRmlsdGVyZWRDb2x1bW5zLmZvckVhY2goY29sdW1uID0+IHtcbiAgICAgIGNvbHVtbi5wcmVGaWx0ZXJlZFJvd3MgPSBmaWx0ZXJlZFJvd3NcbiAgICAgIGNvbHVtbi5maWx0ZXJlZFJvd3MgPSBmaWx0ZXJlZFJvd3NcbiAgICB9KVxuICB9LCBbZmlsdGVyZWRSb3dzLCBmaWx0ZXJzLCBmbGF0Q29sdW1uc10pXG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0RmlsdGVycyA9IHVzZUdldExhdGVzdChhdXRvUmVzZXRGaWx0ZXJzKVxuXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRGaWx0ZXJzKCkpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5yZXNldEZpbHRlcnMgfSlcbiAgICB9XG4gIH0sIFtkaXNwYXRjaCwgbWFudWFsRmlsdGVycyA/IG51bGwgOiBkYXRhXSlcblxuICBPYmplY3QuYXNzaWduKGluc3RhbmNlLCB7XG4gICAgcHJlRmlsdGVyZWRSb3dzOiByb3dzLFxuICAgIHByZUZpbHRlcmVkRmxhdFJvd3M6IGZsYXRSb3dzLFxuICAgIGZpbHRlcmVkUm93cyxcbiAgICBmaWx0ZXJlZEZsYXRSb3dzLFxuICAgIHJvd3M6IGZpbHRlcmVkUm93cyxcbiAgICBmbGF0Um93czogZmlsdGVyZWRGbGF0Um93cyxcbiAgICBzZXRGaWx0ZXIsXG4gICAgc2V0QWxsRmlsdGVycyxcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgZ2V0RmlsdGVyTWV0aG9kLFxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0LFxuICBmdW5jdGlvbmFsVXBkYXRlLFxuICB1c2VHZXRMYXRlc3QsXG4gIHNob3VsZEF1dG9SZW1vdmVGaWx0ZXIsXG4gIGVuc3VyZVBsdWdpbk9yZGVyLFxufSBmcm9tICcuLi91dGlscydcbmltcG9ydCAqIGFzIGZpbHRlclR5cGVzIGZyb20gJy4uL2ZpbHRlclR5cGVzJ1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnJlc2V0R2xvYmFsRmlsdGVyID0gJ3Jlc2V0R2xvYmFsRmlsdGVyJ1xuYWN0aW9ucy5zZXRHbG9iYWxGaWx0ZXIgPSAnc2V0R2xvYmFsRmlsdGVyJ1xuXG5leHBvcnQgY29uc3QgdXNlR2xvYmFsRmlsdGVyID0gaG9va3MgPT4ge1xuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlR2xvYmFsRmlsdGVyLnBsdWdpbk5hbWUgPSAndXNlR2xvYmFsRmlsdGVyJ1xuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldEdsb2JhbEZpbHRlcikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGdsb2JhbEZpbHRlcjogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLmdsb2JhbEZpbHRlciB8fCB1bmRlZmluZWQsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnNldEdsb2JhbEZpbHRlcikge1xuICAgIGNvbnN0IHsgZmlsdGVyVmFsdWUgfSA9IGFjdGlvblxuICAgIGNvbnN0IHsgdXNlckZpbHRlclR5cGVzIH0gPSBpbnN0YW5jZVxuXG4gICAgY29uc3QgZmlsdGVyTWV0aG9kID0gZ2V0RmlsdGVyTWV0aG9kKFxuICAgICAgaW5zdGFuY2UuZ2xvYmFsRmlsdGVyLFxuICAgICAgdXNlckZpbHRlclR5cGVzIHx8IHt9LFxuICAgICAgZmlsdGVyVHlwZXNcbiAgICApXG5cbiAgICBjb25zdCBuZXdGaWx0ZXIgPSBmdW5jdGlvbmFsVXBkYXRlKGZpbHRlclZhbHVlLCBzdGF0ZS5nbG9iYWxGaWx0ZXIpXG5cbiAgICAvL1xuICAgIGlmIChzaG91bGRBdXRvUmVtb3ZlRmlsdGVyKGZpbHRlck1ldGhvZC5hdXRvUmVtb3ZlLCBuZXdGaWx0ZXIpKSB7XG4gICAgICBjb25zdCB7IGdsb2JhbEZpbHRlciwgLi4uc3RhdGVXaXRob3V0R2xvYmFsRmlsdGVyIH0gPSBzdGF0ZVxuICAgICAgcmV0dXJuIHN0YXRlV2l0aG91dEdsb2JhbEZpbHRlclxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGdsb2JhbEZpbHRlcjogbmV3RmlsdGVyLFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICByb3dzLFxuICAgIGZsYXRSb3dzLFxuICAgIGZsYXRDb2x1bW5zLFxuICAgIGZpbHRlclR5cGVzOiB1c2VyRmlsdGVyVHlwZXMsXG4gICAgZ2xvYmFsRmlsdGVyLFxuICAgIG1hbnVhbEdsb2JhbEZpbHRlcixcbiAgICBzdGF0ZTogeyBnbG9iYWxGaWx0ZXI6IGdsb2JhbEZpbHRlclZhbHVlIH0sXG4gICAgZGlzcGF0Y2gsXG4gICAgYXV0b1Jlc2V0R2xvYmFsRmlsdGVycyA9IHRydWUsXG4gICAgcGx1Z2lucyxcbiAgfSA9IGluc3RhbmNlXG5cbiAgZW5zdXJlUGx1Z2luT3JkZXIocGx1Z2lucywgW10sICd1c2VHbG9iYWxGaWx0ZXInLCBbXG4gICAgJ3VzZVNvcnRCeScsXG4gICAgJ3VzZUV4cGFuZGVkJyxcbiAgXSlcblxuICBjb25zdCBzZXRHbG9iYWxGaWx0ZXIgPSBmaWx0ZXJWYWx1ZSA9PiB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnNldEdsb2JhbEZpbHRlciwgZmlsdGVyVmFsdWUgfSlcbiAgfVxuXG4gIC8vIFRPRE86IENyZWF0ZSBhIGZpbHRlciBjYWNoZSBmb3IgaW5jcmVtZW50YWwgaGlnaCBzcGVlZCBtdWx0aS1maWx0ZXJpbmdcbiAgLy8gVGhpcyBnZXRzIHByZXR0eSBjb21wbGljYXRlZCBwcmV0dHkgZmFzdCwgc2luY2UgeW91IGhhdmUgdG8gbWFpbnRhaW4gYVxuICAvLyBjYWNoZSBmb3IgZWFjaCByb3cgZ3JvdXAgKHRvcC1sZXZlbCByb3dzLCBhbmQgZWFjaCByb3cncyByZWN1cnNpdmUgc3Vicm93cylcbiAgLy8gVGhpcyB3b3VsZCBtYWtlIG11bHRpLWZpbHRlcmluZyBhIGxvdCBmYXN0ZXIgdGhvdWdoLiBUb28gZmFyP1xuXG4gIGNvbnN0IFtnbG9iYWxGaWx0ZXJlZFJvd3MsIGdsb2JhbEZpbHRlcmVkRmxhdFJvd3NdID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKG1hbnVhbEdsb2JhbEZpbHRlciB8fCB0eXBlb2YgZ2xvYmFsRmlsdGVyVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gW3Jvd3MsIGZsYXRSb3dzXVxuICAgIH1cblxuICAgIGNvbnN0IGZpbHRlcmVkRmxhdFJvd3MgPSBbXVxuXG4gICAgY29uc3QgZmlsdGVyTWV0aG9kID0gZ2V0RmlsdGVyTWV0aG9kKFxuICAgICAgZ2xvYmFsRmlsdGVyLFxuICAgICAgdXNlckZpbHRlclR5cGVzIHx8IHt9LFxuICAgICAgZmlsdGVyVHlwZXNcbiAgICApXG5cbiAgICBpZiAoIWZpbHRlck1ldGhvZCkge1xuICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZmluZCBhIHZhbGlkICdnbG9iYWxGaWx0ZXInIG9wdGlvbi5gKVxuICAgICAgcmV0dXJuIHJvd3NcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXJzIHRvcCBsZXZlbCBhbmQgbmVzdGVkIHJvd3NcbiAgICBjb25zdCBmaWx0ZXJSb3dzID0gZmlsdGVyZWRSb3dzID0+IHtcbiAgICAgIHJldHVybiBmaWx0ZXJNZXRob2QoXG4gICAgICAgIGZpbHRlcmVkUm93cyxcbiAgICAgICAgZmxhdENvbHVtbnMubWFwKGQgPT4gZC5pZCksXG4gICAgICAgIGdsb2JhbEZpbHRlclZhbHVlXG4gICAgICApLm1hcChyb3cgPT4ge1xuICAgICAgICBmaWx0ZXJlZEZsYXRSb3dzLnB1c2gocm93KVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucm93LFxuICAgICAgICAgIHN1YlJvd3M6XG4gICAgICAgICAgICByb3cuc3ViUm93cyAmJiByb3cuc3ViUm93cy5sZW5ndGhcbiAgICAgICAgICAgICAgPyBmaWx0ZXJSb3dzKHJvdy5zdWJSb3dzKVxuICAgICAgICAgICAgICA6IHJvdy5zdWJSb3dzLFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIHJldHVybiBbZmlsdGVyUm93cyhyb3dzKSwgZmlsdGVyZWRGbGF0Um93c11cbiAgfSwgW1xuICAgIG1hbnVhbEdsb2JhbEZpbHRlcixcbiAgICBnbG9iYWxGaWx0ZXIsXG4gICAgdXNlckZpbHRlclR5cGVzLFxuICAgIHJvd3MsXG4gICAgZmxhdFJvd3MsXG4gICAgZmxhdENvbHVtbnMsXG4gICAgZ2xvYmFsRmlsdGVyVmFsdWUsXG4gIF0pXG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0R2xvYmFsRmlsdGVycyA9IHVzZUdldExhdGVzdChhdXRvUmVzZXRHbG9iYWxGaWx0ZXJzKVxuXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRHbG9iYWxGaWx0ZXJzKCkpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5yZXNldEdsb2JhbEZpbHRlciB9KVxuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBtYW51YWxHbG9iYWxGaWx0ZXIgPyBudWxsIDogZGF0YV0pXG5cbiAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgIHByZUdsb2JhbEZpbHRlcmVkUm93czogcm93cyxcbiAgICBwcmVHbG9iYWxGaWx0ZXJlZEZsYXRSb3dzOiBmbGF0Um93cyxcbiAgICBnbG9iYWxGaWx0ZXJlZFJvd3MsXG4gICAgZ2xvYmFsRmlsdGVyZWRGbGF0Um93cyxcbiAgICByb3dzOiBnbG9iYWxGaWx0ZXJlZFJvd3MsXG4gICAgZmxhdFJvd3M6IGdsb2JhbEZpbHRlcmVkRmxhdFJvd3MsXG4gICAgc2V0R2xvYmFsRmlsdGVyLFxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgKiBhcyBhZ2dyZWdhdGlvbnMgZnJvbSAnLi4vYWdncmVnYXRpb25zJ1xuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgbWFrZVByb3BHZXR0ZXIsXG4gIGRlZmF1bHRHcm91cEJ5Rm4sXG4gIGdldEZpcnN0RGVmaW5lZCxcbiAgZW5zdXJlUGx1Z2luT3JkZXIsXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QsXG4gIHVzZUdldExhdGVzdCxcbn0gZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgeyB1c2VDb25zdW1lSG9va0dldHRlciB9IGZyb20gJy4uL3B1YmxpY1V0aWxzJ1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnJlc2V0R3JvdXBCeSA9ICdyZXNldEdyb3VwQnknXG5hY3Rpb25zLnRvZ2dsZUdyb3VwQnkgPSAndG9nZ2xlR3JvdXBCeSdcblxuZXhwb3J0IGNvbnN0IHVzZUdyb3VwQnkgPSBob29rcyA9PiB7XG4gIGhvb2tzLmdldEdyb3VwQnlUb2dnbGVQcm9wcyA9IFtkZWZhdWx0R2V0R3JvdXBCeVRvZ2dsZVByb3BzXVxuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MuZmxhdENvbHVtbnNEZXBzLnB1c2goKGRlcHMsIHsgaW5zdGFuY2UgfSkgPT4gW1xuICAgIC4uLmRlcHMsXG4gICAgaW5zdGFuY2Uuc3RhdGUuZ3JvdXBCeSxcbiAgXSlcbiAgaG9va3MuZmxhdENvbHVtbnMucHVzaChmbGF0Q29sdW1ucylcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlR3JvdXBCeS5wbHVnaW5OYW1lID0gJ3VzZUdyb3VwQnknXG5cbmNvbnN0IGRlZmF1bHRHZXRHcm91cEJ5VG9nZ2xlUHJvcHMgPSAocHJvcHMsIHsgaGVhZGVyIH0pID0+IFtcbiAgcHJvcHMsXG4gIHtcbiAgICBvbkNsaWNrOiBoZWFkZXIuY2FuR3JvdXBCeVxuICAgICAgPyBlID0+IHtcbiAgICAgICAgICBlLnBlcnNpc3QoKVxuICAgICAgICAgIGhlYWRlci50b2dnbGVHcm91cEJ5KClcbiAgICAgICAgfVxuICAgICAgOiB1bmRlZmluZWQsXG4gICAgc3R5bGU6IHtcbiAgICAgIGN1cnNvcjogaGVhZGVyLmNhbkdyb3VwQnkgPyAncG9pbnRlcicgOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgICB0aXRsZTogJ1RvZ2dsZSBHcm91cEJ5JyxcbiAgfSxcbl1cblxuLy8gUmVkdWNlclxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBwcmV2aW91c1N0YXRlLCBpbnN0YW5jZSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuaW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICBncm91cEJ5OiBbXSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldEdyb3VwQnkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBncm91cEJ5OiBpbnN0YW5jZS5pbml0aWFsU3RhdGUuZ3JvdXBCeSB8fCBbXSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMudG9nZ2xlR3JvdXBCeSkge1xuICAgIGNvbnN0IHsgY29sdW1uSWQsIHRvZ2dsZSB9ID0gYWN0aW9uXG5cbiAgICBjb25zdCByZXNvbHZlZFRvZ2dsZSA9XG4gICAgICB0eXBlb2YgdG9nZ2xlICE9PSAndW5kZWZpbmVkJyA/IHRvZ2dsZSA6ICFzdGF0ZS5ncm91cEJ5LmluY2x1ZGVzKGNvbHVtbklkKVxuXG4gICAgaWYgKHJlc29sdmVkVG9nZ2xlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZ3JvdXBCeTogWy4uLnN0YXRlLmdyb3VwQnksIGNvbHVtbklkXSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBncm91cEJ5OiBzdGF0ZS5ncm91cEJ5LmZpbHRlcihkID0+IGQgIT09IGNvbHVtbklkKSxcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmxhdENvbHVtbnMoXG4gIGZsYXRDb2x1bW5zLFxuICB7XG4gICAgaW5zdGFuY2U6IHtcbiAgICAgIHN0YXRlOiB7IGdyb3VwQnkgfSxcbiAgICB9LFxuICB9XG4pIHtcbiAgLy8gU29ydCBncm91cGVkIGNvbHVtbnMgdG8gdGhlIHN0YXJ0IG9mIHRoZSBjb2x1bW4gbGlzdFxuICAvLyBiZWZvcmUgdGhlIGhlYWRlcnMgYXJlIGJ1aWx0XG5cbiAgY29uc3QgZ3JvdXBCeUNvbHVtbnMgPSBncm91cEJ5XG4gICAgLm1hcChnID0+IGZsYXRDb2x1bW5zLmZpbmQoY29sID0+IGNvbC5pZCA9PT0gZykpXG4gICAgLmZpbHRlcihjb2wgPT4gISFjb2wpXG4gIGNvbnN0IG5vbkdyb3VwQnlDb2x1bW5zID0gZmxhdENvbHVtbnMuZmlsdGVyKGNvbCA9PiAhZ3JvdXBCeS5pbmNsdWRlcyhjb2wuaWQpKVxuXG4gIGZsYXRDb2x1bW5zID0gWy4uLmdyb3VwQnlDb2x1bW5zLCAuLi5ub25Hcm91cEJ5Q29sdW1uc11cblxuICBmbGF0Q29sdW1ucy5mb3JFYWNoKGNvbHVtbiA9PiB7XG4gICAgY29sdW1uLmlzR3JvdXBlZCA9IGdyb3VwQnkuaW5jbHVkZXMoY29sdW1uLmlkKVxuICAgIGNvbHVtbi5ncm91cGVkSW5kZXggPSBncm91cEJ5LmluZGV4T2YoY29sdW1uLmlkKVxuICB9KVxuXG4gIHJldHVybiBmbGF0Q29sdW1uc1xufVxuXG5jb25zdCBkZWZhdWx0VXNlckFnZ3JlZ2F0aW9ucyA9IHt9XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHJvd3MsXG4gICAgZmxhdFJvd3MsXG4gICAgZmxhdENvbHVtbnMsXG4gICAgZmxhdEhlYWRlcnMsXG4gICAgZ3JvdXBCeUZuID0gZGVmYXVsdEdyb3VwQnlGbixcbiAgICBtYW51YWxHcm91cEJ5LFxuICAgIGFnZ3JlZ2F0aW9uczogdXNlckFnZ3JlZ2F0aW9ucyA9IGRlZmF1bHRVc2VyQWdncmVnYXRpb25zLFxuICAgIGhvb2tzLFxuICAgIHBsdWdpbnMsXG4gICAgc3RhdGU6IHsgZ3JvdXBCeSB9LFxuICAgIGRpc3BhdGNoLFxuICAgIGF1dG9SZXNldEdyb3VwQnkgPSB0cnVlLFxuICAgIG1hbmF1bEdyb3VwQnksXG4gICAgZGlzYWJsZUdyb3VwQnksXG4gICAgZGVmYXVsdENhbkdyb3VwQnksXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGVuc3VyZVBsdWdpbk9yZGVyKHBsdWdpbnMsIFtdLCAndXNlR3JvdXBCeScsIFsndXNlU29ydEJ5JywgJ3VzZUV4cGFuZGVkJ10pXG5cbiAgY29uc3QgZ2V0SW5zdGFuY2UgPSB1c2VHZXRMYXRlc3QoaW5zdGFuY2UpXG5cbiAgZmxhdENvbHVtbnMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGFjY2Vzc29yLFxuICAgICAgZGVmYXVsdEdyb3VwQnk6IGRlZmF1bHRDb2x1bW5Hcm91cEJ5LFxuICAgICAgZGlzYWJsZUdyb3VwQnk6IGNvbHVtbkRpc2FibGVHcm91cEJ5LFxuICAgIH0gPSBjb2x1bW5cblxuICAgIGNvbHVtbi5jYW5Hcm91cEJ5ID0gYWNjZXNzb3JcbiAgICAgID8gZ2V0Rmlyc3REZWZpbmVkKFxuICAgICAgICAgIGNvbHVtbkRpc2FibGVHcm91cEJ5ID09PSB0cnVlID8gZmFsc2UgOiB1bmRlZmluZWQsXG4gICAgICAgICAgZGlzYWJsZUdyb3VwQnkgPT09IHRydWUgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIDogZ2V0Rmlyc3REZWZpbmVkKGRlZmF1bHRDb2x1bW5Hcm91cEJ5LCBkZWZhdWx0Q2FuR3JvdXBCeSwgZmFsc2UpXG5cbiAgICBpZiAoY29sdW1uLmNhbkdyb3VwQnkpIHtcbiAgICAgIGNvbHVtbi50b2dnbGVHcm91cEJ5ID0gKCkgPT4gaW5zdGFuY2UudG9nZ2xlR3JvdXBCeShjb2x1bW4uaWQpXG4gICAgfVxuXG4gICAgY29sdW1uLkFnZ3JlZ2F0ZWQgPSBjb2x1bW4uQWdncmVnYXRlZCB8fCBjb2x1bW4uQ2VsbFxuICB9KVxuXG4gIGNvbnN0IHRvZ2dsZUdyb3VwQnkgPSAoY29sdW1uSWQsIHRvZ2dsZSkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVHcm91cEJ5LCBjb2x1bW5JZCwgdG9nZ2xlIH0pXG4gIH1cblxuICBjb25zdCBnZXRHcm91cEJ5VG9nZ2xlUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldEdyb3VwQnlUb2dnbGVQcm9wcydcbiAgKVxuXG4gIGZsYXRIZWFkZXJzLmZvckVhY2goaGVhZGVyID0+IHtcbiAgICBoZWFkZXIuZ2V0R3JvdXBCeVRvZ2dsZVByb3BzID0gbWFrZVByb3BHZXR0ZXIoXG4gICAgICBnZXRHcm91cEJ5VG9nZ2xlUHJvcHNIb29rcygpLFxuICAgICAgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSwgaGVhZGVyIH1cbiAgICApXG4gIH0pXG5cbiAgaG9va3MucHJlcGFyZVJvdy5wdXNoKHJvdyA9PiB7XG4gICAgcm93LmFsbENlbGxzLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAvLyBHcm91cGVkIGNlbGxzIGFyZSBpbiB0aGUgZ3JvdXBCeSBhbmQgdGhlIHBpdm90IGNlbGwgZm9yIHRoZSByb3dcbiAgICAgIGNlbGwuaXNHcm91cGVkID0gY2VsbC5jb2x1bW4uaXNHcm91cGVkICYmIGNlbGwuY29sdW1uLmlkID09PSByb3cuZ3JvdXBCeUlEXG4gICAgICAvLyBSZXBlYXRlZCBjZWxscyBhcmUgYW55IGNvbHVtbnMgaW4gdGhlIGdyb3VwQnkgdGhhdCBhcmUgbm90IGdyb3VwZWRcbiAgICAgIGNlbGwuaXNSZXBlYXRlZFZhbHVlID0gIWNlbGwuaXNHcm91cGVkICYmIGNlbGwuY29sdW1uLmlzR3JvdXBlZFxuICAgICAgLy8gQWdncmVnYXRlZCBjZWxscyBhcmUgbm90IGdyb3VwZWQsIG5vdCByZXBlYXRlZCwgYnV0IHN0aWxsIGhhdmUgc3ViUm93c1xuICAgICAgY2VsbC5pc0FnZ3JlZ2F0ZWQgPVxuICAgICAgICAhY2VsbC5pc0dyb3VwZWQgJiYgIWNlbGwuaXNSZXBlYXRlZFZhbHVlICYmIHJvdy5jYW5FeHBhbmRcbiAgICB9KVxuICB9KVxuXG4gIGNvbnN0IFtncm91cGVkUm93cywgZ3JvdXBlZEZsYXRSb3dzXSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChtYW51YWxHcm91cEJ5IHx8ICFncm91cEJ5Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFtyb3dzLCBmbGF0Um93c11cbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgdGhhdCB0aGUgbGlzdCBvZiBmaWx0ZXJlZCBjb2x1bW5zIGV4aXN0XG4gICAgY29uc3QgZXhpc3RpbmdHcm91cEJ5ID0gZ3JvdXBCeS5maWx0ZXIoZyA9PlxuICAgICAgZmxhdENvbHVtbnMuZmluZChjb2wgPT4gY29sLmlkID09PSBnKVxuICAgIClcblxuICAgIC8vIEZpbmQgdGhlIGNvbHVtbnMgdGhhdCBjYW4gb3IgYXJlIGFnZ3JlZ2F0aW5nXG4gICAgLy8gVXNlcyBlYWNoIGNvbHVtbiB0byBhZ2dyZWdhdGUgcm93cyBpbnRvIGEgc2luZ2xlIHZhbHVlXG4gICAgY29uc3QgYWdncmVnYXRlUm93c1RvVmFsdWVzID0gKHJvd3MsIGlzQWdncmVnYXRlZCkgPT4ge1xuICAgICAgY29uc3QgdmFsdWVzID0ge31cblxuICAgICAgZmxhdENvbHVtbnMuZm9yRWFjaChjb2x1bW4gPT4ge1xuICAgICAgICAvLyBEb24ndCBhZ2dyZWdhdGUgY29sdW1ucyB0aGF0IGFyZSBpbiB0aGUgZ3JvdXBCeVxuICAgICAgICBpZiAoZXhpc3RpbmdHcm91cEJ5LmluY2x1ZGVzKGNvbHVtbi5pZCkpIHtcbiAgICAgICAgICB2YWx1ZXNbY29sdW1uLmlkXSA9IHJvd3NbMF0gPyByb3dzWzBdLnZhbHVlc1tjb2x1bW4uaWRdIDogbnVsbFxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29sdW1uVmFsdWVzID0gcm93cy5tYXAoZCA9PiBkLnZhbHVlc1tjb2x1bW4uaWRdKVxuXG4gICAgICAgIGxldCBhZ2dyZWdhdG9yID0gY29sdW1uLmFnZ3JlZ2F0ZVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFnZ3JlZ2F0b3IpKSB7XG4gICAgICAgICAgaWYgKGFnZ3JlZ2F0b3IubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oeyBjb2x1bW4gfSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYFJlYWN0IFRhYmxlOiBDb21wbGV4IGFnZ3JlZ2F0b3JzIG11c3QgaGF2ZSAyIHZhbHVlcywgZWcuIGFnZ3JlZ2F0ZTogWydzdW0nLCAnY291bnQnXS4gTW9yZSBpbmZvIGFib3ZlLi4uYFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNBZ2dyZWdhdGVkKSB7XG4gICAgICAgICAgICBhZ2dyZWdhdG9yID0gYWdncmVnYXRvclsxXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZ2dyZWdhdG9yID0gYWdncmVnYXRvclswXVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhZ2dyZWdhdGVGbiA9XG4gICAgICAgICAgdHlwZW9mIGFnZ3JlZ2F0b3IgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gYWdncmVnYXRvclxuICAgICAgICAgICAgOiB1c2VyQWdncmVnYXRpb25zW2FnZ3JlZ2F0b3JdIHx8IGFnZ3JlZ2F0aW9uc1thZ2dyZWdhdG9yXVxuXG4gICAgICAgIGlmIChhZ2dyZWdhdGVGbikge1xuICAgICAgICAgIHZhbHVlc1tjb2x1bW4uaWRdID0gYWdncmVnYXRlRm4oY29sdW1uVmFsdWVzLCByb3dzLCBpc0FnZ3JlZ2F0ZWQpXG4gICAgICAgIH0gZWxzZSBpZiAoYWdncmVnYXRvcikge1xuICAgICAgICAgIGNvbnNvbGUuaW5mbyh7IGNvbHVtbiB9KVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBSZWFjdCBUYWJsZTogSW52YWxpZCBhZ2dyZWdhdGUgb3B0aW9uIGZvciBjb2x1bW4gbGlzdGVkIGFib3ZlYFxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZXNbY29sdW1uLmlkXSA9IG51bGxcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiB2YWx1ZXNcbiAgICB9XG5cbiAgICBsZXQgZ3JvdXBlZEZsYXRSb3dzID0gW11cblxuICAgIC8vIFJlY3Vyc2l2ZWx5IGdyb3VwIHRoZSBkYXRhXG4gICAgY29uc3QgZ3JvdXBSZWN1cnNpdmVseSA9IChyb3dzLCBkZXB0aCA9IDAsIHBhcmVudElkKSA9PiB7XG4gICAgICAvLyBUaGlzIGlzIHRoZSBsYXN0IGxldmVsLCBqdXN0IHJldHVybiB0aGUgcm93c1xuICAgICAgaWYgKGRlcHRoID09PSBleGlzdGluZ0dyb3VwQnkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiByb3dzXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbHVtbklkID0gZXhpc3RpbmdHcm91cEJ5W2RlcHRoXVxuXG4gICAgICAvLyBHcm91cCB0aGUgcm93cyB0b2dldGhlciBmb3IgdGhpcyBsZXZlbFxuICAgICAgbGV0IGdyb3VwZWRSb3dzID0gZ3JvdXBCeUZuKHJvd3MsIGNvbHVtbklkKVxuXG4gICAgICAvLyBSZWN1cnNlIHRvIHN1YiByb3dzIGJlZm9yZSBhZ2dyZWdhdGlvblxuICAgICAgZ3JvdXBlZFJvd3MgPSBPYmplY3QuZW50cmllcyhncm91cGVkUm93cykubWFwKFxuICAgICAgICAoW2dyb3VwQnlWYWwsIHN1YlJvd3NdLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGxldCBpZCA9IGAke2NvbHVtbklkfToke2dyb3VwQnlWYWx9YFxuICAgICAgICAgIGlkID0gcGFyZW50SWQgPyBgJHtwYXJlbnRJZH0+JHtpZH1gIDogaWRcblxuICAgICAgICAgIHN1YlJvd3MgPSBncm91cFJlY3Vyc2l2ZWx5KHN1YlJvd3MsIGRlcHRoICsgMSwgaWQpXG5cbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBhZ2dyZWdhdGVSb3dzVG9WYWx1ZXMoXG4gICAgICAgICAgICBzdWJSb3dzLFxuICAgICAgICAgICAgZGVwdGggPCBleGlzdGluZ0dyb3VwQnkubGVuZ3RoXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgY29uc3Qgcm93ID0ge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBpc0dyb3VwZWQ6IHRydWUsXG4gICAgICAgICAgICBncm91cEJ5SUQ6IGNvbHVtbklkLFxuICAgICAgICAgICAgZ3JvdXBCeVZhbCxcbiAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgIHN1YlJvd3MsXG4gICAgICAgICAgICBkZXB0aCxcbiAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGdyb3VwZWRGbGF0Um93cy5wdXNoKHJvdywgLi4uc3ViUm93cylcblxuICAgICAgICAgIHJldHVybiByb3dcbiAgICAgICAgfVxuICAgICAgKVxuXG4gICAgICByZXR1cm4gZ3JvdXBlZFJvd3NcbiAgICB9XG5cbiAgICBjb25zdCBncm91cGVkUm93cyA9IGdyb3VwUmVjdXJzaXZlbHkocm93cylcblxuICAgIC8vIEFzc2lnbiB0aGUgbmV3IGRhdGFcbiAgICByZXR1cm4gW2dyb3VwZWRSb3dzLCBncm91cGVkRmxhdFJvd3NdXG4gIH0sIFtcbiAgICBtYW51YWxHcm91cEJ5LFxuICAgIGdyb3VwQnksXG4gICAgcm93cyxcbiAgICBmbGF0Um93cyxcbiAgICBmbGF0Q29sdW1ucyxcbiAgICB1c2VyQWdncmVnYXRpb25zLFxuICAgIGdyb3VwQnlGbixcbiAgXSlcblxuICBjb25zdCBnZXRBdXRvUmVzZXRHcm91cEJ5ID0gdXNlR2V0TGF0ZXN0KGF1dG9SZXNldEdyb3VwQnkpXG5cbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdldEF1dG9SZXNldEdyb3VwQnkoKSkge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLnJlc2V0R3JvdXBCeSB9KVxuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBtYW5hdWxHcm91cEJ5ID8gbnVsbCA6IGRhdGFdKVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBwcmVHcm91cGVkUm93czogcm93cyxcbiAgICBwcmVHcm91cGVkRmxhdFJvdzogZmxhdFJvd3MsXG4gICAgZ3JvdXBlZFJvd3MsXG4gICAgZ3JvdXBlZEZsYXRSb3dzLFxuICAgIHJvd3M6IGdyb3VwZWRSb3dzLFxuICAgIGZsYXRSb3dzOiBncm91cGVkRmxhdFJvd3MsXG4gICAgdG9nZ2xlR3JvdXBCeSxcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgZW5zdXJlUGx1Z2luT3JkZXIsXG4gIGRlZmF1bHRDb2x1bW4sXG4gIG1ha2VQcm9wR2V0dGVyLFxuICB1c2VDb25zdW1lSG9va0dldHRlcixcbiAgZ2V0Rmlyc3REZWZpbmVkLFxuICBkZWZhdWx0T3JkZXJCeUZuLFxuICBpc0Z1bmN0aW9uLFxuICB1c2VHZXRMYXRlc3QsXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QsXG59IGZyb20gJy4uL3V0aWxzJ1xuXG5pbXBvcnQgKiBhcyBzb3J0VHlwZXMgZnJvbSAnLi4vc29ydFR5cGVzJ1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnJlc2V0U29ydEJ5ID0gJ3Jlc2V0U29ydEJ5J1xuYWN0aW9ucy50b2dnbGVTb3J0QnkgPSAndG9nZ2xlU29ydEJ5J1xuYWN0aW9ucy5jbGVhclNvcnRCeSA9ICdjbGVhclNvcnRCeSdcblxuZGVmYXVsdENvbHVtbi5zb3J0VHlwZSA9ICdhbHBoYW51bWVyaWMnXG5kZWZhdWx0Q29sdW1uLnNvcnREZXNjRmlyc3QgPSBmYWxzZVxuXG5leHBvcnQgY29uc3QgdXNlU29ydEJ5ID0gaG9va3MgPT4ge1xuICBob29rcy5nZXRTb3J0QnlUb2dnbGVQcm9wcyA9IFtkZWZhdWx0R2V0U29ydEJ5VG9nZ2xlUHJvcHNdXG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VTb3J0QnkucGx1Z2luTmFtZSA9ICd1c2VTb3J0QnknXG5cbmNvbnN0IGRlZmF1bHRHZXRTb3J0QnlUb2dnbGVQcm9wcyA9IChwcm9wcywgeyBpbnN0YW5jZSwgY29sdW1uIH0pID0+IHtcbiAgY29uc3QgeyBpc011bHRpU29ydEV2ZW50ID0gZSA9PiBlLnNoaWZ0S2V5IH0gPSBpbnN0YW5jZVxuXG4gIHJldHVybiBbXG4gICAgcHJvcHMsXG4gICAge1xuICAgICAgb25DbGljazogY29sdW1uLmNhblNvcnRcbiAgICAgICAgPyBlID0+IHtcbiAgICAgICAgICAgIGUucGVyc2lzdCgpXG4gICAgICAgICAgICBjb2x1bW4udG9nZ2xlU29ydEJ5KFxuICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICFpbnN0YW5jZS5kaXNhYmxlTXVsdGlTb3J0ICYmIGlzTXVsdGlTb3J0RXZlbnQoZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgY3Vyc29yOiBjb2x1bW4uY2FuU29ydCA/ICdwb2ludGVyJyA6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICB0aXRsZTogY29sdW1uLmNhblNvcnQgPyAnVG9nZ2xlIFNvcnRCeScgOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgXVxufVxuXG4vLyBSZWR1Y2VyXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNvcnRCeTogW10sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMucmVzZXRTb3J0QnkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBzb3J0Qnk6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5zb3J0QnkgfHwgW10sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmNsZWFyU29ydEJ5KSB7XG4gICAgY29uc3QgeyBzb3J0QnkgfSA9IHN0YXRlXG4gICAgY29uc3QgbmV3U29ydEJ5ID0gc29ydEJ5LmZpbHRlcihkID0+IGQuaWQgIT09IGFjdGlvbi5jb2x1bW5JZClcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNvcnRCeTogbmV3U29ydEJ5LFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy50b2dnbGVTb3J0QnkpIHtcbiAgICBjb25zdCB7IGNvbHVtbklkLCBkZXNjLCBtdWx0aSB9ID0gYWN0aW9uXG5cbiAgICBjb25zdCB7XG4gICAgICBmbGF0Q29sdW1ucyxcbiAgICAgIGRpc2FibGVNdWx0aVNvcnQsXG4gICAgICBkaXNhYmxlU29ydFJlbW92ZSxcbiAgICAgIGRpc2FibGVNdWx0aVJlbW92ZSxcbiAgICAgIG1heE11bHRpU29ydENvbENvdW50ID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgfSA9IGluc3RhbmNlXG5cbiAgICBjb25zdCB7IHNvcnRCeSB9ID0gc3RhdGVcblxuICAgIC8vIEZpbmQgdGhlIGNvbHVtbiBmb3IgdGhpcyBjb2x1bW5JZFxuICAgIGNvbnN0IGNvbHVtbiA9IGZsYXRDb2x1bW5zLmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW5JZClcbiAgICBjb25zdCB7IHNvcnREZXNjRmlyc3QgfSA9IGNvbHVtblxuXG4gICAgLy8gRmluZCBhbnkgZXhpc3Rpbmcgc29ydEJ5IGZvciB0aGlzIGNvbHVtblxuICAgIGNvbnN0IGV4aXN0aW5nU29ydEJ5ID0gc29ydEJ5LmZpbmQoZCA9PiBkLmlkID09PSBjb2x1bW5JZClcbiAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gc29ydEJ5LmZpbmRJbmRleChkID0+IGQuaWQgPT09IGNvbHVtbklkKVxuICAgIGNvbnN0IGhhc0Rlc2NEZWZpbmVkID0gdHlwZW9mIGRlc2MgIT09ICd1bmRlZmluZWQnICYmIGRlc2MgIT09IG51bGxcblxuICAgIGxldCBuZXdTb3J0QnkgPSBbXVxuXG4gICAgLy8gV2hhdCBzaG91bGQgd2UgZG8gd2l0aCB0aGlzIHNvcnQgYWN0aW9uP1xuICAgIGxldCBzb3J0QWN0aW9uXG5cbiAgICBpZiAoIWRpc2FibGVNdWx0aVNvcnQgJiYgbXVsdGkpIHtcbiAgICAgIGlmIChleGlzdGluZ1NvcnRCeSkge1xuICAgICAgICBzb3J0QWN0aW9uID0gJ3RvZ2dsZSdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvcnRBY3Rpb24gPSAnYWRkJ1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOb3JtYWwgbW9kZVxuICAgICAgaWYgKGV4aXN0aW5nSW5kZXggIT09IHNvcnRCeS5sZW5ndGggLSAxKSB7XG4gICAgICAgIHNvcnRBY3Rpb24gPSAncmVwbGFjZSdcbiAgICAgIH0gZWxzZSBpZiAoZXhpc3RpbmdTb3J0QnkpIHtcbiAgICAgICAgc29ydEFjdGlvbiA9ICd0b2dnbGUnXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3J0QWN0aW9uID0gJ3JlcGxhY2UnXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHRvZ2dsZSBzdGF0ZXMgdGhhdCB3aWxsIHJlbW92ZSB0aGUgc29ydEJ5XG4gICAgaWYgKFxuICAgICAgc29ydEFjdGlvbiA9PT0gJ3RvZ2dsZScgJiYgLy8gTXVzdCBiZSB0b2dnbGluZ1xuICAgICAgIWRpc2FibGVTb3J0UmVtb3ZlICYmIC8vIElmIGRpc2FibGVTb3J0UmVtb3ZlLCBkaXNhYmxlIGluIGdlbmVyYWxcbiAgICAgICFoYXNEZXNjRGVmaW5lZCAmJiAvLyBNdXN0IG5vdCBiZSBzZXR0aW5nIGRlc2NcbiAgICAgIChtdWx0aSA/ICFkaXNhYmxlTXVsdGlSZW1vdmUgOiB0cnVlKSAmJiAvLyBJZiBtdWx0aSwgZG9uJ3QgYWxsb3cgaWYgZGlzYWJsZU11bHRpUmVtb3ZlXG4gICAgICAoKGV4aXN0aW5nU29ydEJ5ICYmIC8vIEZpbmFsbHksIGRldGVjdCBpZiBpdCBzaG91bGQgaW5kZWVkIGJlIHJlbW92ZWRcbiAgICAgICAgZXhpc3RpbmdTb3J0QnkuZGVzYyAmJlxuICAgICAgICAhc29ydERlc2NGaXJzdCkgfHxcbiAgICAgICAgKCFleGlzdGluZ1NvcnRCeS5kZXNjICYmIHNvcnREZXNjRmlyc3QpKVxuICAgICkge1xuICAgICAgc29ydEFjdGlvbiA9ICdyZW1vdmUnXG4gICAgfVxuXG4gICAgaWYgKHNvcnRBY3Rpb24gPT09ICdyZXBsYWNlJykge1xuICAgICAgbmV3U29ydEJ5ID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6IGNvbHVtbklkLFxuICAgICAgICAgIGRlc2M6IGhhc0Rlc2NEZWZpbmVkID8gZGVzYyA6IHNvcnREZXNjRmlyc3QsXG4gICAgICAgIH0sXG4gICAgICBdXG4gICAgfSBlbHNlIGlmIChzb3J0QWN0aW9uID09PSAnYWRkJykge1xuICAgICAgbmV3U29ydEJ5ID0gW1xuICAgICAgICAuLi5zb3J0QnksXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogY29sdW1uSWQsXG4gICAgICAgICAgZGVzYzogaGFzRGVzY0RlZmluZWQgPyBkZXNjIDogc29ydERlc2NGaXJzdCxcbiAgICAgICAgfSxcbiAgICAgIF1cbiAgICAgIC8vIFRha2UgbGF0ZXN0IG4gY29sdW1uc1xuICAgICAgbmV3U29ydEJ5LnNwbGljZSgwLCBuZXdTb3J0QnkubGVuZ3RoIC0gbWF4TXVsdGlTb3J0Q29sQ291bnQpXG4gICAgfSBlbHNlIGlmIChzb3J0QWN0aW9uID09PSAndG9nZ2xlJykge1xuICAgICAgLy8gVGhpcyBmbGlwcyAob3Igc2V0cykgdGhlXG4gICAgICBuZXdTb3J0QnkgPSBzb3J0QnkubWFwKGQgPT4ge1xuICAgICAgICBpZiAoZC5pZCA9PT0gY29sdW1uSWQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZCxcbiAgICAgICAgICAgIGRlc2M6IGhhc0Rlc2NEZWZpbmVkID8gZGVzYyA6ICFleGlzdGluZ1NvcnRCeS5kZXNjLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZFxuICAgICAgfSlcbiAgICB9IGVsc2UgaWYgKHNvcnRBY3Rpb24gPT09ICdyZW1vdmUnKSB7XG4gICAgICBuZXdTb3J0QnkgPSBzb3J0QnkuZmlsdGVyKGQgPT4gZC5pZCAhPT0gY29sdW1uSWQpXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc29ydEJ5OiBuZXdTb3J0QnksXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBkYXRhLFxuICAgIHJvd3MsXG4gICAgZmxhdENvbHVtbnMsXG4gICAgb3JkZXJCeUZuID0gZGVmYXVsdE9yZGVyQnlGbixcbiAgICBzb3J0VHlwZXM6IHVzZXJTb3J0VHlwZXMsXG4gICAgbWFudWFsU29ydEJ5LFxuICAgIGRlZmF1bHRDYW5Tb3J0LFxuICAgIGRpc2FibGVTb3J0QnksXG4gICAgZmxhdEhlYWRlcnMsXG4gICAgc3RhdGU6IHsgc29ydEJ5IH0sXG4gICAgZGlzcGF0Y2gsXG4gICAgcGx1Z2lucyxcbiAgICBhdXRvUmVzZXRTb3J0QnkgPSB0cnVlLFxuICB9ID0gaW5zdGFuY2VcblxuICBlbnN1cmVQbHVnaW5PcmRlcihwbHVnaW5zLCBbJ3VzZUZpbHRlcnMnXSwgJ3VzZVNvcnRCeScsIFtdKVxuXG4gIC8vIFVwZGF0ZXMgc29ydGluZyBiYXNlZCBvbiBhIGNvbHVtbklkLCBkZXNjIGZsYWcgYW5kIG11bHRpIGZsYWdcbiAgY29uc3QgdG9nZ2xlU29ydEJ5ID0gKGNvbHVtbklkLCBkZXNjLCBtdWx0aSkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVTb3J0QnksIGNvbHVtbklkLCBkZXNjLCBtdWx0aSB9KVxuICB9XG5cbiAgLy8gdXNlIHJlZmVyZW5jZSB0byBhdm9pZCBtZW1vcnkgbGVhayBpbiAjMTYwOFxuICBjb25zdCBnZXRJbnN0YW5jZSA9IHVzZUdldExhdGVzdChpbnN0YW5jZSlcblxuICBjb25zdCBnZXRTb3J0QnlUb2dnbGVQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0U29ydEJ5VG9nZ2xlUHJvcHMnXG4gIClcblxuICAvLyBBZGQgdGhlIGdldFNvcnRCeVRvZ2dsZVByb3BzIG1ldGhvZCB0byBjb2x1bW5zIGFuZCBoZWFkZXJzXG4gIGZsYXRIZWFkZXJzLmZvckVhY2goY29sdW1uID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBhY2Nlc3NvcixcbiAgICAgIGNhblNvcnQ6IGRlZmF1bHRDb2x1bW5DYW5Tb3J0LFxuICAgICAgZGlzYWJsZVNvcnRCeTogY29sdW1uRGlzYWJsZVNvcnRCeSxcbiAgICAgIGlkLFxuICAgIH0gPSBjb2x1bW5cblxuICAgIGNvbnN0IGNhblNvcnQgPSBhY2Nlc3NvclxuICAgICAgPyBnZXRGaXJzdERlZmluZWQoXG4gICAgICAgICAgY29sdW1uRGlzYWJsZVNvcnRCeSA9PT0gdHJ1ZSA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGRpc2FibGVTb3J0QnkgPT09IHRydWUgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgIDogZ2V0Rmlyc3REZWZpbmVkKGRlZmF1bHRDYW5Tb3J0LCBkZWZhdWx0Q29sdW1uQ2FuU29ydCwgZmFsc2UpXG5cbiAgICBjb2x1bW4uY2FuU29ydCA9IGNhblNvcnRcblxuICAgIGlmIChjb2x1bW4uY2FuU29ydCkge1xuICAgICAgY29sdW1uLnRvZ2dsZVNvcnRCeSA9IChkZXNjLCBtdWx0aSkgPT5cbiAgICAgICAgdG9nZ2xlU29ydEJ5KGNvbHVtbi5pZCwgZGVzYywgbXVsdGkpXG5cbiAgICAgIGNvbHVtbi5jbGVhclNvcnRCeSA9ICgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLmNsZWFyU29ydEJ5LCBjb2x1bW5JZDogY29sdW1uLmlkIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29sdW1uLmdldFNvcnRCeVRvZ2dsZVByb3BzID0gbWFrZVByb3BHZXR0ZXIoZ2V0U29ydEJ5VG9nZ2xlUHJvcHNIb29rcygpLCB7XG4gICAgICBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSxcbiAgICAgIGNvbHVtbixcbiAgICB9KVxuXG4gICAgY29uc3QgY29sdW1uU29ydCA9IHNvcnRCeS5maW5kKGQgPT4gZC5pZCA9PT0gaWQpXG4gICAgY29sdW1uLmlzU29ydGVkID0gISFjb2x1bW5Tb3J0XG4gICAgY29sdW1uLnNvcnRlZEluZGV4ID0gc29ydEJ5LmZpbmRJbmRleChkID0+IGQuaWQgPT09IGlkKVxuICAgIGNvbHVtbi5pc1NvcnRlZERlc2MgPSBjb2x1bW4uaXNTb3J0ZWQgPyBjb2x1bW5Tb3J0LmRlc2MgOiB1bmRlZmluZWRcbiAgfSlcblxuICBjb25zdCBzb3J0ZWRSb3dzID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKG1hbnVhbFNvcnRCeSB8fCAhc29ydEJ5Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHJvd3NcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXIgb3V0IHNvcnRCeXMgdGhhdCBjb3JyZXNwb25kIHRvIG5vbiBleGlzdGluZyBjb2x1bW5zXG4gICAgY29uc3QgYXZhaWxhYmxlU29ydEJ5ID0gc29ydEJ5LmZpbHRlcihzb3J0ID0+XG4gICAgICBmbGF0Q29sdW1ucy5maW5kKGNvbCA9PiBjb2wuaWQgPT09IHNvcnQuaWQpXG4gICAgKVxuXG4gICAgY29uc3Qgc29ydERhdGEgPSByb3dzID0+IHtcbiAgICAgIC8vIFVzZSB0aGUgb3JkZXJCeUZuIHRvIGNvbXBvc2UgbXVsdGlwbGUgc29ydEJ5J3MgdG9nZXRoZXIuXG4gICAgICAvLyBUaGlzIHdpbGwgYWxzbyBwZXJmb3JtIGEgc3RhYmxlIHNvcnRpbmcgdXNpbmcgdGhlIHJvdyBpbmRleFxuICAgICAgLy8gaWYgbmVlZGVkLlxuICAgICAgY29uc3Qgc29ydGVkRGF0YSA9IG9yZGVyQnlGbihcbiAgICAgICAgcm93cyxcbiAgICAgICAgYXZhaWxhYmxlU29ydEJ5Lm1hcChzb3J0ID0+IHtcbiAgICAgICAgICAvLyBTdXBwb3J0IGN1c3RvbSBzb3J0aW5nIG1ldGhvZHMgZm9yIGVhY2ggY29sdW1uXG4gICAgICAgICAgY29uc3QgY29sdW1uID0gZmxhdENvbHVtbnMuZmluZChkID0+IGQuaWQgPT09IHNvcnQuaWQpXG5cbiAgICAgICAgICBpZiAoIWNvbHVtbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgUmVhY3QtVGFibGU6IENvdWxkIG5vdCBmaW5kIGEgY29sdW1uIHdpdGggaWQ6ICR7c29ydC5pZH0gd2hpbGUgc29ydGluZ2BcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB7IHNvcnRUeXBlIH0gPSBjb2x1bW5cblxuICAgICAgICAgIC8vIExvb2sgdXAgc29ydEJ5IGZ1bmN0aW9ucyBpbiB0aGlzIG9yZGVyOlxuICAgICAgICAgIC8vIGNvbHVtbiBmdW5jdGlvblxuICAgICAgICAgIC8vIGNvbHVtbiBzdHJpbmcgbG9va3VwIG9uIHVzZXIgc29ydFR5cGVcbiAgICAgICAgICAvLyBjb2x1bW4gc3RyaW5nIGxvb2t1cCBvbiBidWlsdC1pbiBzb3J0VHlwZVxuICAgICAgICAgIC8vIGRlZmF1bHQgZnVuY3Rpb25cbiAgICAgICAgICAvLyBkZWZhdWx0IHN0cmluZyBsb29rdXAgb24gdXNlciBzb3J0VHlwZVxuICAgICAgICAgIC8vIGRlZmF1bHQgc3RyaW5nIGxvb2t1cCBvbiBidWlsdC1pbiBzb3J0VHlwZVxuICAgICAgICAgIGNvbnN0IHNvcnRNZXRob2QgPVxuICAgICAgICAgICAgaXNGdW5jdGlvbihzb3J0VHlwZSkgfHxcbiAgICAgICAgICAgICh1c2VyU29ydFR5cGVzIHx8IHt9KVtzb3J0VHlwZV0gfHxcbiAgICAgICAgICAgIHNvcnRUeXBlc1tzb3J0VHlwZV1cblxuICAgICAgICAgIGlmICghc29ydE1ldGhvZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgUmVhY3QtVGFibGU6IENvdWxkIG5vdCBmaW5kIGEgdmFsaWQgc29ydFR5cGUgb2YgJyR7c29ydFR5cGV9JyBmb3IgY29sdW1uICcke3NvcnQuaWR9Jy5gXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gUmV0dXJuIHRoZSBjb3JyZWN0IHNvcnRGbi5cbiAgICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHNob3VsZCBhbHdheXMgcmV0dXJuIGluIGFzY2VuZGluZyBvcmRlclxuICAgICAgICAgIHJldHVybiAoYSwgYikgPT4gc29ydE1ldGhvZChhLCBiLCBzb3J0LmlkKVxuICAgICAgICB9KSxcbiAgICAgICAgLy8gTWFwIHRoZSBkaXJlY3Rpb25zXG4gICAgICAgIGF2YWlsYWJsZVNvcnRCeS5tYXAoc29ydCA9PiB7XG4gICAgICAgICAgLy8gRGV0ZWN0IGFuZCB1c2UgdGhlIHNvcnRJbnZlcnRlZCBvcHRpb25cbiAgICAgICAgICBjb25zdCBjb2x1bW4gPSBmbGF0Q29sdW1ucy5maW5kKGQgPT4gZC5pZCA9PT0gc29ydC5pZClcblxuICAgICAgICAgIGlmIChjb2x1bW4gJiYgY29sdW1uLnNvcnRJbnZlcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNvcnQuZGVzY1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiAhc29ydC5kZXNjXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIC8vIElmIHRoZXJlIGFyZSBzdWItcm93cywgc29ydCB0aGVtXG4gICAgICBzb3J0ZWREYXRhLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgaWYgKCFyb3cuc3ViUm93cyB8fCByb3cuc3ViUm93cy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHJvdy5zdWJSb3dzID0gc29ydERhdGEocm93LnN1YlJvd3MpXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4gc29ydGVkRGF0YVxuICAgIH1cblxuICAgIHJldHVybiBzb3J0RGF0YShyb3dzKVxuICB9LCBbbWFudWFsU29ydEJ5LCBzb3J0QnksIHJvd3MsIGZsYXRDb2x1bW5zLCBvcmRlckJ5Rm4sIHVzZXJTb3J0VHlwZXNdKVxuXG4gIGNvbnN0IGdldEF1dG9SZXNldFNvcnRCeSA9IHVzZUdldExhdGVzdChhdXRvUmVzZXRTb3J0QnkpXG5cbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGdldEF1dG9SZXNldFNvcnRCeSgpKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMucmVzZXRTb3J0QnkgfSlcbiAgICB9XG4gIH0sIFttYW51YWxTb3J0QnkgPyBudWxsIDogZGF0YV0pXG5cbiAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgIHByZVNvcnRlZFJvd3M6IHJvd3MsXG4gICAgc29ydGVkUm93cyxcbiAgICByb3dzOiBzb3J0ZWRSb3dzLFxuICAgIHRvZ2dsZVNvcnRCeSxcbiAgfSlcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuLy9cblxuaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgZW5zdXJlUGx1Z2luT3JkZXIsXG4gIGV4cGFuZFJvd3MsXG4gIGZ1bmN0aW9uYWxVcGRhdGUsXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QsXG4gIHVzZUdldExhdGVzdCxcbn0gZnJvbSAnLi4vdXRpbHMnXG5cbmNvbnN0IHBsdWdpbk5hbWUgPSAndXNlUGFnaW5hdGlvbidcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5yZXNldFBhZ2UgPSAncmVzZXRQYWdlJ1xuYWN0aW9ucy5nb3RvUGFnZSA9ICdnb3RvUGFnZSdcbmFjdGlvbnMuc2V0UGFnZVNpemUgPSAnc2V0UGFnZVNpemUnXG5cbmV4cG9ydCBjb25zdCB1c2VQYWdpbmF0aW9uID0gaG9va3MgPT4ge1xuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlUGFnaW5hdGlvbi5wbHVnaW5OYW1lID0gcGx1Z2luTmFtZVxuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZ2VTaXplOiAxMCxcbiAgICAgIHBhZ2VJbmRleDogMCxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldFBhZ2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBwYWdlSW5kZXg6IGluc3RhbmNlLmluaXRpYWxTdGF0ZS5wYWdlSW5kZXggfHwgMCxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuZ290b1BhZ2UpIHtcbiAgICBjb25zdCB7IHBhZ2VDb3VudCB9ID0gaW5zdGFuY2VcbiAgICBjb25zdCBuZXdQYWdlSW5kZXggPSBmdW5jdGlvbmFsVXBkYXRlKGFjdGlvbi5wYWdlSW5kZXgsIHN0YXRlLnBhZ2VJbmRleClcblxuICAgIGlmIChuZXdQYWdlSW5kZXggPCAwIHx8IG5ld1BhZ2VJbmRleCA+IHBhZ2VDb3VudCAtIDEpIHtcbiAgICAgIHJldHVybiBzdGF0ZVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBwYWdlSW5kZXg6IG5ld1BhZ2VJbmRleCxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuc2V0UGFnZVNpemUpIHtcbiAgICBjb25zdCB7IHBhZ2VTaXplIH0gPSBhY3Rpb25cbiAgICBjb25zdCB0b3BSb3dJbmRleCA9IHN0YXRlLnBhZ2VTaXplICogc3RhdGUucGFnZUluZGV4XG4gICAgY29uc3QgcGFnZUluZGV4ID0gTWF0aC5mbG9vcih0b3BSb3dJbmRleCAvIHBhZ2VTaXplKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgcGFnZUluZGV4LFxuICAgICAgcGFnZVNpemUsXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICByb3dzLFxuICAgIGF1dG9SZXNldFBhZ2UgPSB0cnVlLFxuICAgIG1hbnVhbEV4cGFuZGVkS2V5ID0gJ2V4cGFuZGVkJyxcbiAgICBwbHVnaW5zLFxuICAgIHBhZ2VDb3VudDogdXNlclBhZ2VDb3VudCxcbiAgICBwYWdpbmF0ZUV4cGFuZGVkUm93cyA9IHRydWUsXG4gICAgZXhwYW5kU3ViUm93cyA9IHRydWUsXG4gICAgc3RhdGU6IHsgcGFnZVNpemUsIHBhZ2VJbmRleCwgZXhwYW5kZWQsIGZpbHRlcnMsIGdyb3VwQnksIHNvcnRCeSB9LFxuICAgIGRpc3BhdGNoLFxuICAgIGRhdGEsXG4gICAgbWFudWFsUGFnaW5hdGlvbixcbiAgICBtYW51YWxGaWx0ZXJzLFxuICAgIG1hbnVhbEdyb3VwQnksXG4gICAgbWFudWFsU29ydEJ5LFxuICB9ID0gaW5zdGFuY2VcblxuICBlbnN1cmVQbHVnaW5PcmRlcihcbiAgICBwbHVnaW5zLFxuICAgIFsndXNlRmlsdGVycycsICd1c2VHcm91cEJ5JywgJ3VzZVNvcnRCeScsICd1c2VFeHBhbmRlZCddLFxuICAgICd1c2VQYWdpbmF0aW9uJyxcbiAgICBbXVxuICApXG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0UGFnZSA9IHVzZUdldExhdGVzdChhdXRvUmVzZXRQYWdlKVxuXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRQYWdlKCkpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5yZXNldFBhZ2UgfSlcbiAgICB9XG4gIH0sIFtcbiAgICBkaXNwYXRjaCxcbiAgICBtYW51YWxQYWdpbmF0aW9uID8gbnVsbCA6IGRhdGEsXG4gICAgbWFudWFsUGFnaW5hdGlvbiB8fCBtYW51YWxGaWx0ZXJzID8gbnVsbCA6IGZpbHRlcnMsXG4gICAgbWFudWFsUGFnaW5hdGlvbiB8fCBtYW51YWxHcm91cEJ5ID8gbnVsbCA6IGdyb3VwQnksXG4gICAgbWFudWFsUGFnaW5hdGlvbiB8fCBtYW51YWxTb3J0QnkgPyBudWxsIDogc29ydEJ5LFxuICBdKVxuXG4gIGNvbnN0IHBhZ2VDb3VudCA9IG1hbnVhbFBhZ2luYXRpb25cbiAgICA/IHVzZXJQYWdlQ291bnRcbiAgICA6IE1hdGguY2VpbChyb3dzLmxlbmd0aCAvIHBhZ2VTaXplKVxuXG4gIGNvbnN0IHBhZ2VPcHRpb25zID0gUmVhY3QudXNlTWVtbyhcbiAgICAoKSA9PiAocGFnZUNvdW50ID4gMCA/IFsuLi5uZXcgQXJyYXkocGFnZUNvdW50KV0ubWFwKChkLCBpKSA9PiBpKSA6IFtdKSxcbiAgICBbcGFnZUNvdW50XVxuICApXG5cbiAgY29uc3QgcGFnZSA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBwYWdlXG5cbiAgICBpZiAobWFudWFsUGFnaW5hdGlvbikge1xuICAgICAgcGFnZSA9IHJvd3NcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcGFnZVN0YXJ0ID0gcGFnZVNpemUgKiBwYWdlSW5kZXhcbiAgICAgIGNvbnN0IHBhZ2VFbmQgPSBwYWdlU3RhcnQgKyBwYWdlU2l6ZVxuXG4gICAgICBwYWdlID0gcm93cy5zbGljZShwYWdlU3RhcnQsIHBhZ2VFbmQpXG4gICAgfVxuXG4gICAgaWYgKHBhZ2luYXRlRXhwYW5kZWRSb3dzKSB7XG4gICAgICByZXR1cm4gcGFnZVxuICAgIH1cblxuICAgIHJldHVybiBleHBhbmRSb3dzKHBhZ2UsIHsgbWFudWFsRXhwYW5kZWRLZXksIGV4cGFuZGVkLCBleHBhbmRTdWJSb3dzIH0pXG4gIH0sIFtcbiAgICBleHBhbmRTdWJSb3dzLFxuICAgIGV4cGFuZGVkLFxuICAgIG1hbnVhbEV4cGFuZGVkS2V5LFxuICAgIG1hbnVhbFBhZ2luYXRpb24sXG4gICAgcGFnZUluZGV4LFxuICAgIHBhZ2VTaXplLFxuICAgIHBhZ2luYXRlRXhwYW5kZWRSb3dzLFxuICAgIHJvd3MsXG4gIF0pXG5cbiAgY29uc3QgY2FuUHJldmlvdXNQYWdlID0gcGFnZUluZGV4ID4gMFxuICBjb25zdCBjYW5OZXh0UGFnZSA9IHBhZ2VDb3VudCA9PT0gLTEgfHwgcGFnZUluZGV4IDwgcGFnZUNvdW50IC0gMVxuXG4gIGNvbnN0IGdvdG9QYWdlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgcGFnZUluZGV4ID0+IHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5nb3RvUGFnZSwgcGFnZUluZGV4IH0pXG4gICAgfSxcbiAgICBbZGlzcGF0Y2hdXG4gIClcblxuICBjb25zdCBwcmV2aW91c1BhZ2UgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGdvdG9QYWdlKG9sZCA9PiBvbGQgLSAxKVxuICB9LCBbZ290b1BhZ2VdKVxuXG4gIGNvbnN0IG5leHRQYWdlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBnb3RvUGFnZShvbGQgPT4gb2xkICsgMSlcbiAgfSwgW2dvdG9QYWdlXSlcblxuICBjb25zdCBzZXRQYWdlU2l6ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIHBhZ2VTaXplID0+IHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5zZXRQYWdlU2l6ZSwgcGFnZVNpemUgfSlcbiAgICB9LFxuICAgIFtkaXNwYXRjaF1cbiAgKVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBwYWdlT3B0aW9ucyxcbiAgICBwYWdlQ291bnQsXG4gICAgcGFnZSxcbiAgICBjYW5QcmV2aW91c1BhZ2UsXG4gICAgY2FuTmV4dFBhZ2UsXG4gICAgZ290b1BhZ2UsXG4gICAgcHJldmlvdXNQYWdlLFxuICAgIG5leHRQYWdlLFxuICAgIHNldFBhZ2VTaXplLFxuICB9KVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICBtYWtlUHJvcEdldHRlcixcbiAgZW5zdXJlUGx1Z2luT3JkZXIsXG4gIHVzZUdldExhdGVzdCxcbiAgdXNlTW91bnRlZExheW91dEVmZmVjdCxcbiAgdXNlQ29uc3VtZUhvb2tHZXR0ZXIsXG59IGZyb20gJy4uL3V0aWxzJ1xuXG5jb25zdCBwbHVnaW5OYW1lID0gJ3VzZVJvd1NlbGVjdCdcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5yZXNldFNlbGVjdGVkUm93cyA9ICdyZXNldFNlbGVjdGVkUm93cydcbmFjdGlvbnMudG9nZ2xlQWxsUm93c1NlbGVjdGVkID0gJ3RvZ2dsZUFsbFJvd3NTZWxlY3RlZCdcbmFjdGlvbnMudG9nZ2xlUm93U2VsZWN0ZWQgPSAndG9nZ2xlUm93U2VsZWN0ZWQnXG5cbmV4cG9ydCBjb25zdCB1c2VSb3dTZWxlY3QgPSBob29rcyA9PiB7XG4gIGhvb2tzLmdldFRvZ2dsZVJvd1NlbGVjdGVkUHJvcHMgPSBbZGVmYXVsdEdldFRvZ2dsZVJvd1NlbGVjdGVkUHJvcHNdXG4gIGhvb2tzLmdldFRvZ2dsZUFsbFJvd3NTZWxlY3RlZFByb3BzID0gW2RlZmF1bHRHZXRUb2dnbGVBbGxSb3dzU2VsZWN0ZWRQcm9wc11cbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLnVzZVJvd3MucHVzaCh1c2VSb3dzKVxuICBob29rcy51c2VJbnN0YW5jZS5wdXNoKHVzZUluc3RhbmNlKVxufVxuXG51c2VSb3dTZWxlY3QucGx1Z2luTmFtZSA9IHBsdWdpbk5hbWVcblxuY29uc3QgZGVmYXVsdEdldFRvZ2dsZVJvd1NlbGVjdGVkUHJvcHMgPSAocHJvcHMsIHsgaW5zdGFuY2UsIHJvdyB9KSA9PiB7XG4gIGNvbnN0IHsgbWFudWFsUm93U2VsZWN0ZWRLZXkgPSAnaXNTZWxlY3RlZCcgfSA9IGluc3RhbmNlXG4gIGxldCBjaGVja2VkID0gZmFsc2VcblxuICBpZiAocm93Lm9yaWdpbmFsICYmIHJvdy5vcmlnaW5hbFttYW51YWxSb3dTZWxlY3RlZEtleV0pIHtcbiAgICBjaGVja2VkID0gdHJ1ZVxuICB9IGVsc2Uge1xuICAgIGNoZWNrZWQgPSByb3cuaXNTZWxlY3RlZFxuICB9XG5cbiAgcmV0dXJuIFtcbiAgICBwcm9wcyxcbiAgICB7XG4gICAgICBvbkNoYW5nZTogZSA9PiB7XG4gICAgICAgIHJvdy50b2dnbGVSb3dTZWxlY3RlZChlLnRhcmdldC5jaGVja2VkKVxuICAgICAgfSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgfSxcbiAgICAgIGNoZWNrZWQsXG4gICAgICB0aXRsZTogJ1RvZ2dsZSBSb3cgU2VsZWN0ZWQnLFxuICAgICAgaW5kZXRlcm1pbmF0ZTogcm93LmlzU29tZVNlbGVjdGVkLFxuICAgIH0sXG4gIF1cbn1cblxuY29uc3QgZGVmYXVsdEdldFRvZ2dsZUFsbFJvd3NTZWxlY3RlZFByb3BzID0gKHByb3BzLCB7IGluc3RhbmNlIH0pID0+IFtcbiAgcHJvcHMsXG4gIHtcbiAgICBvbkNoYW5nZTogZSA9PiB7XG4gICAgICBpbnN0YW5jZS50b2dnbGVBbGxSb3dzU2VsZWN0ZWQoZS50YXJnZXQuY2hlY2tlZClcbiAgICB9LFxuICAgIHN0eWxlOiB7XG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICB9LFxuICAgIGNoZWNrZWQ6IGluc3RhbmNlLmlzQWxsUm93c1NlbGVjdGVkLFxuICAgIHRpdGxlOiAnVG9nZ2xlIEFsbCBSb3dzIFNlbGVjdGVkJyxcbiAgICBpbmRldGVybWluYXRlOiBCb29sZWFuKFxuICAgICAgIWluc3RhbmNlLmlzQWxsUm93c1NlbGVjdGVkICYmXG4gICAgICAgIE9iamVjdC5rZXlzKGluc3RhbmNlLnN0YXRlLnNlbGVjdGVkUm93SWRzKS5sZW5ndGhcbiAgICApLFxuICB9LFxuXVxuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24sIHByZXZpb3VzU3RhdGUsIGluc3RhbmNlKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5pbml0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbGVjdGVkUm93SWRzOiB7fSxcbiAgICAgIC4uLnN0YXRlLFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5yZXNldFNlbGVjdGVkUm93cykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNlbGVjdGVkUm93SWRzOiBpbnN0YW5jZS5pbml0aWFsU3RhdGUuc2VsZWN0ZWRSb3dJZHMgfHwge30sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnRvZ2dsZUFsbFJvd3NTZWxlY3RlZCkge1xuICAgIGNvbnN0IHsgc2VsZWN0ZWQgfSA9IGFjdGlvblxuICAgIGNvbnN0IHsgaXNBbGxSb3dzU2VsZWN0ZWQsIGZsYXRSb3dzQnlJZCB9ID0gaW5zdGFuY2VcblxuICAgIGNvbnN0IHNlbGVjdEFsbCA9XG4gICAgICB0eXBlb2Ygc2VsZWN0ZWQgIT09ICd1bmRlZmluZWQnID8gc2VsZWN0ZWQgOiAhaXNBbGxSb3dzU2VsZWN0ZWRcblxuICAgIGlmIChzZWxlY3RBbGwpIHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkUm93SWRzID0ge31cblxuICAgICAgT2JqZWN0LmtleXMoZmxhdFJvd3NCeUlkKS5mb3JFYWNoKHJvd0lkID0+IHtcbiAgICAgICAgc2VsZWN0ZWRSb3dJZHNbcm93SWRdID0gdHJ1ZVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHNlbGVjdGVkUm93SWRzLFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNlbGVjdGVkUm93SWRzOiB7fSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMudG9nZ2xlUm93U2VsZWN0ZWQpIHtcbiAgICBjb25zdCB7IGlkLCBzZWxlY3RlZCB9ID0gYWN0aW9uXG4gICAgY29uc3QgeyBmbGF0R3JvdXBlZFJvd3NCeUlkIH0gPSBpbnN0YW5jZVxuXG4gICAgLy8gSm9pbiB0aGUgaWRzIG9mIGRlZXAgcm93c1xuICAgIC8vIHRvIG1ha2UgYSBrZXksIHRoZW4gbWFuYWdlIGFsbCBvZiB0aGUga2V5c1xuICAgIC8vIGluIGEgZmxhdCBvYmplY3RcbiAgICBjb25zdCByb3cgPSBmbGF0R3JvdXBlZFJvd3NCeUlkW2lkXVxuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSByb3cuaXNTZWxlY3RlZFxuICAgIGNvbnN0IHNob3VsZEV4aXN0ID0gdHlwZW9mIHNlbGVjdGVkICE9PSAndW5kZWZpbmVkJyA/IHNlbGVjdGVkIDogIWlzU2VsZWN0ZWRcblxuICAgIGlmIChpc1NlbGVjdGVkID09PSBzaG91bGRFeGlzdCkge1xuICAgICAgcmV0dXJuIHN0YXRlXG4gICAgfVxuXG4gICAgbGV0IG5ld1NlbGVjdGVkUm93SWRzID0geyAuLi5zdGF0ZS5zZWxlY3RlZFJvd0lkcyB9XG5cbiAgICBjb25zdCBoYW5kbGVSb3dCeUlkID0gaWQgPT4ge1xuICAgICAgY29uc3Qgcm93ID0gZmxhdEdyb3VwZWRSb3dzQnlJZFtpZF1cblxuICAgICAgaWYgKCFyb3cuaXNHcm91cGVkKSB7XG4gICAgICAgIGlmICghaXNTZWxlY3RlZCAmJiBzaG91bGRFeGlzdCkge1xuICAgICAgICAgIG5ld1NlbGVjdGVkUm93SWRzW2lkXSA9IHRydWVcbiAgICAgICAgfSBlbHNlIGlmIChpc1NlbGVjdGVkICYmICFzaG91bGRFeGlzdCkge1xuICAgICAgICAgIGRlbGV0ZSBuZXdTZWxlY3RlZFJvd0lkc1tpZF1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocm93LnN1YlJvd3MpIHtcbiAgICAgICAgcmV0dXJuIHJvdy5zdWJSb3dzLmZvckVhY2gocm93ID0+IGhhbmRsZVJvd0J5SWQocm93LmlkKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVSb3dCeUlkKGlkKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc2VsZWN0ZWRSb3dJZHM6IG5ld1NlbGVjdGVkUm93SWRzLFxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VSb3dzKHJvd3MsIHsgaW5zdGFuY2UgfSkge1xuICBjb25zdCB7XG4gICAgc3RhdGU6IHsgc2VsZWN0ZWRSb3dJZHMgfSxcbiAgfSA9IGluc3RhbmNlXG5cbiAgaW5zdGFuY2Uuc2VsZWN0ZWRGbGF0Um93cyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkRmxhdFJvd3MgPSBbXVxuXG4gICAgcm93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gZ2V0Um93SXNTZWxlY3RlZChyb3csIHNlbGVjdGVkUm93SWRzKVxuICAgICAgcm93LmlzU2VsZWN0ZWQgPSAhIWlzU2VsZWN0ZWRcbiAgICAgIHJvdy5pc1NvbWVTZWxlY3RlZCA9IGlzU2VsZWN0ZWQgPT09IG51bGxcblxuICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgc2VsZWN0ZWRGbGF0Um93cy5wdXNoKHJvdylcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIHNlbGVjdGVkRmxhdFJvd3NcbiAgfSwgW3Jvd3MsIHNlbGVjdGVkUm93SWRzXSlcblxuICByZXR1cm4gcm93c1xufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7XG4gICAgZGF0YSxcbiAgICBob29rcyxcbiAgICBwbHVnaW5zLFxuICAgIGZsYXRSb3dzLFxuICAgIGF1dG9SZXNldFNlbGVjdGVkUm93cyA9IHRydWUsXG4gICAgc3RhdGU6IHsgc2VsZWN0ZWRSb3dJZHMgfSxcbiAgICBkaXNwYXRjaCxcbiAgfSA9IGluc3RhbmNlXG5cbiAgZW5zdXJlUGx1Z2luT3JkZXIoXG4gICAgcGx1Z2lucyxcbiAgICBbJ3VzZUZpbHRlcnMnLCAndXNlR3JvdXBCeScsICd1c2VTb3J0QnknXSxcbiAgICAndXNlUm93U2VsZWN0JyxcbiAgICBbXVxuICApXG5cbiAgY29uc3QgW2ZsYXRSb3dzQnlJZCwgZmxhdEdyb3VwZWRSb3dzQnlJZF0gPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBhbGwgPSB7fVxuICAgIGNvbnN0IGdyb3VwZWQgPSB7fVxuXG4gICAgZmxhdFJvd3MuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgaWYgKCFyb3cuaXNHcm91cGVkKSB7XG4gICAgICAgIGFsbFtyb3cuaWRdID0gcm93XG4gICAgICB9XG4gICAgICBncm91cGVkW3Jvdy5pZF0gPSByb3dcbiAgICB9KVxuXG4gICAgcmV0dXJuIFthbGwsIGdyb3VwZWRdXG4gIH0sIFtmbGF0Um93c10pXG5cbiAgbGV0IGlzQWxsUm93c1NlbGVjdGVkID0gQm9vbGVhbihcbiAgICBPYmplY3Qua2V5cyhmbGF0Um93c0J5SWQpLmxlbmd0aCAmJiBPYmplY3Qua2V5cyhzZWxlY3RlZFJvd0lkcykubGVuZ3RoXG4gIClcblxuICBpZiAoaXNBbGxSb3dzU2VsZWN0ZWQpIHtcbiAgICBpZiAoT2JqZWN0LmtleXMoZmxhdFJvd3NCeUlkKS5zb21lKGlkID0+ICFzZWxlY3RlZFJvd0lkc1tpZF0pKSB7XG4gICAgICBpc0FsbFJvd3NTZWxlY3RlZCA9IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2V0QXV0b1Jlc2V0U2VsZWN0ZWRSb3dzID0gdXNlR2V0TGF0ZXN0KGF1dG9SZXNldFNlbGVjdGVkUm93cylcblxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZ2V0QXV0b1Jlc2V0U2VsZWN0ZWRSb3dzKCkpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5yZXNldFNlbGVjdGVkUm93cyB9KVxuICAgIH1cbiAgfSwgW2Rpc3BhdGNoLCBkYXRhXSlcblxuICBjb25zdCB0b2dnbGVBbGxSb3dzU2VsZWN0ZWQgPSBzZWxlY3RlZCA9PlxuICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVBbGxSb3dzU2VsZWN0ZWQsIHNlbGVjdGVkIH0pXG5cbiAgY29uc3QgdG9nZ2xlUm93U2VsZWN0ZWQgPSAoaWQsIHNlbGVjdGVkKSA9PlxuICAgIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy50b2dnbGVSb3dTZWxlY3RlZCwgaWQsIHNlbGVjdGVkIH0pXG5cbiAgY29uc3QgZ2V0SW5zdGFuY2UgPSB1c2VHZXRMYXRlc3QoaW5zdGFuY2UpXG5cbiAgY29uc3QgZ2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkUHJvcHNIb29rcyA9IHVzZUNvbnN1bWVIb29rR2V0dGVyKFxuICAgIGdldEluc3RhbmNlKCkuaG9va3MsXG4gICAgJ2dldFRvZ2dsZUFsbFJvd3NTZWxlY3RlZFByb3BzJ1xuICApXG5cbiAgY29uc3QgZ2V0VG9nZ2xlQWxsUm93c1NlbGVjdGVkUHJvcHMgPSBtYWtlUHJvcEdldHRlcihcbiAgICBnZXRUb2dnbGVBbGxSb3dzU2VsZWN0ZWRQcm9wc0hvb2tzKCksXG4gICAgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSB9XG4gIClcblxuICBjb25zdCBnZXRUb2dnbGVSb3dTZWxlY3RlZFByb3BzSG9va3MgPSB1c2VDb25zdW1lSG9va0dldHRlcihcbiAgICBnZXRJbnN0YW5jZSgpLmhvb2tzLFxuICAgICdnZXRUb2dnbGVSb3dTZWxlY3RlZFByb3BzJ1xuICApXG5cbiAgaG9va3MucHJlcGFyZVJvdy5wdXNoKHJvdyA9PiB7XG4gICAgcm93LnRvZ2dsZVJvd1NlbGVjdGVkID0gc2V0ID0+IHRvZ2dsZVJvd1NlbGVjdGVkKHJvdy5pZCwgc2V0KVxuXG4gICAgcm93LmdldFRvZ2dsZVJvd1NlbGVjdGVkUHJvcHMgPSBtYWtlUHJvcEdldHRlcihcbiAgICAgIGdldFRvZ2dsZVJvd1NlbGVjdGVkUHJvcHNIb29rcygpLFxuICAgICAgeyBpbnN0YW5jZTogZ2V0SW5zdGFuY2UoKSwgcm93IH1cbiAgICApXG4gIH0pXG5cbiAgT2JqZWN0LmFzc2lnbihpbnN0YW5jZSwge1xuICAgIGZsYXRSb3dzQnlJZCxcbiAgICBmbGF0R3JvdXBlZFJvd3NCeUlkLFxuICAgIHRvZ2dsZVJvd1NlbGVjdGVkLFxuICAgIHRvZ2dsZUFsbFJvd3NTZWxlY3RlZCxcbiAgICBnZXRUb2dnbGVBbGxSb3dzU2VsZWN0ZWRQcm9wcyxcbiAgICBpc0FsbFJvd3NTZWxlY3RlZCxcbiAgfSlcbn1cblxuZnVuY3Rpb24gZ2V0Um93SXNTZWxlY3RlZChyb3csIHNlbGVjdGVkUm93SWRzKSB7XG4gIGlmIChzZWxlY3RlZFJvd0lkc1tyb3cuaWRdKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGlmIChyb3cuc3ViUm93cyAmJiByb3cuc3ViUm93cy5sZW5ndGgpIHtcbiAgICBsZXQgYWxsQ2hpbGRyZW5TZWxlY3RlZCA9IHRydWVcbiAgICBsZXQgc29tZVNlbGVjdGVkID0gZmFsc2VcblxuICAgIHJvdy5zdWJSb3dzLmZvckVhY2goc3ViUm93ID0+IHtcbiAgICAgIC8vIEJhaWwgb3V0IGVhcmx5IGlmIHdlIGtub3cgYm90aCBvZiB0aGVzZVxuICAgICAgaWYgKHNvbWVTZWxlY3RlZCAmJiAhYWxsQ2hpbGRyZW5TZWxlY3RlZCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKGdldFJvd0lzU2VsZWN0ZWQoc3ViUm93LCBzZWxlY3RlZFJvd0lkcykpIHtcbiAgICAgICAgc29tZVNlbGVjdGVkID0gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxsQ2hpbGRyZW5TZWxlY3RlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gYWxsQ2hpbGRyZW5TZWxlY3RlZCA/IHRydWUgOiBzb21lU2VsZWN0ZWQgPyBudWxsIDogZmFsc2VcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQge1xuICBhY3Rpb25zLFxuICBmdW5jdGlvbmFsVXBkYXRlLFxuICB1c2VNb3VudGVkTGF5b3V0RWZmZWN0LFxuICB1c2VHZXRMYXRlc3QsXG59IGZyb20gJy4uL3V0aWxzJ1xuXG4vLyBBY3Rpb25zXG5hY3Rpb25zLnNldFJvd1N0YXRlID0gJ3NldFJvd1N0YXRlJ1xuYWN0aW9ucy5yZXNldFJvd1N0YXRlID0gJ3Jlc2V0Um93U3RhdGUnXG5cbmV4cG9ydCBjb25zdCB1c2VSb3dTdGF0ZSA9IGhvb2tzID0+IHtcbiAgaG9va3Muc3RhdGVSZWR1Y2Vycy5wdXNoKHJlZHVjZXIpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG59XG5cbnVzZVJvd1N0YXRlLnBsdWdpbk5hbWUgPSAndXNlUm93U3RhdGUnXG5cbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbiwgcHJldmlvdXNTdGF0ZSwgaW5zdGFuY2UpIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm93U3RhdGU6IHt9LFxuICAgICAgLi4uc3RhdGUsXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnJlc2V0Um93U3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICByb3dTdGF0ZTogaW5zdGFuY2UuaW5pdGlhbFN0YXRlLnJvd1N0YXRlIHx8IHt9LFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5zZXRSb3dTdGF0ZSkge1xuICAgIGNvbnN0IHsgaWQsIHZhbHVlIH0gPSBhY3Rpb25cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHJvd1N0YXRlOiB7XG4gICAgICAgIC4uLnN0YXRlLnJvd1N0YXRlLFxuICAgICAgICBbaWRdOiBmdW5jdGlvbmFsVXBkYXRlKHZhbHVlLCBzdGF0ZS5yb3dTdGF0ZVtpZF0gfHwge30pLFxuICAgICAgfSxcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGhvb2tzLFxuICAgIGluaXRpYWxSb3dTdGF0ZUFjY2Vzc29yLFxuICAgIGF1dG9SZXNldFJvd1N0YXRlID0gdHJ1ZSxcbiAgICBzdGF0ZTogeyByb3dTdGF0ZSB9LFxuICAgIGRhdGEsXG4gICAgZGlzcGF0Y2gsXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGNvbnN0IHNldFJvd1N0YXRlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGlkLCB2YWx1ZSwgY29sdW1uSWQpID0+XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IGFjdGlvbnMuc2V0Um93U3RhdGUsXG4gICAgICAgIGlkLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgY29sdW1uSWQsXG4gICAgICB9KSxcbiAgICBbZGlzcGF0Y2hdXG4gIClcblxuICBjb25zdCBzZXRDZWxsU3RhdGUgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAocm93UGF0aCwgY29sdW1uSWQsIHZhbHVlKSA9PiB7XG4gICAgICByZXR1cm4gc2V0Um93U3RhdGUoXG4gICAgICAgIHJvd1BhdGgsXG4gICAgICAgIG9sZCA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLm9sZCxcbiAgICAgICAgICAgIGNlbGxTdGF0ZToge1xuICAgICAgICAgICAgICAuLi5vbGQuY2VsbFN0YXRlLFxuICAgICAgICAgICAgICBbY29sdW1uSWRdOiBmdW5jdGlvbmFsVXBkYXRlKFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIChvbGQuY2VsbFN0YXRlIHx8IHt9KVtjb2x1bW5JZF0gfHwge31cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb2x1bW5JZFxuICAgICAgKVxuICAgIH0sXG4gICAgW3NldFJvd1N0YXRlXVxuICApXG5cbiAgaG9va3MucHJlcGFyZVJvdy5wdXNoKHJvdyA9PiB7XG4gICAgaWYgKHJvdy5vcmlnaW5hbCkge1xuICAgICAgcm93LnN0YXRlID1cbiAgICAgICAgKHR5cGVvZiByb3dTdGF0ZVtyb3cuaWRdICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgID8gcm93U3RhdGVbcm93LmlkXVxuICAgICAgICAgIDogaW5pdGlhbFJvd1N0YXRlQWNjZXNzb3IgJiYgaW5pdGlhbFJvd1N0YXRlQWNjZXNzb3Iocm93KSkgfHwge31cblxuICAgICAgcm93LnNldFN0YXRlID0gdXBkYXRlciA9PiB7XG4gICAgICAgIHJldHVybiBzZXRSb3dTdGF0ZShyb3cuaWQsIHVwZGF0ZXIpXG4gICAgICB9XG5cbiAgICAgIHJvdy5jZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgICBjZWxsLnN0YXRlID0gcm93LnN0YXRlLmNlbGxTdGF0ZSB8fCB7fVxuXG4gICAgICAgIGNlbGwuc2V0U3RhdGUgPSB1cGRhdGVyID0+IHtcbiAgICAgICAgICByZXR1cm4gc2V0Q2VsbFN0YXRlKHJvdy5pZCwgY2VsbC5jb2x1bW4uaWQsIHVwZGF0ZXIpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9KVxuXG4gIGNvbnN0IGdldEF1dG9SZXNldFJvd1N0YXRlID0gdXNlR2V0TGF0ZXN0KGF1dG9SZXNldFJvd1N0YXRlKVxuXG4gIHVzZU1vdW50ZWRMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChnZXRBdXRvUmVzZXRSb3dTdGF0ZSgpKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IGFjdGlvbnMucmVzZXRSb3dTdGF0ZSB9KVxuICAgIH1cbiAgfSwgW2RhdGFdKVxuXG4gIE9iamVjdC5hc3NpZ24oaW5zdGFuY2UsIHtcbiAgICBzZXRSb3dTdGF0ZSxcbiAgICBzZXRDZWxsU3RhdGUsXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IGZ1bmN0aW9uYWxVcGRhdGUsIGFjdGlvbnMgfSBmcm9tICcuLi91dGlscydcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5yZXNldENvbHVtbk9yZGVyID0gJ3Jlc2V0Q29sdW1uT3JkZXInXG5hY3Rpb25zLnNldENvbHVtbk9yZGVyID0gJ3NldENvbHVtbk9yZGVyJ1xuXG5leHBvcnQgY29uc3QgdXNlQ29sdW1uT3JkZXIgPSBob29rcyA9PiB7XG4gIGhvb2tzLnN0YXRlUmVkdWNlcnMucHVzaChyZWR1Y2VyKVxuICBob29rcy5mbGF0Q29sdW1uc0RlcHMucHVzaCgoZGVwcywgeyBpbnN0YW5jZSB9KSA9PiB7XG4gICAgcmV0dXJuIFsuLi5kZXBzLCBpbnN0YW5jZS5zdGF0ZS5jb2x1bW5PcmRlcl1cbiAgfSlcbiAgaG9va3MuZmxhdENvbHVtbnMucHVzaChmbGF0Q29sdW1ucylcbiAgaG9va3MudXNlSW5zdGFuY2UucHVzaCh1c2VJbnN0YW5jZSlcbn1cblxudXNlQ29sdW1uT3JkZXIucGx1Z2luTmFtZSA9ICd1c2VDb2x1bW5PcmRlcidcblxuZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSwgYWN0aW9uLCBwcmV2aW91c1N0YXRlLCBpbnN0YW5jZSkge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuaW5pdCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb2x1bW5PcmRlcjogW10sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMucmVzZXRDb2x1bW5PcmRlcikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGNvbHVtbk9yZGVyOiBpbnN0YW5jZS5pbml0aWFsU3RhdGUuY29sdW1uT3JkZXIgfHwgW10sXG4gICAgfVxuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLnNldENvbHVtbk9yZGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgY29sdW1uT3JkZXI6IGZ1bmN0aW9uYWxVcGRhdGUoYWN0aW9uLmNvbHVtbk9yZGVyLCBzdGF0ZS5jb2x1bW5PcmRlciksXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZsYXRDb2x1bW5zKFxuICBjb2x1bW5zLFxuICB7XG4gICAgaW5zdGFuY2U6IHtcbiAgICAgIHN0YXRlOiB7IGNvbHVtbk9yZGVyIH0sXG4gICAgfSxcbiAgfVxuKSB7XG4gIC8vIElmIHRoZXJlIGlzIG5vIG9yZGVyLCByZXR1cm4gdGhlIG5vcm1hbCBjb2x1bW5zXG4gIGlmICghY29sdW1uT3JkZXIgfHwgIWNvbHVtbk9yZGVyLmxlbmd0aCkge1xuICAgIHJldHVybiBjb2x1bW5zXG4gIH1cblxuICBjb25zdCBjb2x1bW5PcmRlckNvcHkgPSBbLi4uY29sdW1uT3JkZXJdXG5cbiAgLy8gSWYgdGhlcmUgaXMgYW4gb3JkZXIsIG1ha2UgYSBjb3B5IG9mIHRoZSBjb2x1bW5zXG4gIGNvbnN0IGNvbHVtbnNDb3B5ID0gWy4uLmNvbHVtbnNdXG5cbiAgLy8gQW5kIG1ha2UgYSBuZXcgb3JkZXJlZCBhcnJheSBvZiB0aGUgY29sdW1uc1xuICBjb25zdCBjb2x1bW5zSW5PcmRlciA9IFtdXG5cbiAgLy8gTG9vcCBvdmVyIHRoZSBjb2x1bW5zIGFuZCBwbGFjZSB0aGVtIGluIG9yZGVyIGludG8gdGhlIG5ldyBhcnJheVxuICB3aGlsZSAoY29sdW1uc0NvcHkubGVuZ3RoICYmIGNvbHVtbk9yZGVyQ29weS5sZW5ndGgpIHtcbiAgICBjb25zdCB0YXJnZXRDb2x1bW5JZCA9IGNvbHVtbk9yZGVyQ29weS5zaGlmdCgpXG4gICAgY29uc3QgZm91bmRJbmRleCA9IGNvbHVtbnNDb3B5LmZpbmRJbmRleChkID0+IGQuaWQgPT09IHRhcmdldENvbHVtbklkKVxuICAgIGlmIChmb3VuZEluZGV4ID4gLTEpIHtcbiAgICAgIGNvbHVtbnNJbk9yZGVyLnB1c2goY29sdW1uc0NvcHkuc3BsaWNlKGZvdW5kSW5kZXgsIDEpWzBdKVxuICAgIH1cbiAgfVxuXG4gIC8vIElmIHRoZXJlIGFyZSBhbnkgY29sdW1ucyBsZWZ0LCBhZGQgdGhlbSB0byB0aGUgZW5kXG4gIHJldHVybiBbLi4uY29sdW1uc0luT3JkZXIsIC4uLmNvbHVtbnNDb3B5XVxufVxuXG5mdW5jdGlvbiB1c2VJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCB7IGRpc3BhdGNoIH0gPSBpbnN0YW5jZVxuXG4gIGluc3RhbmNlLnNldENvbHVtbk9yZGVyID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgY29sdW1uT3JkZXIgPT4ge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoKHsgdHlwZTogYWN0aW9ucy5zZXRDb2x1bW5PcmRlciwgY29sdW1uT3JkZXIgfSlcbiAgICB9LFxuICAgIFtkaXNwYXRjaF1cbiAgKVxufVxuIiwiaW1wb3J0IHtcbiAgYWN0aW9ucyxcbiAgZGVmYXVsdENvbHVtbixcbiAgZ2V0Rmlyc3REZWZpbmVkLFxuICBtYWtlUHJvcEdldHRlcixcbiAgdXNlR2V0TGF0ZXN0LFxufSBmcm9tICcuLi91dGlscydcbmltcG9ydCB7IHVzZUNvbnN1bWVIb29rR2V0dGVyIH0gZnJvbSAnLi4vcHVibGljVXRpbHMnXG5cbi8vIERlZmF1bHQgQ29sdW1uXG5kZWZhdWx0Q29sdW1uLmNhblJlc2l6ZSA9IHRydWVcblxuLy8gQWN0aW9uc1xuYWN0aW9ucy5jb2x1bW5TdGFydFJlc2l6aW5nID0gJ2NvbHVtblN0YXJ0UmVzaXppbmcnXG5hY3Rpb25zLmNvbHVtblJlc2l6aW5nID0gJ2NvbHVtblJlc2l6aW5nJ1xuYWN0aW9ucy5jb2x1bW5Eb25lUmVzaXppbmcgPSAnY29sdW1uRG9uZVJlc2l6aW5nJ1xuXG5leHBvcnQgY29uc3QgdXNlUmVzaXplQ29sdW1ucyA9IGhvb2tzID0+IHtcbiAgaG9va3MuZ2V0UmVzaXplclByb3BzID0gW2RlZmF1bHRHZXRSZXNpemVyUHJvcHNdXG4gIGhvb2tzLmdldEhlYWRlclByb3BzLnB1c2goe1xuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICB9LFxuICB9KVxuICBob29rcy5zdGF0ZVJlZHVjZXJzLnB1c2gocmVkdWNlcilcbiAgaG9va3MudXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zLnB1c2godXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zKVxufVxuXG5jb25zdCBkZWZhdWx0R2V0UmVzaXplclByb3BzID0gKHByb3BzLCB7IGluc3RhbmNlLCBoZWFkZXIgfSkgPT4ge1xuICBjb25zdCB7IGRpc3BhdGNoIH0gPSBpbnN0YW5jZVxuXG4gIGNvbnN0IG9uUmVzaXplU3RhcnQgPSAoZSwgaGVhZGVyKSA9PiB7XG4gICAgbGV0IGlzVG91Y2hFdmVudCA9IGZhbHNlXG4gICAgaWYgKGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG4gICAgICAvLyBsZXRzIG5vdCByZXNwb25kIHRvIG11bHRpcGxlIHRvdWNoZXMgKGUuZy4gMiBvciAzIGZpbmdlcnMpXG4gICAgICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaXNUb3VjaEV2ZW50ID0gdHJ1ZVxuICAgIH1cbiAgICBjb25zdCBoZWFkZXJzVG9SZXNpemUgPSBnZXRMZWFmSGVhZGVycyhoZWFkZXIpXG4gICAgY29uc3QgaGVhZGVySWRXaWR0aHMgPSBoZWFkZXJzVG9SZXNpemUubWFwKGQgPT4gW2QuaWQsIGQudG90YWxXaWR0aF0pXG5cbiAgICBjb25zdCBjbGllbnRYID0gaXNUb3VjaEV2ZW50ID8gTWF0aC5yb3VuZChlLnRvdWNoZXNbMF0uY2xpZW50WCkgOiBlLmNsaWVudFhcblxuICAgIGNvbnN0IGRpc3BhdGNoTW92ZSA9IGNsaWVudFhQb3MgPT4ge1xuICAgICAgZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLmNvbHVtblJlc2l6aW5nLCBjbGllbnRYOiBjbGllbnRYUG9zIH0pXG4gICAgfVxuICAgIGNvbnN0IGRpc3BhdGNoRW5kID0gKCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBhY3Rpb25zLmNvbHVtbkRvbmVSZXNpemluZyB9KVxuXG4gICAgY29uc3QgaGFuZGxlcnNBbmRFdmVudHMgPSB7XG4gICAgICBtb3VzZToge1xuICAgICAgICBtb3ZlRXZlbnQ6ICdtb3VzZW1vdmUnLFxuICAgICAgICBtb3ZlSGFuZGxlcjogZSA9PiBkaXNwYXRjaE1vdmUoZS5jbGllbnRYKSxcbiAgICAgICAgdXBFdmVudDogJ21vdXNldXAnLFxuICAgICAgICB1cEhhbmRsZXI6IGUgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgIGhhbmRsZXJzQW5kRXZlbnRzLm1vdXNlLm1vdmVIYW5kbGVyXG4gICAgICAgICAgKVxuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAnbW91c2V1cCcsXG4gICAgICAgICAgICBoYW5kbGVyc0FuZEV2ZW50cy5tb3VzZS51cEhhbmRsZXJcbiAgICAgICAgICApXG4gICAgICAgICAgZGlzcGF0Y2hFbmQoKVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHRvdWNoOiB7XG4gICAgICAgIG1vdmVFdmVudDogJ3RvdWNobW92ZScsXG4gICAgICAgIG1vdmVIYW5kbGVyOiBlID0+IHtcbiAgICAgICAgICBpZiAoZS5jYW5jZWxhYmxlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICB9XG4gICAgICAgICAgZGlzcGF0Y2hNb3ZlKGUudG91Y2hlc1swXS5jbGllbnRYKVxuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB1cEV2ZW50OiAndG91Y2hlbmQnLFxuICAgICAgICB1cEhhbmRsZXI6IGUgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBoYW5kbGVyc0FuZEV2ZW50cy50b3VjaC5tb3ZlRXZlbnQsXG4gICAgICAgICAgICBoYW5kbGVyc0FuZEV2ZW50cy50b3VjaC5tb3ZlSGFuZGxlclxuICAgICAgICAgIClcbiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgaGFuZGxlcnNBbmRFdmVudHMudG91Y2gudXBFdmVudCxcbiAgICAgICAgICAgIGhhbmRsZXJzQW5kRXZlbnRzLnRvdWNoLm1vdmVIYW5kbGVyXG4gICAgICAgICAgKVxuICAgICAgICAgIGRpc3BhdGNoRW5kKClcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfVxuXG4gICAgY29uc3QgZXZlbnRzID0gaXNUb3VjaEV2ZW50XG4gICAgICA/IGhhbmRsZXJzQW5kRXZlbnRzLnRvdWNoXG4gICAgICA6IGhhbmRsZXJzQW5kRXZlbnRzLm1vdXNlXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMubW92ZUV2ZW50LCBldmVudHMubW92ZUhhbmRsZXIsIHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgIH0pXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMudXBFdmVudCwgZXZlbnRzLnVwSGFuZGxlciwge1xuICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgfSlcblxuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IGFjdGlvbnMuY29sdW1uU3RhcnRSZXNpemluZyxcbiAgICAgIGNvbHVtbklkOiBoZWFkZXIuaWQsXG4gICAgICBjb2x1bW5XaWR0aDogaGVhZGVyLnRvdGFsV2lkdGgsXG4gICAgICBoZWFkZXJJZFdpZHRocyxcbiAgICAgIGNsaWVudFgsXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiBbXG4gICAgcHJvcHMsXG4gICAge1xuICAgICAgb25Nb3VzZURvd246IGUgPT4gZS5wZXJzaXN0KCkgfHwgb25SZXNpemVTdGFydChlLCBoZWFkZXIpLFxuICAgICAgb25Ub3VjaFN0YXJ0OiBlID0+IGUucGVyc2lzdCgpIHx8IG9uUmVzaXplU3RhcnQoZSwgaGVhZGVyKSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGN1cnNvcjogJ2V3LXJlc2l6ZScsXG4gICAgICB9LFxuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICB9LFxuICBdXG59XG5cbnVzZVJlc2l6ZUNvbHVtbnMucGx1Z2luTmFtZSA9ICd1c2VSZXNpemVDb2x1bW5zJ1xuXG5mdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBhY3Rpb25zLmluaXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29sdW1uUmVzaXppbmc6IHtcbiAgICAgICAgY29sdW1uV2lkdGhzOiB7fSxcbiAgICAgIH0sXG4gICAgICAuLi5zdGF0ZSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuY29sdW1uU3RhcnRSZXNpemluZykge1xuICAgIGNvbnN0IHsgY2xpZW50WCwgY29sdW1uSWQsIGNvbHVtbldpZHRoLCBoZWFkZXJJZFdpZHRocyB9ID0gYWN0aW9uXG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBjb2x1bW5SZXNpemluZzoge1xuICAgICAgICAuLi5zdGF0ZS5jb2x1bW5SZXNpemluZyxcbiAgICAgICAgc3RhcnRYOiBjbGllbnRYLFxuICAgICAgICBoZWFkZXJJZFdpZHRocyxcbiAgICAgICAgY29sdW1uV2lkdGgsXG4gICAgICAgIGlzUmVzaXppbmdDb2x1bW46IGNvbHVtbklkLFxuICAgICAgfSxcbiAgICB9XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IGFjdGlvbnMuY29sdW1uUmVzaXppbmcpIHtcbiAgICBjb25zdCB7IGNsaWVudFggfSA9IGFjdGlvblxuICAgIGNvbnN0IHsgc3RhcnRYLCBjb2x1bW5XaWR0aCwgaGVhZGVySWRXaWR0aHMgfSA9IHN0YXRlLmNvbHVtblJlc2l6aW5nXG5cbiAgICBjb25zdCBkZWx0YVggPSBjbGllbnRYIC0gc3RhcnRYXG4gICAgY29uc3QgcGVyY2VudGFnZURlbHRhWCA9IGRlbHRhWCAvIGNvbHVtbldpZHRoXG5cbiAgICBjb25zdCBuZXdDb2x1bW5XaWR0aHMgPSB7fVxuXG4gICAgaGVhZGVySWRXaWR0aHMuZm9yRWFjaCgoW2hlYWRlcklkLCBoZWFkZXJXaWR0aF0pID0+IHtcbiAgICAgIG5ld0NvbHVtbldpZHRoc1toZWFkZXJJZF0gPSBNYXRoLm1heChcbiAgICAgICAgaGVhZGVyV2lkdGggKyBoZWFkZXJXaWR0aCAqIHBlcmNlbnRhZ2VEZWx0YVgsXG4gICAgICAgIDBcbiAgICAgIClcbiAgICB9KVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgY29sdW1uUmVzaXppbmc6IHtcbiAgICAgICAgLi4uc3RhdGUuY29sdW1uUmVzaXppbmcsXG4gICAgICAgIGNvbHVtbldpZHRoczoge1xuICAgICAgICAgIC4uLnN0YXRlLmNvbHVtblJlc2l6aW5nLmNvbHVtbldpZHRocyxcbiAgICAgICAgICAuLi5uZXdDb2x1bW5XaWR0aHMsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gYWN0aW9ucy5jb2x1bW5Eb25lUmVzaXppbmcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBjb2x1bW5SZXNpemluZzoge1xuICAgICAgICAuLi5zdGF0ZS5jb2x1bW5SZXNpemluZyxcbiAgICAgICAgc3RhcnRYOiBudWxsLFxuICAgICAgICBpc1Jlc2l6aW5nQ29sdW1uOiBudWxsLFxuICAgICAgfSxcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgdXNlSW5zdGFuY2VCZWZvcmVEaW1lbnNpb25zID0gaW5zdGFuY2UgPT4ge1xuICBjb25zdCB7XG4gICAgZmxhdEhlYWRlcnMsXG4gICAgZGlzYWJsZVJlc2l6aW5nLFxuICAgIHN0YXRlOiB7IGNvbHVtblJlc2l6aW5nIH0sXG4gIH0gPSBpbnN0YW5jZVxuXG4gIGNvbnN0IGdldEluc3RhbmNlID0gdXNlR2V0TGF0ZXN0KGluc3RhbmNlKVxuXG4gIGNvbnN0IGdldFJlc2l6ZXJQcm9wc0hvb2tzID0gdXNlQ29uc3VtZUhvb2tHZXR0ZXIoXG4gICAgZ2V0SW5zdGFuY2UoKS5ob29rcyxcbiAgICAnZ2V0UmVzaXplclByb3BzJ1xuICApXG5cbiAgZmxhdEhlYWRlcnMuZm9yRWFjaChoZWFkZXIgPT4ge1xuICAgIGNvbnN0IGNhblJlc2l6ZSA9IGdldEZpcnN0RGVmaW5lZChcbiAgICAgIGhlYWRlci5kaXNhYmxlUmVzaXppbmcgPT09IHRydWUgPyBmYWxzZSA6IHVuZGVmaW5lZCxcbiAgICAgIGRpc2FibGVSZXNpemluZyA9PT0gdHJ1ZSA/IGZhbHNlIDogdW5kZWZpbmVkLFxuICAgICAgdHJ1ZVxuICAgIClcblxuICAgIGhlYWRlci5jYW5SZXNpemUgPSBjYW5SZXNpemVcbiAgICBoZWFkZXIud2lkdGggPSBjb2x1bW5SZXNpemluZy5jb2x1bW5XaWR0aHNbaGVhZGVyLmlkXSB8fCBoZWFkZXIud2lkdGhcbiAgICBoZWFkZXIuaXNSZXNpemluZyA9IGNvbHVtblJlc2l6aW5nLmlzUmVzaXppbmdDb2x1bW4gPT09IGhlYWRlci5pZFxuXG4gICAgaWYgKGNhblJlc2l6ZSkge1xuICAgICAgaGVhZGVyLmdldFJlc2l6ZXJQcm9wcyA9IG1ha2VQcm9wR2V0dGVyKGdldFJlc2l6ZXJQcm9wc0hvb2tzKCksIHtcbiAgICAgICAgaW5zdGFuY2U6IGdldEluc3RhbmNlKCksXG4gICAgICAgIGhlYWRlcixcbiAgICAgIH0pXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBnZXRMZWFmSGVhZGVycyhoZWFkZXIpIHtcbiAgY29uc3QgbGVhZkhlYWRlcnMgPSBbXVxuICBjb25zdCByZWN1cnNlSGVhZGVyID0gaGVhZGVyID0+IHtcbiAgICBpZiAoaGVhZGVyLmNvbHVtbnMgJiYgaGVhZGVyLmNvbHVtbnMubGVuZ3RoKSB7XG4gICAgICBoZWFkZXIuY29sdW1ucy5tYXAocmVjdXJzZUhlYWRlcilcbiAgICB9XG4gICAgbGVhZkhlYWRlcnMucHVzaChoZWFkZXIpXG4gIH1cbiAgcmVjdXJzZUhlYWRlcihoZWFkZXIpXG4gIHJldHVybiBsZWFmSGVhZGVyc1xufVxuIiwiaW1wb3J0IHsgZW5zdXJlUGx1Z2luT3JkZXIgfSBmcm9tICcuLi91dGlscydcblxuY29uc3QgY2VsbFN0eWxlcyA9IHtcbiAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gIHRvcDogMCxcbn1cblxuZXhwb3J0IGNvbnN0IHVzZUFic29sdXRlTGF5b3V0ID0gaG9va3MgPT4ge1xuICBob29rcy5nZXRUYWJsZUJvZHlQcm9wcy5wdXNoKGdldFJvd1N0eWxlcylcbiAgaG9va3MuZ2V0Um93UHJvcHMucHVzaChnZXRSb3dTdHlsZXMpXG4gIGhvb2tzLmdldEhlYWRlckdyb3VwUHJvcHMucHVzaChnZXRSb3dTdHlsZXMpXG4gIGhvb2tzLnVzZUluc3RhbmNlLnB1c2godXNlSW5zdGFuY2UpXG5cbiAgaG9va3MuZ2V0SGVhZGVyUHJvcHMucHVzaCgocHJvcHMsIHsgY29sdW1uIH0pID0+IFtcbiAgICBwcm9wcyxcbiAgICB7XG4gICAgICBzdHlsZToge1xuICAgICAgICAuLi5jZWxsU3R5bGVzLFxuICAgICAgICBsZWZ0OiBgJHtjb2x1bW4udG90YWxMZWZ0fXB4YCxcbiAgICAgICAgd2lkdGg6IGAke2NvbHVtbi50b3RhbFdpZHRofXB4YCxcbiAgICAgIH0sXG4gICAgfSxcbiAgXSlcblxuICBob29rcy5nZXRDZWxsUHJvcHMucHVzaCgocHJvcHMsIHsgY2VsbCB9KSA9PiBbXG4gICAgcHJvcHMsXG4gICAge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgLi4uY2VsbFN0eWxlcyxcbiAgICAgICAgbGVmdDogYCR7Y2VsbC5jb2x1bW4udG90YWxMZWZ0fXB4YCxcbiAgICAgICAgd2lkdGg6IGAke2NlbGwuY29sdW1uLnRvdGFsV2lkdGh9cHhgLFxuICAgICAgfSxcbiAgICB9LFxuICBdKVxufVxuXG51c2VBYnNvbHV0ZUxheW91dC5wbHVnaW5OYW1lID0gJ3VzZUFic29sdXRlTGF5b3V0J1xuXG5jb25zdCBnZXRSb3dTdHlsZXMgPSAocHJvcHMsIHsgaW5zdGFuY2UgfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIHN0eWxlOiB7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHdpZHRoOiBgJHtpbnN0YW5jZS50b3RhbENvbHVtbnNXaWR0aH1weGAsXG4gICAgfSxcbiAgfSxcbl1cblxuZnVuY3Rpb24gdXNlSW5zdGFuY2UoeyBwbHVnaW5zIH0pIHtcbiAgZW5zdXJlUGx1Z2luT3JkZXIocGx1Z2lucywgW10sIHVzZUFic29sdXRlTGF5b3V0LnBsdWdpbk5hbWUsIFtcbiAgICAndXNlUmVzaXplQ29sdW1ucycsXG4gIF0pXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gdXNlRmxleExheW91dChob29rcykge1xuICBob29rcy5nZXRUYWJsZUJvZHlQcm9wcy5wdXNoKGdldFRhYmxlQm9keVByb3BzKVxuICBob29rcy5nZXRSb3dQcm9wcy5wdXNoKGdldFJvd1N0eWxlcylcbiAgaG9va3MuZ2V0SGVhZGVyR3JvdXBQcm9wcy5wdXNoKGdldFJvd1N0eWxlcylcbiAgaG9va3MuZ2V0SGVhZGVyUHJvcHMucHVzaChnZXRIZWFkZXJQcm9wcylcbiAgaG9va3MuZ2V0Q2VsbFByb3BzLnB1c2goZ2V0Q2VsbFByb3BzKVxufVxuXG51c2VGbGV4TGF5b3V0LnBsdWdpbk5hbWUgPSAndXNlRmxleExheW91dCdcblxuY29uc3QgZ2V0VGFibGVCb2R5UHJvcHMgPSAocHJvcHMsIHsgaW5zdGFuY2UgfSkgPT4gW1xuICBwcm9wcyxcbiAge1xuICAgIHN0eWxlOiB7XG4gICAgICBtaW5XaWR0aDogYCR7aW5zdGFuY2UudG90YWxDb2x1bW5zV2lkdGh9cHhgLFxuICAgIH0sXG4gIH0sXG5dXG5cbmNvbnN0IGdldFJvd1N0eWxlcyA9IChwcm9wcywgeyBpbnN0YW5jZSB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgc3R5bGU6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGZsZXg6ICcxIDAgYXV0bycsXG4gICAgICBtaW5XaWR0aDogYCR7aW5zdGFuY2UudG90YWxDb2x1bW5zTWluV2lkdGh9cHhgLFxuICAgIH0sXG4gIH0sXG5dXG5cbmNvbnN0IGdldEhlYWRlclByb3BzID0gKHByb3BzLCB7IGNvbHVtbiB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgc3R5bGU6IHtcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgZmxleDogYCR7Y29sdW1uLnRvdGFsV2lkdGh9IDAgYXV0b2AsXG4gICAgICBtaW5XaWR0aDogYCR7Y29sdW1uLnRvdGFsTWluV2lkdGh9cHhgLFxuICAgICAgd2lkdGg6IGAke2NvbHVtbi50b3RhbFdpZHRofXB4YCxcbiAgICB9LFxuICB9LFxuXVxuXG5jb25zdCBnZXRDZWxsUHJvcHMgPSAocHJvcHMsIHsgY2VsbCB9KSA9PiBbXG4gIHByb3BzLFxuICB7XG4gICAgc3R5bGU6IHtcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgZmxleDogYCR7Y2VsbC5jb2x1bW4udG90YWxXaWR0aH0gMCBhdXRvYCxcbiAgICAgIG1pbldpZHRoOiBgJHtjZWxsLmNvbHVtbi50b3RhbE1pbldpZHRofXB4YCxcbiAgICAgIHdpZHRoOiBgJHtjZWxsLmNvbHVtbi50b3RhbFdpZHRofXB4YCxcbiAgICB9LFxuICB9LFxuXVxuIiwiLyogZXNsaW50LWRpc2FibGUganN4LWExMXkvbm8tc3RhdGljLWVsZW1lbnQtaW50ZXJhY3Rpb25zICovXG4vKiBlc2xpbnQtZGlzYWJsZSBqc3gtYTExeS9jbGljay1ldmVudHMtaGF2ZS1rZXktZXZlbnRzICovXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9qc3gtcHJvcHMtbm8tc3ByZWFkaW5nICovXG5pbXBvcnQgeyBoLCBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBtZW1vIH0gZnJvbSBcInByZWFjdC9jb21wYXRcIlxuaW1wb3J0IHtcbiAgICB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYsIHVzZUNhbGxiYWNrLFxufSBmcm9tICdwcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgc3R5bGVkIH0gZnJvbSBcIkBua3NhcmFmL2dvb2JlclwiXG5pbXBvcnQgcmVnaXN0ZXIgZnJvbSAncHJlYWN0LWN1c3RvbS1lbGVtZW50JztcbmltcG9ydCB7IHVzZVRhYmxlLCB1c2VQYWdpbmF0aW9uIH0gZnJvbSAncmVhY3QtdGFibGUnXG5pbXBvcnQgQXBwIGZyb20gJy4uLy4uL0FwcCc7XG5pbXBvcnQgdXNlQ3VzdG9tRXZlbnQgZnJvbSAnLi4vLi4vdXRpbHMvdXNlQ3VzdG9tRXZlbnQnO1xuaW1wb3J0IFNrZWxldG9uIGZyb20gXCIuLi9Ta2VsZXRvblwiO1xuXG5jb25zdCBkdW1teUNvbHVtbnMgPSBuZXcgQXJyYXkoNCkuZmlsbCh7fSkubWFwKChpdGVtLCBpKSA9PiAoeyBhY2Nlc3NvcjogYCR7aX1gIH0pKTtcbmNvbnN0IGR1bW15RGF0YSA9IG5ldyBBcnJheSg0KS5maWxsKHt9KTtcblxuXG5jb25zdCBUYWJsZUNvbXA6IEZ1bmN0aW9uQ29tcG9uZW50PHsgZGF0YTogc3RyaW5nLCBjb2x1bW5zOiBzdHJpbmd9PiA9ICh7IGRhdGEsIGNvbHVtbnMgfSkgPT4ge1xuICAgIGNvbnN0IFtkYXRhU3RhdGUsIHNldERhdGFdID0gdXNlU3RhdGUoZHVtbXlEYXRhKTtcbiAgICBjb25zdCBbY29sdW1uc1N0YXRlLCBzZXRDb2x1bW5zXSA9IHVzZVN0YXRlKGR1bW15Q29sdW1ucyk7XG4gICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW3BhZ2VDb3VudCwgc2V0UGFnZUNvdW50XSA9IHVzZVN0YXRlKDApO1xuXG5cbiAgICBjb25zdCBydW4gPSB1c2VDYWxsYmFjaygoeyBwYXJzZWREYXRhLCBwYXJzZWRDb2x1bW5zIH0pID0+IHtcbiAgICAgICAgc2V0RGF0YShwYXJzZWREYXRhKTtcbiAgICAgICAgc2V0Q29sdW1ucyhwYXJzZWRDb2x1bW5zKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICB9LCBbZGF0YVN0YXRlLCBjb2x1bW5zU3RhdGUsIGxvYWRpbmddKVxuXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZGF0YSAmJiBjb2x1bW5zKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWREYXRhOiBBcnJheTxhbnk+ID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZENvbHVtbnM6IEFycmF5PGFueT4gPSBKU09OLnBhcnNlKGNvbHVtbnMpO1xuICAgICAgICAgICAgcnVuKHsgcGFyc2VkRGF0YSwgcGFyc2VkQ29sdW1ucyB9KVxuICAgICAgIH1cbiAgICB9LCBbZGF0YSwgY29sdW1uc10pO1xuXG5cbiAgICByZXR1cm4gKFxuICAgICAgPEFwcD5cbiAgICAgICAgPFRhYmxlXG4gICAgICAgICAgY29sdW1ucz17Y29sdW1uc1N0YXRlfVxuICAgICAgICAgIGRhdGE9e2RhdGFTdGF0ZX1cbiAgICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgIHBhZ2VDb3VudD17cGFnZUNvdW50fVxuICAgICAgICAvPlxuICAgICAgPC9BcHA+XG4gICAgKVxuICAgIH1cblxuXG5jb25zdCBUYWJsZSA9IG1lbW8oKHByb3BzKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgICBjb2x1bW5zLCBkYXRhLCBsb2FkaW5nLCBwYWdlQ291bnQsIHBhZ2VDb3VudDogY29udHJvbGxlZFBhZ2VDb3VudCxcbn0gPSBwcm9wcztcblxuICAgIGNvbnN0IHtcbiAgICAgICAgZ2V0VGFibGVQcm9wcyxcbiAgICAgICAgZ2V0VGFibGVCb2R5UHJvcHMsXG4gICAgICAgIGhlYWRlckdyb3VwcyxcbiAgICAgICAgcGFnZSxcbiAgICAgICAgcHJlcGFyZVJvdyxcbiAgICAgICAgc2V0UGFnZVNpemUsXG4gICAgICAgIHN0YXRlOiB7IHBhZ2VJbmRleCwgcGFnZVNpemUgfSxcbiAgICB9ID0gdXNlVGFibGUoe1xuICAgICAgICBjb2x1bW5zLFxuICAgICAgICBkYXRhLFxuICAgICAgICBpbml0aWFsU3RhdGU6IHsgcGFnZUluZGV4OiAwLCBwYWdlU2l6ZTogMTAgfSxcbiAgICAgICAgbWFudWFsUGFnaW5hdGlvbjogdHJ1ZSxcbiAgICAgICAgcGFnZUNvdW50OiBjb250cm9sbGVkUGFnZUNvdW50LFxuICAgIH0sIHVzZVBhZ2luYXRpb24pO1xuXG4gICAgY29uc3QgY29tcG9uZW50UmVmID0gdXNlUmVmPEhUTUxUYWJsZUVsZW1lbnQ+KCk7XG4gICAgY29uc3QgZGlzcGF0Y2hFdmVudCA9IHVzZUN1c3RvbUV2ZW50KHtcbiAgICAgICAgcmVmOiBjb21wb25lbnRSZWYsXG4gICAgICAgIGV2ZW50TmFtZTogJ3RhYmxlUm93Q2xpY2tlZCcsXG4gICAgfSk7XG5cblxuICAgIHJldHVybiAoXG5cbiAgICAgIDxTdHlsZXM+XG4gICAgICAgIDxkaXYgcmVmPXtjb21wb25lbnRSZWZ9IHsuLi5nZXRUYWJsZVByb3BzKCl9IGNsYXNzTmFtZT1cInRhYmxlXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIHtoZWFkZXJHcm91cHMubWFwKChoZWFkZXJHcm91cCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17aGVhZGVyR3JvdXAuaWR9IHsuLi5oZWFkZXJHcm91cC5nZXRIZWFkZXJHcm91cFByb3BzKCl9IGNsYXNzTmFtZT1cInRyIGhlYWRlclwiPlxuICAgICAgICAgICAgICAgIHtoZWFkZXJHcm91cC5oZWFkZXJzLm1hcCgoY29sdW1uKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGtleT17Y29sdW1uLmlkfSB7Li4uY29sdW1uLmdldEhlYWRlclByb3BzKCl9IGNsYXNzTmFtZT1cInRoXCI+XG4gICAgICAgICAgICAgICAgICAgIHshbG9hZGluZyAmJiBjb2x1bW4ucmVuZGVyKCdIZWFkZXInKX1cblxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiB7Li4uZ2V0VGFibGVCb2R5UHJvcHMoKX0+XG4gICAgICAgICAgICB7cGFnZS5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJvdykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVwYXJlUm93KHJvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBvbkNsaWNrPXsoKSA9PiBkaXNwYXRjaEV2ZW50KHJvdy52YWx1ZXMpfSBrZXk9e3Jvdy5pZH0gey4uLnJvdy5nZXRSb3dQcm9wcygpfSBjbGFzc05hbWU9XCJ0clwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Jvdy5jZWxscy5tYXAoKGNlbGwpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2NlbGwudmFsdWV9IHsuLi5jZWxsLmdldENlbGxQcm9wcygpfSBjbGFzc05hbWU9XCJ0ZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsb2FkaW5nID8gPFNrZWxldG9uIGhlaWdodD17MTZ9IC8+IDogY2VsbC5yZW5kZXIoJ0NlbGwnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1N0eWxlcz5cbiAgICApXG59KTtcblxuXG5jb25zdCBTdHlsZXMgPSBzdHlsZWQoXCJkaXZcIilgXG4gIC50YWJsZSB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGJhY2tncm91bmQ6ICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5jb2xvcnMuJEQ4MH07XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogOHB4O1xuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA4cHg7XG4gICAgYm94LXNoYWRvdzogMCAxcHggMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgICAudHIuaGVhZGVyIHtcbiAgICAgIGJhY2tncm91bmQ6ICR7KHByb3BzKSA9PiBwcm9wcy50aGVtZS5jb2xvcnMuJEI0MH07XG4gICAgICBoZWlnaHQ6IDQycHg7XG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLmNvbG9ycy4kQjQwfTtcbiAgICAgICAgY3Vyc29yOiBkZWZhdWx0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC50ciB7XG4gICAgICBoZWlnaHQ6IDU0cHg7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAkeyhwcm9wcykgPT4gcHJvcHMudGhlbWUuY29sb3JzLiRENjB9O1xuXG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLmNvbG9ycy4kQjUwfTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMTIwbXMgZWFzZTtcbiAgICAgIH1cblxuICAgICAgLnRoLFxuICAgICAgLnRkIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgIHBhZGRpbmc6IDAgMzBweCAwIDA7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICB9XG5cbiAgICAgIC50aDpmaXJzdC1jaGlsZCxcbiAgICAgIC50ZDpmaXJzdC1jaGlsZCB7XG4gICAgICAgIHBhZGRpbmc6IDAgMCAwIDMwcHg7XG4gICAgICB9XG4gICAgfVxuICB9XG5gO1xuXG5yZWdpc3RlcihUYWJsZUNvbXAsICd4LXRhYmxlJywgWydjb2x1bW5zJywgJ2RhdGEnXSk7XG4iXSwic291cmNlUm9vdCI6IiJ9